.\" Automatically generated by Pod::Man 4.14 (Pod::Simple 3.42)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is >0, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{\
.    if \nF \{\
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{\
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "VERILATOR 1"
.TH VERILATOR 1 "2023-01-23" "perl v5.34.0" "User Contributed Perl Documentation"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
Verilator \- Translate and simulate SystemVerilog code using C++/SystemC
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
.Vb 5
\&    verilator \-\-help
\&    verilator \-\-version
\&    verilator \-\-cc [options] [source_files.v]... [opt_c_files.cpp/c/cc/a/o/so]
\&    verilator \-\-sc [options] [source_files.v]... [opt_c_files.cpp/c/cc/a/o/so]
\&    verilator \-\-lint\-only \-Wall [source_files.v]...
.Ve
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
The \*(L"Verilator\*(R" package converts all synthesizable, and many behavioral,
Verilog and SystemVerilog designs into a \*(C+ or SystemC model that after
compiling can be executed.  Verilator is not a traditional simulator, but a
compiler.
.PP
Verilator is typically used as follows:
.PP
1. The \f(CW\*(C`verilator\*(C'\fR executable is invoked with parameters similar to \s-1GCC,\s0
Cadence Verilog\-XL/NC\-Verilog, or Synopsys \s-1VCS.\s0  \f(CW\*(C`verilator\*(C'\fR reads the
specified user's SystemVerilog code, lints it, optionally adds coverage and
waveform tracing support, and compiles the design into a source level \*(C+
or SystemC \*(L"model\*(R".  The resulting model's \*(C+ or SystemC code is output as
\&.cpp and .h files. This is referred to as \*(L"verilating\*(R" and the process is
\&\*(L"to verilate\*(R"; the output is a \*(L"verilated\*(R" model.
.PP
2. For simulation, a small user written \*(C+ wrapper file is required, the
\&\*(L"wrapper\*(R".  This wrapper defines the \*(C+ function `\fBmain()\fR` which
instantiates the Verilated model as a \*(C+/SystemC object.
.PP
3. The user main wrapper, the files created by Verilator, a \*(L"runtime
library\*(R" provided by Verilator, and if applicable the SystemC libraries are
then compiled using a \*(C+ compiler to create a simulation executable.
.PP
4. The resulting executable will perform the actual simulation, during
\&\*(L"simulation runtime\*(R".
.PP
To get started, jump down to the \*(L"\s-1EXAMPLE \*(C+ EXECUTION\*(R"\s0 section.
.SH "ARGUMENT SUMMARY"
.IX Header "ARGUMENT SUMMARY"
This is a short summary of the arguments to the \*(L"verilator\*(R" executable.
See \*(L"\s-1VERILATION ARGUMENTS\*(R"\s0 for the detailed descriptions of these
arguments.
.PP
.Vb 3
\&    {file.v}                    Verilog package, module and top module filenames
\&    {file.c/cc/cpp}             Optional C++ files to compile in
\&    {file.a/o/so}               Optional C++ files to link in
\&
\&     +1364\-1995ext+<ext>        Use Verilog 1995 with file extension <ext>
\&     +1364\-2001ext+<ext>        Use Verilog 2001 with file extension <ext>
\&     +1364\-2005ext+<ext>        Use Verilog 2005 with file extension <ext>
\&     +1800\-2005ext+<ext>        Use SystemVerilog 2005 with file extension <ext>
\&     +1800\-2009ext+<ext>        Use SystemVerilog 2009 with file extension <ext>
\&     +1800\-2012ext+<ext>        Use SystemVerilog 2012 with file extension <ext>
\&     +1800\-2017ext+<ext>        Use SystemVerilog 2017 with file extension <ext>
\&    \-\-assert                    Enable all assertions
\&    \-\-autoflush                 Flush streams after all $displays
\&    \-\-bbox\-sys                  Blackbox unknown $system calls
\&    \-\-bbox\-unsup                Blackbox unsupported language features
\&    \-\-bin <filename>            Override Verilator binary
\&    \-\-build                     Build model executable/library after Verilation
\&     \-CFLAGS <flags>            C++ compiler flags for makefile
\&    \-\-cc                        Create C++ output
\&    \-\-cdc                       Clock domain crossing analysis
\&    \-\-clk <signal\-name>         Mark specified signal as clock
\&    \-\-make <build\-tool>         Generate scripts for specified build tool
\&    \-\-compiler <compiler\-name>  Tune for specified C++ compiler
\&    \-\-converge\-limit <loops>    Tune convergence settle time
\&    \-\-coverage                  Enable all coverage
\&    \-\-coverage\-line             Enable line coverage
\&    \-\-coverage\-toggle           Enable toggle coverage
\&    \-\-coverage\-user             Enable SVL user coverage
\&    \-\-coverage\-underscore       Enable coverage of _signals
\&     \-D<var>[=<value>]          Set preprocessor define
\&    \-\-debug                     Enable debugging
\&    \-\-debug\-check               Enable debugging assertions
\&    \-\-no\-debug\-leak             Disable leaking memory in \-\-debug mode
\&    \-\-debugi <level>            Enable debugging at a specified level
\&    \-\-debugi\-<srcfile> <level>  Enable debugging a source file at a level
\&    \-\-default\-language <lang>   Default language to parse
\&     +define+<var>=<value>      Set preprocessor define
\&    \-\-dpi\-hdr\-only              Only produce the DPI header file
\&    \-\-dump\-defines              Show preprocessor defines with \-E
\&    \-\-dump\-tree                 Enable dumping .tree files
\&    \-\-dump\-treei <level>        Enable dumping .tree files at a level
\&    \-\-dump\-treei\-<srcfile> <level>  Enable dumping .tree file at a source file at a level
\&    \-\-dump\-tree\-addrids         Use short identifiers instead of addresses
\&     \-E                         Preprocess, but do not compile
\&    \-\-error\-limit <value>       Abort after this number of errors
\&    \-\-exe                       Link to create executable
\&     \-F <file>                  Parse options from a file, relatively
\&     \-f <file>                  Parse options from a file
\&     \-FI <file>                 Force include of a file
\&    \-\-flatten                   Force inlining of all modules, tasks and functions
\&     \-G<name>=<value>           Overwrite top\-level parameter
\&    \-\-gdb                       Run Verilator under GDB interactively
\&    \-\-gdbbt                     Run Verilator under GDB for backtrace
\&    \-\-generate\-key              Create random key for \-\-protect\-key
\&    \-\-getenv <var>              Get environment variable with defaults
\&    \-\-help                      Display this help
\&    \-\-hierarchical              Enable hierarchical Verilation
\&     \-I<dir>                    Directory to search for includes
\&     \-j <jobs>                  Parallelism for \-\-build
\&    \-\-gate\-stmts <value>        Tune gate optimizer depth
\&    \-\-if\-depth <value>          Tune IFDEPTH warning
\&     +incdir+<dir>              Directory to search for includes
\&    \-\-inhibit\-sim               Create function to turn off sim
\&    \-\-inline\-mult <value>       Tune module inlining
\&     \-LDFLAGS <flags>           Linker pre\-object flags for makefile
\&    \-\-l2\-name <value>           Verilog scope name of the top module
\&    \-\-language <lang>           Default language standard to parse
\&     +libext+<ext>+[ext]...     Extensions for finding modules
\&    \-\-lint\-only                 Lint, but do not make output
\&     \-MAKEFLAGS <flags>         Options to make during \-\-build
\&    \-\-max\-num\-width <value>     Maximum number width (default: 64K)
\&    \-\-MMD                       Create .d dependency files
\&    \-\-MP                        Create phony dependency targets
\&    \-\-Mdir <directory>          Name of output object directory
\&    \-\-mod\-prefix <topname>      Name to prepend to lower classes
\&    \-\-no\-clk <signal\-name>      Prevent marking specified signal as clock
\&    \-\-no\-decoration             Disable comments and symbol decorations
\&    \-\-no\-pins64                 Don\*(Aqt use vluint64_t\*(Aqs for 33\-64 bit sigs
\&    \-\-no\-skip\-identical         Disable skipping identical output
\&     +notimingchecks            Ignored
\&     \-O0                        Disable optimizations
\&     \-O3                        High performance optimizations
\&     \-O<optimization\-letter>    Selectable optimizations
\&     \-o <executable>            Name of final executable
\&    \-\-no\-order\-clock\-delay      Disable ordering clock enable assignments
\&    \-\-no\-verilate               Skip verilation and just compile previously Verilated code.
\&    \-\-output\-split <statements>          Split .cpp files into pieces
\&    \-\-output\-split\-cfuncs <statements>   Split model functions
\&    \-\-output\-split\-ctrace <statements>   Split tracing functions
\&     \-P                         Disable line numbers and blanks with \-E
\&    \-\-pins\-bv <bits>            Specify types for top level ports
\&    \-\-pins\-sc\-uint              Specify types for top level ports
\&    \-\-pins\-sc\-biguint           Specify types for top level ports
\&    \-\-pins\-uint8                Specify types for top level ports
\&    \-\-pipe\-filter <command>     Filter all input through a script
\&    \-\-pp\-comments               Show preprocessor comments with \-E
\&    \-\-prefix <topname>          Name of top level class
\&    \-\-prof\-cfuncs               Name functions for profiling
\&    \-\-prof\-threads              Enable generating gantt chart data for threads
\&    \-\-protect\-key <key>         Key for symbol protection
\&    \-\-protect\-ids               Hash identifier names for obscurity
\&    \-\-protect\-lib <name>        Create a DPI protected library
\&    \-\-private                   Debugging; see docs
\&    \-\-public                    Debugging; see docs
\&    \-\-public\-flat\-rw            Mark all variables, etc as public_flat_rw
\&     \-pvalue+<name>=<value>     Overwrite toplevel parameter
\&    \-\-quiet\-exit                Don\*(Aqt print the command on failure
\&    \-\-relative\-includes         Resolve includes relative to current file
\&    \-\-no\-relative\-cfuncs        Disallow \*(Aqthis\->\*(Aq in generated functions
\&    \-\-report\-unoptflat          Extra diagnostics for UNOPTFLAT
\&    \-\-rr                        Run Verilator and record with rr
\&    \-\-savable                   Enable model save\-restore
\&    \-\-sc                        Create SystemC output
\&    \-\-stats                     Create statistics file
\&    \-\-stats\-vars                Provide statistics on variables
\&     \-sv                        Enable SystemVerilog parsing
\&     +systemverilogext+<ext>    Synonym for +1800\-2017ext+<ext>
\&    \-\-threads <threads>         Enable multithreading
\&    \-\-threads\-dpi <mode>        Enable multithreaded DPI
\&    \-\-threads\-max\-mtasks <mtasks>  Tune maximum mtask partitioning
\&    \-\-timescale <timescale>     Sets default timescale
\&    \-\-timescale\-override <timescale>  Overrides all timescales
\&    \-\-top\-module <topname>      Name of top level input module
\&    \-\-trace                     Enable waveform creation
\&    \-\-trace\-coverage            Enable tracing of coverage
\&    \-\-trace\-depth <levels>      Depth of tracing
\&    \-\-trace\-fst                 Enable FST waveform creation
\&    \-\-trace\-max\-array <depth>   Maximum bit width for tracing
\&    \-\-trace\-max\-width <width>   Maximum array depth for tracing
\&    \-\-trace\-params              Enable tracing of parameters
\&    \-\-trace\-structs             Enable tracing structure names
\&    \-\-trace\-threads <threads>   Enable waveform creation on separate threads
\&    \-\-trace\-underscore          Enable tracing of _signals
\&     \-U<var>                    Undefine preprocessor define
\&    \-\-unroll\-count <loops>      Tune maximum loop iterations
\&    \-\-unroll\-stmts <stmts>      Tune maximum loop body size
\&    \-\-unused\-regexp <regexp>    Tune UNUSED lint signals
\&     \-V                         Verbose version and config
\&     \-v <filename>              Verilog library
\&     +verilog1995ext+<ext>      Synonym for +1364\-1995ext+<ext>
\&     +verilog2001ext+<ext>      Synonym for +1364\-2001ext+<ext>
\&    \-\-version                   Displays program version and exits
\&    \-\-vpi                       Enable VPI compiles
\&    \-\-waiver\-output <filename>  Create a waiver file based on the linter warnings
\&     \-Wall                      Enable all style warnings
\&     \-Werror\-<message>          Convert warnings to errors
\&     \-Wfuture\-<message>         Disable unknown message warnings
\&     \-Wno\-<message>             Disable warning
\&     \-Wno\-context               Disable source context on warnings
\&     \-Wno\-fatal                 Disable fatal exit on warnings
\&     \-Wno\-lint                  Disable all lint warnings
\&     \-Wno\-style                 Disable all style warnings
\&     \-Wpedantic                 Warn on compliance\-test issues
\&    \-\-x\-assign <mode>           Assign non\-initial Xs to this value
\&    \-\-x\-initial <mode>          Assign initial Xs to this value
\&    \-\-x\-initial\-edge            Enable initial X\->0 and X\->1 edge triggers
\&    \-\-xml\-only                  Create XML parser output
\&    \-\-xml\-output                XML output filename
\&     \-y <dir>                   Directory to search for modules
.Ve
.PP
This is a short summary of the simulation runtime arguments, i.e. for the
final Verilated simulation runtime models.  See \*(L"\s-1SIMULATION RUNTIME
ARGUMENTS\*(R"\s0 for the detailed description of these arguments.
.PP
.Vb 11
\&     +verilator+debug                  Enable debugging
\&     +verilator+debugi+<value>         Enable debugging at a level
\&     +verilator+help                   Display help
\&     +verilator+prof+threads+file+I<filename>  Set profile filename
\&     +verilator+prof+threads+start+I<value>    Set profile starting point
\&     +verilator+prof+threads+window+I<value>   Set profile duration
\&     +verilator+rand+reset+I<value>    Set random reset technique
\&     +verilator+seed+I<value>          Set random seed
\&     +verilator+noassert               Disable assert checking
\&     +verilator+V                      Verbose version and config
\&     +verilator+version                Show version and exit
.Ve
.SH "VERILATION ARGUMENTS"
.IX Header "VERILATION ARGUMENTS"
The following are the arguments that may be passed to the \*(L"verilator\*(R"
executable.
.IP "{file.v}" 4
.IX Item "{file.v}"
Specifies the Verilog file containing the top module to be Verilated.
.IP "{file.c/.cc/.cpp/.cxx}" 4
.IX Item "{file.c/.cc/.cpp/.cxx}"
Used with \-\-exe to specify optional \*(C+ files to be linked in with the
Verilog code.  The file path should either be absolute, or relative to
where the make will be executed from, or add to your makefile's \s-1VPATH\s0 the
appropriate directory to find the file.
.Sp
See also the \-CFLAGS and \-LDFLAGS options, which are useful when the \*(C+
files need special compiler flags.
.IP "{file.a/.o/.so}" 4
.IX Item "{file.a/.o/.so}"
Specifies optional object or library files to be linked in with the Verilog
code, as a shorthand for \-LDFLAGS \*(L"<file>\*(R". The file path should either be
absolute, or relative to where the make will be executed from, or add to
your makefile's \s-1VPATH\s0 the appropriate directory to find the file.
.Sp
If any files are specified in this way, Verilator will include a make rule
that uses these files when linking the \fImodule\fR executable.  This
generally is only useful when used with the \-\-exe option.
.IP "+1364\-1995ext+\fIext\fR" 4
.IX Item "+1364-1995ext+ext"
.PD 0
.IP "+1364\-2001ext+\fIext\fR" 4
.IX Item "+1364-2001ext+ext"
.IP "+1364\-2005ext+\fIext\fR" 4
.IX Item "+1364-2005ext+ext"
.IP "+1800\-2005ext+\fIext\fR" 4
.IX Item "+1800-2005ext+ext"
.IP "+1800\-2009ext+\fIext\fR" 4
.IX Item "+1800-2009ext+ext"
.IP "+1800\-2012ext+\fIext\fR" 4
.IX Item "+1800-2012ext+ext"
.IP "+1800\-2017ext+\fIext\fR" 4
.IX Item "+1800-2017ext+ext"
.PD
Specifies the language standard to be used with a specific filename
extension, \fIext\fR.
.Sp
For compatibility with other simulators, see also the synonyms
\&\f(CW\*(C`+verilog1995ext+\*(C'\fR\fIext\fR, \f(CW\*(C`+verilog2001ext+\*(C'\fR\fIext\fR, and
\&\f(CW\*(C`+systemverilogext+\*(C'\fR\fIext\fR.
.Sp
For any source file, the language specified by these options takes
precedence over any language specified by the \f(CW\*(C`\-\-default\-language\*(C'\fR or
\&\f(CW\*(C`\-\-language\*(C'\fR options.
.Sp
These options take effect in the order they are encountered. Thus the
following would use Verilog 1995 for \f(CW\*(C`a.v\*(C'\fR and Verilog 2001 for \f(CW\*(C`b.v\*(C'\fR.
.Sp
.Vb 1
\&    verilator ... +1364\-1995ext+v a.v +1364\-2001ext+v b.v
.Ve
.Sp
These flags are only recommended for legacy mixed language designs, as the
preferable option is to edit the code to repair new keywords, or add
appropriate \f(CW\*(C`\`begin_keywords\*(C'\fR.
.Sp
\&\fBNote\fR \f(CW\*(C`\`begin_keywords\*(C'\fR is a SystemVerilog construct, which specifies
\&\fIonly\fR the set of keywords to be recognized. This also controls some error
messages that vary between language standards.  Note at present Verilator
tends to be overly permissive, e.g. it will accept many grammar and other
semantic extensions which might not be legal when set to an older standard.
.IP "\-\-assert" 4
.IX Item "--assert"
Enable all assertions.
.IP "\-\-autoflush" 4
.IX Item "--autoflush"
After every \f(CW$display\fR or \f(CW$fdisplay\fR, flush the output stream.  This ensures
that messages will appear immediately but may reduce performance. For best
performance call \*(L"fflush(stdout)\*(R" occasionally in the \*(C+ main loop.
Defaults to off, which will buffer output as provided by the normal C/\*(C+
standard library \s-1IO.\s0
.IP "\-\-bbox\-sys" 4
.IX Item "--bbox-sys"
Black box any unknown \f(CW$system\fR task or function calls.  System tasks will
simply become no-operations, and system functions will be replaced with
unsized zero.  Arguments to such functions will be parsed, but not
otherwise checked.  This prevents errors when linting in the presence of
company specific \s-1PLI\s0 calls.
.Sp
Using this argument will likely cause incorrect simulation.
.IP "\-\-bbox\-unsup" 4
.IX Item "--bbox-unsup"
Black box some unsupported language features, currently \s-1UDP\s0 tables, the
cmos and tran gate primitives, deassign statements, and mixed edge errors.
This may enable linting the rest of the design even when unsupported
constructs are present.
.Sp
Using this argument will likely cause incorrect simulation.
.IP "\-\-bin \fIfilename\fR" 4
.IX Item "--bin filename"
Rarely needed.  Override the default filename for Verilator itself.  When a
dependency (.d) file is created, this filename will become a source
dependency, such that a change in this binary will have make rebuild the
output files.
.IP "\-\-build" 4
.IX Item "--build"
After generating the SystemC/\*(C+ code, Verilator will invoke the toolchain to
build the model library (and executable when \f(CW\*(C`\-\-exe\*(C'\fR is also used). Verilator
manages the build itself, and for this \-\-build requires \s-1GNU\s0 Make to be
available on the platform.
.IP "\-CFLAGS \fIflags\fR" 4
.IX Item "-CFLAGS flags"
Add specified C compiler flag to the generated makefiles. For multiple
flags either pass them as a single argument with space separators quoted in
the shell (\f(CW\*(C`\-CFLAGS "\-a \-b"\*(C'\fR), or use multiple \-CFLAGS arguments
(\f(CW\*(C`\-CFLAGS \-a \-CFLAGS \-b\*(C'\fR).
.Sp
When make is run on the generated makefile these will be passed to the \*(C+
compiler (g++/clang++/msvc++).
.IP "\-\-cc" 4
.IX Item "--cc"
Specifies \*(C+ without SystemC output mode; see also \-\-sc.
.IP "\-\-cdc" 4
.IX Item "--cdc"
Permanently experimental.  Perform some clock domain crossing checks and
issue related warnings (\s-1CDCRSTLOGIC\s0) and then exit; if warnings other than
\&\s-1CDC\s0 warnings are needed make a second run with \-\-lint\-only.  Additional
warning information is also written to the file {prefix}_\|_cdc.txt.
.Sp
Currently only checks some items that other \s-1CDC\s0 tools missed; if you have
interest in adding more traditional \s-1CDC\s0 checks, please contact the authors.
.IP "\-\-clk \fIsignal-name\fR" 4
.IX Item "--clk signal-name"
Sometimes it is quite difficult for Verilator to distinguish clock signals from
other data signals. Occasionally the clock signals can end up in the checking
list of signals which determines if further evaluation is needed. This will
heavily degrade the performance of a Verilated model.
.Sp
With \-\-clk <signal\-name>, user can specified root clock into the model, then
Verilator will mark the signal as clocker and propagate the clocker attribute
automatically to other signals derived from that. In this way, Verilator will
try to avoid taking the clocker signal into checking list.
.Sp
Note signal-name is specified by the \s-1RTL\s0 hierarchy path. For example, v.foo.bar.
If the signal is the input to top-module, the directly the signal name. If you
find it difficult to find the exact name, try to use \f(CW\*(C`/*verilator clocker*/\*(C'\fR in
\&\s-1RTL\s0 file to mark the signal directly.
.Sp
If clock signals are assigned to vectors and then later used individually,
Verilator will attempt to decompose the vector and connect the single-bit
clock signals directly.  This should be transparent to the user.
.IP "\-\-make \fIbuild-tool\fR" 4
.IX Item "--make build-tool"
Generates a script for the specified build tool.
.Sp
Supported values are \f(CW\*(C`gmake\*(C'\fR for \s-1GNU\s0 Make and \f(CW\*(C`cmake\*(C'\fR for CMake.  Both can be
specified together.  If no build tool is specified, gmake is assumed.  The
executable of gmake can be configured via environment variable \*(L"\s-1MAKE\*(R".\s0
.Sp
When using \-\-build Verilator takes over the responsibility of building the
model library/executable.  For this reason \-\-make cannot be specified when
using \-\-build.
.IP "\-\-compiler \fIcompiler-name\fR" 4
.IX Item "--compiler compiler-name"
Enables workarounds for the specified \*(C+ compiler, either \f(CW\*(C`clang\*(C'\fR,
\&\f(CW\*(C`gcc\*(C'\fR, or \f(CW\*(C`msvc\*(C'\fR.  Currently this does not change any performance tuning
flags, but it may in the future.
.RS 4
.IP "clang" 4
.IX Item "clang"
Tune for clang.  This may reduce execution speed as it enables several
workarounds to avoid silly hard-coded limits in clang.  This includes
breaking deep structures as for msvc as described below.
.IP "gcc" 4
.IX Item "gcc"
Tune for \s-1GNU \*(C+,\s0 although generated code should work on almost any
compliant \*(C+ compiler.  Currently the default.
.IP "msvc" 4
.IX Item "msvc"
Tune for Microsoft Visual \*(C+.  This may reduce execution speed as it
enables several workarounds to avoid silly hard-coded limits in \s-1MSVC++.\s0
This includes breaking deeply nested parenthesized expressions into
sub-expressions to avoid error C1009, and breaking deep blocks into
functions to avoid error C1061.
.RE
.RS 4
.RE
.IP "\-\-converge\-limit \fIloops\fR" 4
.IX Item "--converge-limit loops"
Rarely needed.  Specifies the maximum number of runtime iterations before
creating a model failed to converge error.  Defaults to 100.
.IP "\-\-coverage" 4
.IX Item "--coverage"
Enables all forms of coverage, alias for \*(L"\-\-coverage\-line \-\-coverage\-toggle
\&\-\-coverage\-user\*(R".
.IP "\-\-coverage\-line" 4
.IX Item "--coverage-line"
Specifies basic block line coverage analysis code should be inserted.
.Sp
Coverage analysis adds statements at each code flow change point (e.g. at
branches).  At each such branch a unique counter is incremented.  At the
end of a test, the counters along with the filename and line number
corresponding to each counter are written into logs/coverage.dat.
.Sp
Verilator automatically disables coverage of branches that have a \f(CW$stop\fR in
them, as it is assumed \f(CW$stop\fR branches contain an error check that should
not occur.  A /*verilator coverage_block_off*/ comment will perform a
similar function on any code in that block or below, or /*verilator
coverage_on/coverage_off*/ will disable coverage around lines of code.
.Sp
Note Verilator may over-count combinatorial (non-clocked) blocks when those
blocks receive signals which have had the \s-1UNOPTFLAT\s0 warning disabled; for
most accurate results do not disable this warning when using coverage.
.IP "\-\-coverage\-toggle" 4
.IX Item "--coverage-toggle"
Specifies signal toggle coverage analysis code should be inserted.
.Sp
Every bit of every signal in a module has a counter inserted.  The counter
will increment on every edge change of the corresponding bit.
.Sp
Signals that are part of tasks or begin/end blocks are considered local
variables and are not covered.  Signals that begin with underscores, are
integers, or are very wide (>256 bits total storage across all dimensions)
are also not covered.
.Sp
Hierarchy is compressed, such that if a module is instantiated multiple
times, coverage will be summed for that bit across \s-1ALL\s0 instantiations of
that module with the same parameter set.  A module instantiated with
different parameter values is considered a different module, and will get
counted separately.
.Sp
Verilator makes a minimally-intelligent decision about what clock domain
the signal goes to, and only looks for edges in that clock domain.  This
means that edges may be ignored if it is known that the edge could never be
seen by the receiving logic.  This algorithm may improve in the future.
The net result is coverage may be lower than what would be seen by looking
at traces, but the coverage is a more accurate representation of the
quality of stimulus into the design.
.Sp
There may be edges counted near time zero while the model stabilizes.  It's
a good practice to zero all coverage just before releasing reset to prevent
counting such behavior.
.Sp
A /*verilator coverage_off/on */ comment pair can be used around signals
that do not need toggle analysis, such as RAMs and register files.
.IP "\-\-coverage\-underscore" 4
.IX Item "--coverage-underscore"
Enable coverage of signals that start with an underscore. Normally, these
signals are not covered.  See also \-\-trace\-underscore.
.IP "\-\-coverage\-user" 4
.IX Item "--coverage-user"
Enables user inserted functional coverage.  Currently, all functional
coverage points are specified using \s-1SVA\s0 which must be separately enabled
with \-\-assert.
.Sp
For example, the following statement will add a coverage point, with
the comment \*(L"DefaultClock\*(R":
.Sp
.Vb 1
\&   DefaultClock: cover property (@(posedge clk) cyc==3);
.Ve
.IP "\-D\fIvar\fR=\fIvalue\fR" 4
.IX Item "-Dvar=value"
Defines the given preprocessor symbol.  Similar to +define, but does not
allow multiple definitions with a single option using plus signs.  +define
is fairly standard across Verilog tools while \-D is similar to \s-1GCC.\s0
.IP "\-\-debug" 4
.IX Item "--debug"
Select the debug executable of Verilator (if available), and enable more
internal assertions (equivalent to \f(CW\*(C`\-\-debug\-check\*(C'\fR), debugging messages
(equivalent to \f(CW\*(C`\-\-debugi 4\*(C'\fR), and intermediate form dump files (equivalent
to \f(CW\*(C`\-\-dump\-treei 3\*(C'\fR).
.IP "\-\-debug\-check" 4
.IX Item "--debug-check"
Rarely needed.  Enable internal debugging assertion checks, without
changing debug verbosity.  Enabled automatically when \-\-debug specified.
.IP "\-\-no\-debug\-leak" 4
.IX Item "--no-debug-leak"
In \-\-debug mode, by default Verilator intentionally leaks AstNode instances
instead of freeing them, so that each node pointer is unique in the
resulting tree files and dot files.
.Sp
This option disables the leak. This may avoid out-of-memory errors
when Verilating large models in \-\-debug mode.
.Sp
Outside of \-\-debug mode, AstNode instances should never be leaked and this
option has no effect.
.IP "\-\-debugi \fIlevel\fR" 4
.IX Item "--debugi level"
.PD 0
.IP "\-\-debugi\-\fIsrcfile\fR \fIlevel\fR" 4
.IX Item "--debugi-srcfile level"
.PD
Rarely needed \- for developer use.  Set internal debugging level globally
to the specified debug level (1\-10) or set the specified Verilator source
file to the specified level (e.g. \f(CW\*(C`\-\-debugi\-V3Width 9\*(C'\fR). Higher levels
produce more detailed messages.
.IP "\-\-default\-language \fIvalue\fR" 4
.IX Item "--default-language value"
Select the language to be used by default when first processing each
Verilog file.  The language value must be \*(L"1364\-1995\*(R", \*(L"1364\-2001\*(R",
\&\*(L"1364\-2005\*(R", \*(L"1800\-2005\*(R", \*(L"1800\-2009\*(R", \*(L"1800\-2012\*(R" or \*(L"1800\-2017\*(R".
.Sp
Any language associated with a particular file extension (see the various
+\fIlang\fRext+ options) will be used in preference to the language specified
by \-\-default\-language.
.Sp
The \-\-default\-language flag is only recommended for legacy code using the
same language in all source files, as the preferable option is to edit the
code to repair new keywords, or add appropriate \f(CW\*(C`\`begin_keywords\*(C'\fR. For
legacy mixed language designs, the various +\fIlang\fRext+ options should be
used.
.Sp
If no language is specified, either by this flag or +\fIlang\fRext+ options,
then the latest SystemVerilog language (\s-1IEEE 1800\-2017\s0) is used.
.IP "+define+\fIvar\fR=\fIvalue\fR" 4
.IX Item "+define+var=value"
.PD 0
.IP "+define+\fIvar\fR=\fIvalue\fR+\fIvar2\fR=\fIvalue2\fR..." 4
.IX Item "+define+var=value+var2=value2..."
.PD
Defines the given preprocessor symbol, or multiple symbols if separated by
plus signs.  Similar to \-D; +define is fairly standard across Verilog tools
while \-D is similar to \s-1GCC.\s0
.IP "\-\-dpi\-hdr\-only" 4
.IX Item "--dpi-hdr-only"
Only generate the \s-1DPI\s0 header file.  This option has no effect on the name
or location of the emitted \s-1DPI\s0 header file, it is output in \f(CW\*(C`\-\-Mdir\*(C'\fR as it
would be without this option.
.IP "\-\-dump\-defines" 4
.IX Item "--dump-defines"
With \-E, suppress normal output, and instead print a list of all defines
existing at the end of pre-processing the input files. Similar to \s-1GCC\s0 \*(L"\-dM\*(R"
option. This also gives you a way of finding out what is predefined in
Verilator using the command:
.Sp
.Vb 1
\&   touch foo.v ; verilator \-E \-\-dump\-defines foo.v
.Ve
.IP "\-\-dump\-tree" 4
.IX Item "--dump-tree"
Rarely needed.  Enable writing .tree debug files with dumping level 3,
which dumps the standard critical stages.  For details on the format see
the Verilator Internals manual.  \-\-dump\-tree is enabled automatically with
\&\-\-debug, so \*(L"\-\-debug \-\-no\-dump\-tree\*(R" may be useful if the dump files are
large and not desired.
.IP "\-\-dump\-treei \fIlevel\fR" 4
.IX Item "--dump-treei level"
.PD 0
.IP "\-\-dump\-treei\-\fIsrcfile\fR \fIlevel\fR" 4
.IX Item "--dump-treei-srcfile level"
.PD
Rarely needed \- for developer use.  Set internal tree dumping level
globally to a specific dumping level or set the specified Verilator source
file to the specified tree dumping level (e.g. \f(CW\*(C`\-\-dump\-treei\-V3Order 9\*(C'\fR).
Level 0 disables dumps and is equivalent to \*(L"\-\-no\-dump\-tree\*(R".  Level 9
enables dumping of every stage.
.IP "\-\-dump\-tree\-addrids" 4
.IX Item "--dump-tree-addrids"
Rarely needed \- for developer use.  Replace \s-1AST\s0 node addresses with short
identifiers in tree dumps to enhance readability.  Each unique pointer value
is mapped to a unique identifier, but note that this is not necessarily
unique per node instance as an address might get reused by a newly allocated
node after a node with the same address has been dumped then freed.
.IP "\-E" 4
.IX Item "-E"
Preprocess the source code, but do not compile, as with 'gcc \-E'.  Output
is written to standard out.  Beware of enabling debugging messages, as they
will also go to standard out.
.IP "\-\-error\-limit \fIvalue\fR" 4
.IX Item "--error-limit value"
After this number of errors are encountered during Verilator run, exit.
Warnings are not counted in this limit.  Defaults to 50.
.Sp
Does not affect simulation runtime errors, for those see
+verilator+error+limit.
.IP "\-\-exe" 4
.IX Item "--exe"
Generate an executable.  You will also need to pass additional .cpp files on
the command line that implement the main loop for your simulation.
.IP "\-F \fIfile\fR" 4
.IX Item "-F file"
Read the specified file, and act as if all text inside it was specified as
command line parameters.  Any relative paths are relative to the directory
containing the specified file.  See also \-f. Note \-F is fairly standard
across Verilog tools.
.IP "\-f \fIfile\fR" 4
.IX Item "-f file"
Read the specified file, and act as if all text inside it was specified as
command line parameters.  Any relative paths are relative to the current
directory.  See also \-F. Note \-f is fairly standard across Verilog tools.
.Sp
The file may contain // comments which are ignored to the end of the line.
Any \f(CW$VAR\fR, $(\s-1VAR\s0), or ${\s-1VAR\s0} will be replaced with the specified environment
variable.
.IP "\-FI \fIfile\fR" 4
.IX Item "-FI file"
Force include of the specified \*(C+ header file.  All generated \*(C+ files
will insert a #include of the specified file before any other includes. The
specified file might be used to contain define prototypes of custom
\&\s-1VL_VPRINTF\s0 functions, and may need to include verilatedos.h as this file is
included before any other standard includes.
.IP "\-\-flatten" 4
.IX Item "--flatten"
Force flattening of the design's hierarchy, with all modules, tasks and
functions inlined. Typically used with \f(CW\*(C`\-\-xml\-only\*(C'\fR. Note flattening
large designs may require significant \s-1CPU\s0 time, memory and storage.
.IP "\-G\fIname\fR=\fIvalue\fR" 4
.IX Item "-Gname=value"
Overwrites the given parameter of the toplevel module. The value is limited
to basic data literals:
.RS 4
.IP "Verilog integer literals" 4
.IX Item "Verilog integer literals"
The standard Verilog integer literals are supported, so values like 32'h8,
2'b00, 4 etc. are allowed. Care must be taken that the single quote (I') is
properly escaped in an interactive shell, e.g., as \-GWIDTH=8\e'hx.
.IP "C integer literals" 4
.IX Item "C integer literals"
It is also possible to use C integer notation, including hexadecimal (0x..),
octal (0..) or binary (0b..) notation.
.IP "Double literals" 4
.IX Item "Double literals"
Double literals must be one of the following styles:
  \- contains a dot (.) (e.g. 1.23)
  \- contains an exponent (e/E) (e.g. 12e3)
  \- contains p/P for hexadecimal floating point in C99 (e.g. 0x123.ABCp1)
.IP "Strings" 4
.IX Item "Strings"
Strings must be in double quotes ("\*(L"). They must be escaped properly on the
command line, e.g. as \-GSTR=\*(R"\e\*(L"My String\e\*(R"\*(L" or \-GSTR='\*(R"My String"'.
.RE
.RS 4
.RE
.IP "\-\-gate\-stmts \fIvalue\fR" 4
.IX Item "--gate-stmts value"
Rarely needed.  Set the maximum number of statements that may be present in
an equation for the gate substitution optimization to inline that equation.
.IP "\-\-gdb" 4
.IX Item "--gdb"
Run Verilator underneath an interactive \s-1GDB\s0 (or \s-1VERILATOR_GDB\s0 environment
variable value) session.  See also \-\-gdbbt.
.IP "\-\-gdbbt" 4
.IX Item "--gdbbt"
If \-\-debug is specified, run Verilator underneath a \s-1GDB\s0 process and print a
backtrace on exit, then exit \s-1GDB\s0 immediately.  Without \-\-debug or if \s-1GDB\s0
doesn't seem to work, this flag is ignored.  Intended for easy creation of
backtraces by users; otherwise see the \-\-gdb flag.
.IP "\-\-generate\-key" 4
.IX Item "--generate-key"
Generate a true-random key suitable for use with \-\-protect\-key, print it,
and exit immediately.
.IP "\-\-getenv \fIvariable\fR" 4
.IX Item "--getenv variable"
If the variable is declared in the environment, print it and exit
immediately. Otherwise, if it's built into Verilator (e.g. \s-1VERILATOR_ROOT\s0),
print that and exit immediately. Otherwise, print a newline and exit
immediately. This can be useful in makefiles. See also \-V, and the various
*.mk files.
.IP "\-\-help" 4
.IX Item "--help"
Displays this message and program version and exits.
.IP "\-\-hierarchical" 4
.IX Item "--hierarchical"
Enable hierarchical Verilation otherwise /*verilator hier_block*/ metacomment
is ignored.
See \*(L"\s-1HIERARCHICAL VERILATION\*(R"\s0.
.IP "\-I\fIdir\fR" 4
.IX Item "-Idir"
See \-y.
.IP "\-\-if\-depth \fIvalue\fR" 4
.IX Item "--if-depth value"
Rarely needed.  Set the depth at which the \s-1IFDEPTH\s0 warning will fire,
defaults to 0 which disables this warning.
.IP "+incdir+\fIdir\fR" 4
.IX Item "+incdir+dir"
See \-y.
.IP "\-\-inhibit\-sim" 4
.IX Item "--inhibit-sim"
Rarely needed.  Create a \*(L"inhibitSim(bool)\*(R" function to enable and disable
evaluation.  This allows an upper level testbench to disable modules that
are not important in a given simulation, without needing to recompile or
change the SystemC modules instantiated.
.IP "\-\-inline\-mult \fIvalue\fR" 4
.IX Item "--inline-mult value"
Tune the inlining of modules.  The default value of 2000 specifies that up
to 2000 new operations may be added to the model by inlining, if more than
this number of operations would result, the module is not inlined.  Larger
values, or a value < 1 will inline everything, will lead to longer compile
times, but potentially faster simulation speed.  This setting is ignored
for very small modules; they will always be inlined, if allowed.
.IP "\-j <value>" 4
.IX Item "-j <value>"
Specify the level of parallelism for \-\-build. <value> must be a positive
integer specifying the maximum number of parallel build jobs, or can be
omitted. When <value> is omitted, the build will not try to limit the number of
parallel build jobs but attempt to execute all independent build steps in
parallel.
.IP "\-LDFLAGS \fIflags\fR" 4
.IX Item "-LDFLAGS flags"
Add specified C linker flags to the generated makefiles.  For multiple
flags either pass them as a single argument with space separators quoted in
the shell (\f(CW\*(C`\-LDFLAGS "\-a \-b"\*(C'\fR), or use multiple \-LDFLAGS arguments
(\f(CW\*(C`\-LDFLAGS \-a \-LDFLAGS \-b\*(C'\fR).
.Sp
When make is run on the generated makefile these will be passed to the \*(C+
linker (ld) *after* the primary file being linked.  This flag is called
\&\-LDFLAGS as that's the traditional name in simulators; it's would have been
better called \s-1LDLIBS\s0 as that's the Makefile variable it controls.  (In
Make, \s-1LDFLAGS\s0 is before the first object, \s-1LDLIBS\s0 after.  \-L libraries need
to be in the Make variable \s-1LDLIBS,\s0 not \s-1LDFLAGS.\s0)
.IP "\-\-l2\-name \fIvalue\fR" 4
.IX Item "--l2-name value"
Instead of using the module name when showing Verilog scope, use the name
provided. This allows simplifying some Verilator-embedded modeling
methodologies. Default is an l2\-name matching the top module. The default
before 3.884 was \*(L"\-\-l2\-name v\*(R"
.Sp
For example, the program \*(L"module t; initial \f(CW$displa\fRy(\*(R"%m\*(L"); endmodule\*(R" will
show by default \*(L"t\*(R". With \*(L"\-\-l2\-name v\*(R" it will print \*(L"v\*(R".
.IP "\-\-language \fIvalue\fR" 4
.IX Item "--language value"
A synonym for \f(CW\*(C`\-\-default\-language\*(C'\fR, for compatibility with other tools and
earlier versions of Verilator.
.IP "+libext+\fIext\fR+\fIext\fR..." 4
.IX Item "+libext+ext+ext..."
Specify the extensions that should be used for finding modules.  If for
example module \fIx\fR is referenced, look in \fIx\fR.\fIext\fR.  Note +libext+ is
fairly standard across Verilog tools.  Defaults to .v and .sv.
.IP "\-\-lint\-only" 4
.IX Item "--lint-only"
Check the files for lint violations only, do not create any other output.
.Sp
You may also want the \-Wall option to enable messages that are considered
stylistic and not enabled by default.
.Sp
If the design is not to be completely Verilated see also the \-\-bbox\-sys and
\&\-\-bbox\-unsup options.
.IP "\-MAKEFLAGS <string>" 4
.IX Item "-MAKEFLAGS <string>"
When using \-\-build, add the specified flag to the invoked make command line.
For multiple flags either pass them as a single argument with space separators
quoted in the shell (e.g. \f(CW\*(C`\-MAKEFLAGS "\-a \-b"\*(C'\fR), or use multiple \-MAKEFLAGS
arguments (e.g. \f(CW\*(C`\-MAKEFLAGS \-l \-MAKEFLAGS \-k\*(C'\fR). Use of this option should not
be required for simple builds using the host toolchain.
.IP "\-\-max\-num\-width \fIvalue\fR" 4
.IX Item "--max-num-width value"
Set the maximum number literal width (e.g. in 1024'd22 this it the 1024).
Defaults to 64K.
.IP "\-\-MMD =item \-\-no\-MMD" 4
.IX Item "--MMD =item --no-MMD"
Enable/disable creation of .d dependency files, used for make dependency
detection, similar to gcc \-MMD option.  By default this option is enabled
for \-\-cc or \-\-sc modes.
.IP "\-\-MP" 4
.IX Item "--MP"
When creating .d dependency files with \-\-MMD, make phony targets.  Similar
to gcc \-MP option.
.IP "\-\-Mdir \fIdirectory\fR" 4
.IX Item "--Mdir directory"
Specifies the name of the Make object directory.  All generated files will
be placed in this directory.  If not specified, \*(L"obj_dir\*(R" is used.  The
directory is created if it does not exist and the parent directories exist;
otherwise manually create the Mdir before calling Verilator.
.IP "\-\-mod\-prefix \fItopname\fR" 4
.IX Item "--mod-prefix topname"
Specifies the name to prepend to all lower level classes.  Defaults to
the same as \-\-prefix.
.IP "\-\-no\-clk \fIsignal-name\fR" 4
.IX Item "--no-clk signal-name"
Prevent the specified signal from being marked as clock. See \f(CW\*(C`\-\-clk\*(C'\fR.
.IP "\-\-no\-decoration" 4
.IX Item "--no-decoration"
When creating output Verilated code, minimize comments, white space, symbol
names and other decorative items, at the cost of greatly reduced
readability. This may assist \*(C+ compile times. This will not typically
change the ultimate model's performance, but may in some cases.
.IP "\-\-no\-pins64" 4
.IX Item "--no-pins64"
Backward compatible alias for \*(L"\-\-pins\-bv 33\*(R".
.IP "\-\-no\-relative\-cfuncs" 4
.IX Item "--no-relative-cfuncs"
Disable 'this\->' references in generated functions, and instead Verilator
will generate absolute references starting from 'vlTOPp\->'.  This prevents
V3Combine from merging functions from multiple instances of the same
module, so it can grow the instruction stream.
.Sp
This is a work around for old compilers. Don't set this if your \*(C+
compiler supports _\|_restrict_\|_ properly, as \s-1GCC 4.5\s0.x and newer do.  For
older compilers, test if this switch gives you better performance or not.
.Sp
Compilers which don't honor _\|_restrict_\|_ will suspect that 'this\->'
references and 'vlTOPp\->' references may alias, and may write slow code
with extra loads and stores to handle the (imaginary) aliasing. Using only
\&'vlTOPp\->' references allows these old compilers to produce tight code.
.IP "\-\-no\-skip\-identical =item \-\-skip\-identical" 4
.IX Item "--no-skip-identical =item --skip-identical"
Rarely needed.  Disables or enables skipping execution of Verilator if all
source files are identical, and all output files exist with newer dates.
By default this option is enabled for \-\-cc or \-\-sc modes only.
.IP "+notimingchecks" 4
.IX Item "+notimingchecks"
Ignored for compatibility with other simulators.
.IP "\-O0" 4
.IX Item "-O0"
Disables optimization of the model.
.IP "\-O3" 4
.IX Item "-O3"
Enables slow optimizations for the code Verilator itself generates (as
opposed to \*(L"\-CFLAGS \-O3\*(R" which effects the C compiler's optimization.  \-O3
may improve simulation performance at the cost of compile time.  This currently
sets \-\-inline\-mult \-1.
.IP "\-O\fIoptimization-letter\fR" 4
.IX Item "-Ooptimization-letter"
Rarely needed.  Enables or disables a specific optimizations, with the
optimization selected based on the letter passed.  A lowercase letter
disables an optimization, an upper case letter enables it.  This is
intended for debugging use only; see the source code for version-dependent
mappings of optimizations to \-O letters.
.IP "\-o \fIexecutable\fR" 4
.IX Item "-o executable"
Specify the name for the final executable built if using \-\-exe.  Defaults
to the \-\-prefix if not specified.
.IP "\-\-no\-order\-clock\-delay" 4
.IX Item "--no-order-clock-delay"
Rarely needed.  Disables a bug fix for ordering of clock enables with
delayed assignments.  This flag should only be used when suggested by the
developers.
.IP "\-\-output\-split \fIstatements\fR" 4
.IX Item "--output-split statements"
Enables splitting the output .cpp files into multiple outputs.  When a \*(C+
file exceeds the specified number of operations, a new file will be created
at the next function boundary.  In addition, if the total output code size
exceeds the specified value, \s-1VM_PARALLEL_BUILDS\s0 will be set to 1 by default
in the generated make files, making parallel compilation possible. Using
\&\-\-output\-split should have only a trivial impact on model performance. But
can greatly improve \*(C+ compilation speed. The use of \fIccache\fR (set for you
if present at configure time) is also more effective with this option.
.Sp
This option is on by default with a value of 20000. To disable, pass with a
value of 0.
.IP "\-\-output\-split\-cfuncs \fIstatements\fR" 4
.IX Item "--output-split-cfuncs statements"
Enables splitting functions in the output .cpp files into multiple functions.
When a generated function exceeds the specified number of operations, a new
function will be created.  With \-\-output\-split, this will enable the \*(C+
compiler to compile faster, at a small loss in performance that gets worse with
decreasing split values.  Note that this option is stronger than \-\-output\-split
in the sense that \-\-output\-split will not split inside a function.
.Sp
Defaults to the value of \-\-output\-split, unless explicitly specified.
.IP "\-\-output\-split\-ctrace \fIstatements\fR" 4
.IX Item "--output-split-ctrace statements"
Similar to \-\-output\-split\-cfuncs, enables splitting trace functions in the
output .cpp files into multiple functions.
.Sp
Defaults to the value of \-\-output\-split, unless explicitly specified.
.IP "\-P" 4
.IX Item "-P"
With \-E, disable generation of `line markers and blank lines, similar to
\&\s-1GCC\s0 \-P flag.
.IP "\-\-pins64" 4
.IX Item "--pins64"
Backward compatible alias for \*(L"\-\-pins\-bv 65\*(R".  Note that's a 65, not a 64.
.IP "\-\-pins\-bv \fIwidth\fR" 4
.IX Item "--pins-bv width"
Specifies SystemC inputs/outputs of greater than or equal to \fIwidth\fR bits
wide should use sc_bv's instead of uint32/vluint64_t's.  The default is
\&\*(L"\-\-pins\-bv 65\*(R", and the value must be less than or equal to 65.  Versions
before Verilator 3.671 defaulted to \*(L"\-\-pins\-bv 33\*(R".  The more sc_bv is
used, the worse for performance.  Use the \*(L"/*verilator sc_bv*/\*(R" attribute
to select specific ports to be sc_bv.
.IP "\-\-pins\-sc\-uint" 4
.IX Item "--pins-sc-uint"
Specifies SystemC inputs/outputs of greater than 2 bits wide should use
sc_uint between 2 and 64.  When combined with the \*(L"\-\-pins\-sc\-biguint\*(R"
combination, it results in sc_uint being used between 2 and 64 and
sc_biguint being used between 65 and 512.
.IP "\-\-pins\-sc\-biguint" 4
.IX Item "--pins-sc-biguint"
Specifies SystemC inputs/outputs of greater than 65 bits wide should use
sc_biguint between 65 and 512, and sc_bv from 513 upwards.  When combined
with the \*(L"\-\-pins\-sc\-uint\*(R" combination, it results in sc_uint being used
between 2 and 64 and sc_biguint being used between 65 and 512.
.IP "\-\-pins\-uint8" 4
.IX Item "--pins-uint8"
Specifies SystemC inputs/outputs that are smaller than the \-\-pins\-bv
setting and 8 bits or less should use uint8_t instead of uint32_t.
Likewise pins of width 9\-16 will use uint16_t instead of uint32_t.
.IP "\-\-pipe\-filter \fIcommand\fR" 4
.IX Item "--pipe-filter command"
Rarely needed.  Verilator will spawn the specified command as a subprocess
pipe, to allow the command to perform custom edits on the Verilog code
before it reaches Verilator.
.Sp
Before reading each Verilog file, Verilator will pass the file name to the
subprocess' stdin with 'read \*(L"<filename>\*(R"'.  The filter may then read the file
and perform any filtering it desires, and feeds the new file contents back to
Verilator on stdout by first emitting a line defining the length in bytes of
the filtered output 'Content\-Length: <bytes>', followed by the new filtered
contents. Output to stderr from the filter feeds through to Verilator's stdout
and if the filter exits with non-zero status Verilator terminates.  See the
t/t_pipe_filter test for an example.
.Sp
To debug the output of the filter, try using the \-E option to see
preprocessed output.
.IP "\-\-pp\-comments" 4
.IX Item "--pp-comments"
With \-E, show comments in preprocessor output.
.IP "\-\-prefix \fItopname\fR" 4
.IX Item "--prefix topname"
Specifies the name of the top level class and makefile.  Defaults to V
prepended to the name of the \-\-top\-module switch, or V prepended to the
first Verilog filename passed on the command line.
.IP "\-\-prof\-cfuncs" 4
.IX Item "--prof-cfuncs"
Modify the created \*(C+ functions to support profiling.  The functions will
be minimized to contain one \*(L"basic\*(R" statement, generally a single always
block or wire statement.  (Note this will slow down the executable by ~5%.)
Furthermore, the function name will be suffixed with the basename of the
Verilog module and line number the statement came from.  This allows gprof
or oprofile reports to be correlated with the original Verilog source
statements. See also verilator_profcfunc.
.IP "\-\-prof\-threads" 4
.IX Item "--prof-threads"
Enable gantt chart data collection for threaded builds.
.Sp
Verilator will record the start and end time of each macro-task across a
number of calls to eval. (What is a macro-task? See the Verilator internals
document.)
.Sp
When profiling is enabled, the simulation runtime will emit a blurb of
profiling data in non-human-friendly form. The \f(CW\*(C`verilator_gantt\*(C'\fR script
will transform this into a nicer visual format and produce some related
statistics.
.IP "\-\-protect\-key \fIkey\fR" 4
.IX Item "--protect-key key"
Specifies the private key for \-\-protect\-ids. For best security this key
should be 16 or more random bytes, a reasonable secure choice is the output
of \f(CW\*(C`verilator \-\-generate\-key\*(C'\fR. Typically, a key would be created by the
user once for a given protected design library, then every Verilator run
for subsequent versions of that library would be passed the same
\&\-\-protect\-key. Thus, if the input Verilog is similar between library
versions (Verilator runs), the Verilated code will likewise be mostly
similar.
.Sp
If \-\-protect\-key is not specified and a key is needed, Verilator will
generate a new key for every Verilator run. As the key is not saved, this
is best for security, but means every Verilator run will give vastly
different output even for identical input, perhaps harming compile times
(and certainly thrashing any \fIccache\fR).
.IP "\-\-protect\-ids" 4
.IX Item "--protect-ids"
Hash any private identifiers (variable, module, and assertion block names
that are not on the top level) into hashed random-looking identifiers,
resulting after compilation in protected library binaries that expose less
design information.  This hashing uses the provided or default
\&\-\-protect\-key, see important details there.
.Sp
Verilator will also create a {prefix}_\|_idmap.xml file which contains the
mapping from the hashed identifiers back to the original identifiers. This
idmap file is to be kept private, and is to assist mapping any simulation
runtime design assertions, coverage, or trace information, which will
report the hashed identifiers, back to the original design's identifier
names.
.Sp
Using \s-1DPI\s0 imports/exports is allowed and generally relatively safe in terms
of information disclosed, which is limited to the \s-1DPI\s0 function prototyptes.
Use of the \s-1VPI\s0 is not recommended as many design details may be exposed,
and an \s-1INSECURE\s0 warning will be issued.
.IP "\-\-protect\-lib \fIname\fR" 4
.IX Item "--protect-lib name"
Produces \*(C+, Verilog wrappers and a Makefile which can in turn produce a
\&\s-1DPI\s0 library which can be used by Verilator or other simulators along with
the corresponding Verilog wrapper.  The Makefile will build both a static
and dynamic version of the library named lib\fIname\fR.a and lib\fIname\fR.so
respectively.  This is done because some simulators require a dynamic
library, but the static library is arguably easier to use if possible.
\&\-\-protect\-lib implies \-\-protect\-ids.
.Sp
This allows for the secure delivery of sensitive \s-1IP\s0 without the need for
encrypted \s-1RTL\s0 (i.e. \s-1IEEE P1735\s0).  See examples/make_protect_lib in the
distribution for a demonstration of how to build and use the \s-1DPI\s0 library.
.Sp
When using \-\-protect\-lib it is advised to also use \f(CW\*(C`\-\-timescale\-override
/1fs\*(C'\fR to ensure the model has a time resolution that is always compatible
with the time precision of the upper instantiating module.
.IP "\-\-private" 4
.IX Item "--private"
Opposite of \-\-public.  Is the default; this option exists for backwards
compatibility.
.IP "\-\-public" 4
.IX Item "--public"
This is only for historical debug use.  Using it may result in
mis-simulation of generated clocks.
.Sp
Declares all signals and modules public.  This will turn off signal
optimizations as if all signals had a /*verilator public*/ comments and
inlining.  This will also turn off inlining as if all modules had a
/*verilator public_module*/, unless the module specifically enabled it with
/*verilator inline_module*/.
.IP "\-\-public\-flat\-rw" 4
.IX Item "--public-flat-rw"
Declares all variables, ports and wires public as if they had /*verilator
public_flat_rw @ (<variable's_source_process_edge>)*/ comments.  This will
make them \s-1VPI\s0 accessible by their flat name, but not turn off module
inlining.  This is particularly useful in combination with \-\-vpi. This may
also in some rare cases result in mis-simulation of generated clocks.
Instead of this global switch, marking only those signals that need
public_flat_rw is typically significantly better performing.
.IP "\-pvalue+\fIname\fR=\fIvalue\fR" 4
.IX Item "-pvalue+name=value"
Overwrites the given parameter(s) of the toplevel module. See \-G for a
detailed description.
.IP "\-\-quiet\-exit" 4
.IX Item "--quiet-exit"
When exiting due to an error, do not display the \*(L"Exiting due to Errors\*(R"
nor \*(L"Command Failed\*(R" messages.
.IP "\-\-relative\-includes" 4
.IX Item "--relative-includes"
When a file references an include file, resolve the filename relative to
the path of the referencing file, instead of relative to the current
directory.
.IP "\-\-report\-unoptflat" 4
.IX Item "--report-unoptflat"
Extra diagnostics for \s-1UNOPTFLAT\s0 warnings. This includes for each loop, the
10 widest variables in the loop, and the 10 most fanned out variables in
the loop. These are candidates for splitting into multiple variables to
break the loop.
.Sp
In addition produces a GraphViz \s-1DOT\s0 file of the entire strongly connected
components within the source associated with each loop. This is produced
irrespective of whether \-\-dump\-tree is set. Such graphs may help in
analyzing the problem, but can be very large indeed.
.Sp
Various commands exist for viewing and manipulating \s-1DOT\s0 files. For example
the \fIdot\fR command can be used to convert a \s-1DOT\s0 file to a \s-1PDF\s0 for
printing. For example:
.Sp
.Vb 1
\&    dot \-Tpdf \-O Vt_unoptflat_simple_2_35_unoptflat.dot
.Ve
.Sp
will generate a \s-1PDF\s0 Vt_unoptflat_simple_2_35_unoptflat.dot.pdf from the \s-1DOT\s0
file.
.Sp
As an alternative, the \fIxdot\fR command can be used to view \s-1DOT\s0 files
interactively:
.Sp
.Vb 1
\&    xdot Vt_unoptflat_simple_2_35_unoptflat.dot
.Ve
.IP "\-\-rr" 4
.IX Item "--rr"
Run Verilator and record with rr.  See: rr\-project.org.
.IP "\-\-savable" 4
.IX Item "--savable"
Enable including save and restore functions in the generated model.
.Sp
The user code must create a VerilatedSerialize or VerilatedDeserialze
object then calling the << or >> operators on the generated model and any
other data the process needs saved/restored.  These functions are not
thread safe, and are typically called only by a main thread.
.Sp
For example:
.Sp
.Vb 12
\&    void save_model(const char* filenamep) {
\&        VerilatedSave os;
\&        os.open(filenamep);
\&        os << main_time;  // user code must save the timestamp, etc
\&        os << *topp;
\&    }
\&    void restore_model(const char* filenamep) {
\&        VerilatedRestore os;
\&        os.open(filenamep);
\&        os >> main_time;
\&        os >> *topp;
\&    }
.Ve
.IP "\-\-sc" 4
.IX Item "--sc"
Specifies SystemC output mode; see also \-\-cc.
.IP "\-\-stats" 4
.IX Item "--stats"
Creates a dump file with statistics on the design in {prefix}_\|_stats.txt.
.IP "\-\-stats\-vars" 4
.IX Item "--stats-vars"
Creates more detailed statistics, including a list of all the variables by
size (plain \-\-stats just gives a count).  See \-\-stats, which is implied by
this.
.IP "\-\-structs\-packed" 4
.IX Item "--structs-packed"
Converts all unpacked structures to packed structures and issues a \s-1UNPACKED\s0
warning.  Currently this is the default and \-\-no\-structs\-packed will not
work.  Specifying this option allows for forward compatibility when a
future version of Verilator no longer always packs unpacked structures.
.IP "\-sv" 4
.IX Item "-sv"
Specifies SystemVerilog language features should be enabled; equivalent to
\&\*(L"\-\-language 1800\-2017\*(R".  This option is selected by default, it exists for
compatibility with other simulators.
.IP "+systemverilogext+\fIext\fR" 4
.IX Item "+systemverilogext+ext"
A synonym for \f(CW\*(C`+1800\-2017ext+\*(C'\fR\fIext\fR.
.IP "\-\-threads \fIthreads\fR" 4
.IX Item "--threads threads"
.PD 0
.IP "\-\-no\-threads" 4
.IX Item "--no-threads"
.PD
With \-\-threads 0 or \-\-no\-threads, the default, the generated model is not
thread safe. With \-\-threads 1, the generated model is single threaded but
may run in a multithreaded environment. With \-\-threads N, where N >= 2, the
model is generated to run multithreaded on up to N threads. See
\&\*(L"\s-1MULTITHREADING\*(R"\s0.
.IP "\-\-threads\-dpi all" 4
.IX Item "--threads-dpi all"
.PD 0
.IP "\-\-threads\-dpi none" 4
.IX Item "--threads-dpi none"
.IP "\-\-threads\-dpi pure" 4
.IX Item "--threads-dpi pure"
.PD
When using \-\-threads, controls which \s-1DPI\s0 imported tasks and functions are
considered thread safe.
.Sp
With \-\-threads\-dpi all, enable Verilator to assume all \s-1DPI\s0 imports are
threadsafe, and to use thread-local storage for communication with \s-1DPI,\s0
potentially improving performance. Any \s-1DPI\s0 libraries need appropriate
mutexes to avoid undefined behavior.
.Sp
With \-\-threads\-dpi none, Verilator assume \s-1DPI\s0 imports are not thread safe,
and Verilator will serialize calls to \s-1DPI\s0 imports by default, potentially
harming performance.
.Sp
With \-\-threads\-dpi pure, the default, Verilator assumes \s-1DPI\s0 pure imports
are threadsafe, but non-pure \s-1DPI\s0 imports are not.
.IP "\-\-threads\-max\-mtasks \fIvalue\fR" 4
.IX Item "--threads-max-mtasks value"
Rarely needed.  When using \-\-threads, specify the number of mtasks the
model is to be partitioned into. If unspecified, Verilator approximates a
good value.
.IP "\-\-timescale \fItimeunit\fR/\fItimeprecision\fR" 4
.IX Item "--timescale timeunit/timeprecision"
Sets default timescale, timeunit and timeprecision for when `timescale does
not occur in sources.  Default is \*(L"1ps/1ps\*(R" (to match SystemC).  This is
overridden by \f(CW\*(C`\-\-timescale\-override\*(C'\fR.
.IP "\-\-timescale\-override \fItimeunit\fR/\fItimeprecision\fR" 4
.IX Item "--timescale-override timeunit/timeprecision"
.PD 0
.IP "\-\-timescale\-override /\fItimeprecision\fR" 4
.IX Item "--timescale-override /timeprecision"
.PD
Overrides all `timescales in sources. The timeunit may be left empty to
specify only to override the timeprecision, e.g. \*(L"/1fs\*(R".
.Sp
The time precision must be consistent with SystemC's
sc_set_time_resolution, or the \*(C+ code instantiating the Verilated module.
As 1fs is the finest time precision it may be desirable to always use a
precision of 1fs.
.IP "\-\-top\-module \fItopname\fR" 4
.IX Item "--top-module topname"
When the input Verilog contains more than one top level module, specifies
the name of the Verilog module to become the top level module, and sets the
default for \-\-prefix if not explicitly specified.  This is not needed with
standard designs with only one top.  See also the \s-1MULTITOP\s0 warning section.
.IP "\-\-trace" 4
.IX Item "--trace"
Adds waveform tracing code to the model using \s-1VCD\s0 format. This overrides
\&\f(CW\*(C`\-\-trace\-fst\*(C'\fR.
.Sp
Verilator will generate additional {prefix}_\|_Trace*.cpp files that will
need to be compiled.  In addition verilated_vcd_sc.cpp (for SystemC traces)
or verilated_vcd_c.cpp (for both) must be compiled and linked in.  If using
the Verilator generated Makefiles, these files will be added to the source
file lists for you.  If you are not using the Verilator Makefiles, you will
need to add these to your Makefile manually.
.Sp
Having tracing compiled in may result in some small performance losses,
even when tracing is not turned on during model execution.
.Sp
See also \f(CW\*(C`\-\-trace\-threads\*(C'\fR.
.IP "\-\-trace\-coverage" 4
.IX Item "--trace-coverage"
With \-\-trace and \-\-coverage\-*, enable tracing to include a traced signal
for every \-\-coverage\-line or \-\-coverage\-user inserted coverage point, to
assist in debugging coverage items.  Note \-\-coverage\-toggle does not get
additional signals added, as the original signals being toggle-analyzed are
already visible.
.Sp
The added signal will be a 32\-bit value which will increment on each
coverage occurrence. Due to this, this option may greatly increase trace
file sizes and reduce simulation speed.
.IP "\-\-trace\-depth \fIlevels\fR" 4
.IX Item "--trace-depth levels"
Specify the number of levels deep to enable tracing, for example
\&\-\-trace\-level 1 to only see the top level's signals.  Defaults to the
entire model.  Using a small number will decrease visibility, but greatly
improve simulation performance and trace file size.
.IP "\-\-trace\-fst" 4
.IX Item "--trace-fst"
Enable \s-1FST\s0 waveform tracing in the model. This overrides \f(CW\*(C`\-\-trace\*(C'\fR.
See also \f(CW\*(C`\-\-trace\-threads\*(C'\fR.
.IP "\-\-trace\-max\-array \fIdepth\fR" 4
.IX Item "--trace-max-array depth"
Rarely needed.  Specify the maximum array depth of a signal that may be
traced.  Defaults to 32, as tracing large arrays may greatly slow traced
simulations.
.IP "\-\-trace\-max\-width \fIwidth\fR" 4
.IX Item "--trace-max-width width"
Rarely needed.  Specify the maximum bit width of a signal that may be
traced.  Defaults to 256, as tracing large vectors may greatly slow traced
simulations.
.IP "\-\-no\-trace\-params" 4
.IX Item "--no-trace-params"
Disable tracing of parameters.
.IP "\-\-trace\-structs" 4
.IX Item "--trace-structs"
Enable tracing to show the name of packed structure, union, and packed
array fields, rather than a single combined packed bus.  Due to \s-1VCD\s0 file
format constraints this may result in significantly slower trace times and
larger trace files.
.IP "\-\-trace\-threads \fIthreads\fR" 4
.IX Item "--trace-threads threads"
Enable waveform tracing using separate threads. This is typically faster in
simulation runtime but uses more total compute. This option is independent of,
and works with, both \f(CW\*(C`\-\-trace\*(C'\fR and \f(CW\*(C`\-\-trace\-fst\*(C'\fR. Different trace formats can
take advantage of more trace threads to varying degrees. Currently \s-1VCD\s0 tracing
can utilize at most \-\-trace\-threads 1, and \s-1FST\s0 tracing can utilize at most
\&\-\-trace\-threads 2. This overrides \f(CW\*(C`\-\-no\-threads\*(C'\fR.
.IP "\-\-trace\-underscore" 4
.IX Item "--trace-underscore"
Enable tracing of signals that start with an underscore. Normally, these
signals are not output during tracing.  See also \-\-coverage\-underscore.
.IP "\-U\fIvar\fR" 4
.IX Item "-Uvar"
Undefines the given preprocessor symbol.
.IP "\-\-unroll\-count \fIloops\fR" 4
.IX Item "--unroll-count loops"
Rarely needed.  Specifies the maximum number of loop iterations that may be
unrolled.  See also \s-1BLKLOOPINIT\s0 warning.
.IP "\-\-unroll\-stmts \fIstatements\fR" 4
.IX Item "--unroll-stmts statements"
Rarely needed.  Specifies the maximum number of statements in a loop for
that loop to be unrolled. See also \s-1BLKLOOPINIT\s0 warning.
.IP "\-\-unused\-regexp \fIregexp\fR" 4
.IX Item "--unused-regexp regexp"
Rarely needed.  Specifies a simple regexp with * and ? that if a signal
name matches will suppress the \s-1UNUSED\s0 warning.  Defaults to \*(L"*unused*\*(R".
Setting it to "" disables matching.
.IP "\-V" 4
.IX Item "-V"
Shows the verbose version, including configuration information compiled
into Verilator.  (Similar to perl \-V.)  See also \-\-getenv.
.IP "\-v \fIfilename\fR" 4
.IX Item "-v filename"
Read the filename as a Verilog library.  Any modules in the file may be
used to resolve cell instantiations in the top level module, else ignored.
Note \-v is fairly standard across Verilog tools.
.IP "\-\-no\-verilate" 4
.IX Item "--no-verilate"
When using \-\-build, disable generation of \*(C+/SystemC code, and execute only
the build. This can be useful for rebuilding Verilated code produced by a
previous invocation of Verilator.
.IP "+verilog1995ext+\fIext\fR" 4
.IX Item "+verilog1995ext+ext"
.PD 0
.IP "+verilog2001ext+\fIext\fR" 4
.IX Item "+verilog2001ext+ext"
.PD
Synonyms for \f(CW\*(C`+1364\-1995ext+\*(C'\fR\fIext\fR and \f(CW\*(C`+1364\-2001ext+\*(C'\fR\fIext\fR respectively
.IP "\-\-version" 4
.IX Item "--version"
Displays program version and exits.
.IP "\-\-vpi" 4
.IX Item "--vpi"
Enable use of \s-1VPI\s0 and linking against the verilated_vpi.cpp files.
.IP "\-\-waiver\-output <filename>" 4
.IX Item "--waiver-output <filename>"
Generate a waiver file which contains all waiver statements to suppress the
warnings emitted during this Verilator run. This in particular is useful as
a starting point for solving linter warnings or suppressing them
systematically.
.Sp
The generated file is in the Verilator Configuration format, see
\&\*(L"\s-1CONFIGURATION FILES\*(R"\s0, and can directly be consumed by Verilator. The
standard file extension is .vlt.
.IP "\-Wall" 4
.IX Item "-Wall"
Enable all code style warnings, including code style warnings that are
normally disabled by default. Equivalent to \*(L"\-Wwarn\-lint \-Wwarn\-style\*(R".
Excludes some specialty warnings, i.e. \s-1IMPERFECTSCH.\s0
.IP "\-Werror\-\fImessage\fR" 4
.IX Item "-Werror-message"
Promote the specified warning message into an error message.  This is
generally to discourage users from violating important site-wide rules, for
example \f(CW\*(C`\-Werror\-NOUNOPTFLAT\*(C'\fR.
.IP "\-Wfuture\-\fImessage\fR" 4
.IX Item "-Wfuture-message"
Rarely needed.  Suppress unknown Verilator comments or warning messages
with the given message code.  This is used to allow code written with
pragmas for a later version of Verilator to run under a older version; add
\&\-Wfuture\- arguments for each message code or comment that the new version
supports which the older version does not support.
.IP "\-Wno\-\fImessage\fR" 4
.IX Item "-Wno-message"
Disable the specified warning/error message.  This will override any lint_on
directives in the source, i.e. the warning will still not be printed.
.IP "\-Wno\-context" 4
.IX Item "-Wno-context"
Disable showing the suspected context of the warning message by quoting the
source text at the suspected location.  This can be used to appease tools which
process the warning messages but may get confused by lines from the original
source.
.IP "\-Wno\-fatal" 4
.IX Item "-Wno-fatal"
When warnings are detected, print them, but do not terminate Verilator.
.Sp
Having warning messages in builds is sloppy.  It is strongly recommended
you cleanup your code, use inline lint_off, or use \-Wno\-... flags rather
than using this option.
.IP "\-Wno\-lint" 4
.IX Item "-Wno-lint"
Disable all lint related warning messages, and all style warnings.  This is
equivalent to \*(L"\-Wno\-ALWCOMBORDER \-Wno\-BSSPACE \-Wno\-CASEINCOMPLETE
\&\-Wno\-CASEOVERLAP \-Wno\-CASEX \-Wno\-CASEWITHX \-Wno\-CMPCONST \-Wno\-COLONPLUS
\&\-Wno\-ENDLABEL \-Wno\-IMPLICIT \-Wno\-LITENDIAN \-Wno\-PINCONNECTEMPTY
\&\-Wno\-PINMISSING \-Wno\-SYNCASYNCNET \-Wno\-UNDRIVEN \-Wno\-UNSIGNED \-Wno\-UNUSED
\&\-Wno\-WIDTH\*(R" plus the list shown for Wno-style.
.Sp
It is strongly recommended you cleanup your code rather than using this
option, it is only intended to be use when running test-cases of code
received from third parties.
.IP "\-Wno\-style" 4
.IX Item "-Wno-style"
Disable all code style related warning messages (note by default they are
already disabled).  This is equivalent to \*(L"\-Wno\-DECLFILENAME \-Wno\-DEFPARAM
\&\-Wno\-IMPORTSTAR \-Wno\-INCABSPATH \-Wno\-PINCONNECTEMPTY \-Wno\-PINNOCONNECT
\&\-Wno\-SYNCASYNCNET \-Wno\-UNDRIVEN \-Wno\-UNUSED \-Wno\-VARHIDDEN\*(R".
.IP "\-Wpedantic" 4
.IX Item "-Wpedantic"
Warn on any construct demanded by \s-1IEEE,\s0 and disable all Verilator
extensions that may interfere with \s-1IEEE\s0 compliance to the standard defined
with \-\-default\-language (etc).  Similar to \s-1GCC\s0's \-Wpedantic.  Rarely used,
and intended only for strict compliance tests.
.IP "\-Wwarn\-\fImessage\fR" 4
.IX Item "-Wwarn-message"
Enables the specified warning message.
.IP "\-Wwarn\-lint" 4
.IX Item "-Wwarn-lint"
Enable all lint related warning messages (note by default they are already
enabled), but do not affect style messages.  This is equivalent to
\&\*(L"\-Wwarn\-ALWCOMBORDER \-Wwarn\-BSSPACE \-Wwarn\-CASEINCOMPLETE
\&\-Wwarn\-CASEOVERLAP \-Wwarn\-CASEX \-Wwarn\-CASEWITHX \-Wwarn\-CMPCONST
\&\-Wwarn\-COLONPLUS \-Wwarn\-ENDLABEL \-Wwarn\-IMPLICIT \-Wwarn\-LITENDIAN
\&\-Wwarn\-PINMISSING \-Wwarn\-REALCVT \-Wwarn\-UNSIGNED \-Wwarn\-WIDTH\*(R".
.IP "\-Wwarn\-style" 4
.IX Item "-Wwarn-style"
Enable all code style related warning messages.  This is equivalent to
\&\*(L"\-Wwarn \s-1ASSIGNDLY\s0 \-Wwarn\-DECLFILENAME \-Wwarn\-DEFPARAM \-Wwarn\-INCABSPATH
\&\-Wwarn\-PINNOCONNECT \-Wwarn\-SYNCASYNCNET \-Wwarn\-UNDRIVEN \-Wwarn\-UNUSED
\&\-Wwarn\-VARHIDDEN\*(R".
.IP "\-\-x\-assign 0" 4
.IX Item "--x-assign 0"
.PD 0
.IP "\-\-x\-assign 1" 4
.IX Item "--x-assign 1"
.IP "\-\-x\-assign fast (default)" 4
.IX Item "--x-assign fast (default)"
.IP "\-\-x\-assign unique" 4
.IX Item "--x-assign unique"
.PD
Controls the two-state value that is substituted when an explicit X value is
encountered in the source. \f(CW\*(C`\-\-x\-assign fast\*(C'\fR, the default, converts all Xs to
whatever is best for performance.  \f(CW\*(C`\-\-x\-assign 0\*(C'\fR converts all Xs to 0s, and
is also fast.  \f(CW\*(C`\-\-x\-assign 1\*(C'\fR converts all Xs to 1s, this is nearly as fast as
0, but more likely to find reset bugs as active high logic will fire. Using
\&\f(CW\*(C`\-\-x\-assign unique\*(C'\fR will result in all explicit Xs being replaced by a
constant value determined at runtime. The value is determined by calling a
function at initialization time. This enables randomization of Xs with
different seeds on different executions. This method is the slowest, but safest
for finding reset bugs.
.Sp
If using \-\-x\-assign unique, you may want to seed your random number generator
such that each regression run gets a different randomization sequence. The
simplest is to use the +verilator+seed runtime option.  Alternatively use the
system's \fBsrand48()\fR or for Windows \fBsrand()\fR function to do this.  You'll probably
also want to print any seeds selected, and code to enable rerunning with that
same seed so you can reproduce bugs.
.Sp
\&\fBNote.\fR This option applies only to values which are explicitly written as
X in the Verilog source code. Initial values of clocks are set to 0 unless
\&\-\-x\-initial\-edge is specified. Initial values of all other state holding
variables are controlled with \-\-x\-initial.
.IP "\-\-x\-initial 0" 4
.IX Item "--x-initial 0"
.PD 0
.IP "\-\-x\-initial fast" 4
.IX Item "--x-initial fast"
.IP "\-\-x\-initial unique (default)" 4
.IX Item "--x-initial unique (default)"
.PD
Controls the two-state value that is used to initialize variables that are
not otherwise initialized.
.Sp
\&\f(CW\*(C`\-\-x\-initial 0\*(C'\fR, initializes all otherwise uninitialized variables to zero.
.Sp
\&\f(CW\*(C`\-\-x\-initial unique\*(C'\fR, the default, initializes variables using a function,
which determines the value to use each initialization. This gives greatest
flexibility and allows finding reset bugs.  See \*(L"Unknown states\*(R".
.Sp
\&\f(CW\*(C`\-\-x\-initial fast\*(C'\fR, is best for performance, and initializes all variables to
a state Verilator determines is optimal.  This may allow further code
optimizations, but will likely hide any code bugs relating to missing
resets.
.Sp
\&\fBNote.\fR This option applies only to initial values of variables. Initial
values of clocks are set to 0 unless \-\-x\-initial\-edge is specified.
.IP "\-\-x\-initial\-edge" 4
.IX Item "--x-initial-edge"
Enables emulation of event driven simulators which generally trigger an
edge on a transition from X to 1 (\f(CW\*(C`posedge\*(C'\fR) or X to 0 (\f(CW\*(C`negedge\*(C'\fR). Thus
the following code, where \f(CW\*(C`rst_n\*(C'\fR is uninitialized would set \f(CW\*(C`res_n\*(C'\fR to
\&\f(CW\*(C`1\*(Aqb1\*(C'\fR when \f(CW\*(C`rst_n\*(C'\fR is first set to zero:
.Sp
.Vb 1
\&    reg  res_n = 1\*(Aqb0;
\&
\&    always @(negedge rst_n) begin
\&       if (rst_n == 1\*(Aqb0) begin
\&          res_n <= 1\*(Aqb1;
\&       end
\&    end
.Ve
.Sp
In Verilator, by default, uninitialized clocks are given a value of zero,
so the above \f(CW\*(C`always\*(C'\fR block would not trigger.
.Sp
While it is not good practice, there are some designs that rely on X
X 0 triggering a \f(CW\*(C`negedge\*(C'\fR, particularly in reset sequences. Using
\&\-\-x\-initial\-edge with Verilator will replicate this behavior. It will also
ensure that X X 1 triggers a \f(CW\*(C`posedge\*(C'\fR.
.Sp
\&\fBNote.\fR Some users have reported that using this option can affect
convergence, and that it may be necessary to use \-\-converge\-limit to
increase the number of convergence iterations. This may be another
indication of problems with the modeled design that should be addressed.
.IP "\-\-xml\-only" 4
.IX Item "--xml-only"
Create \s-1XML\s0 output only, do not create any other output.
.Sp
The \s-1XML\s0 format is intended to be used to leverage Verilator's parser and
elaboration to feed to other downstream tools. Be aware that the \s-1XML\s0 format
is still evolving; there will be some changes in future versions.
.IP "\-\-xml\-output \fIfilename\fR" 4
.IX Item "--xml-output filename"
Filename for \s-1XML\s0 output file. Using this option automatically sets
\&\-\-xml\-only.
.IP "\-y \fIdir\fR" 4
.IX Item "-y dir"
Add the directory to the list of directories that should be searched for
include files or libraries.  The three flags \-y, +incdir and \-I have
similar effect; +incdir and +y are fairly standard across Verilog tools while
\&\-I is used by many \*(C+ compilers.
.Sp
Verilator defaults to the current directory (\*(L"\-y .\*(R") and any specified
\&\-\-Mdir, though these default paths are used after any user specified
directories.  This allows '\-y \*(L"$(pwd)\*(R"' to be used if absolute filenames
are desired for error messages instead of relative filenames.
.SH "SIMULATION RUNTIME ARGUMENTS"
.IX Header "SIMULATION RUNTIME ARGUMENTS"
The following are the arguments that may be passed to a Verilated
executable, provided that executable calls \fBVerilated::commandArgs()\fR.
.PP
All simulation runtime arguments begin with +verilator, so that the user's
executable may skip over all +verilator arguments when parsing its command
line.
.IP "+verilator+debug" 4
.IX Item "+verilator+debug"
Enable simulation runtime debugging.  Equivalent to +verilator+debugi+4.
.IP "+verilator+debugi+\fIvalue\fR" 4
.IX Item "+verilator+debugi+value"
Enable simulation runtime debugging at the provided level.
.IP "+verilator+error+limit+\fIvalue\fR" 4
.IX Item "+verilator+error+limit+value"
Set number of non-fatal errors (e.g. assertion failures) before exiting
simulation runtime. Also affects number of \f(CW$stop\fR calls needed before
exit. Defaults to 1.
.IP "+verilator+help" 4
.IX Item "+verilator+help"
Display help and exit.
.IP "+verilator+prof+threads+file+\fIfilename\fR" 4
.IX Item "+verilator+prof+threads+file+filename"
When a model was Verilated using \-\-prof\-threads, sets the simulation runtime
filename to dump to.  Defaults to \*(L"profile_threads.dat\*(R".
.IP "+verilator+prof+threads+start+\fIvalue\fR" 4
.IX Item "+verilator+prof+threads+start+value"
When a model was Verilated using \-\-prof\-threads, the simulation runtime will
wait until \f(CW$time\fR is at this value (expressed in units of the time
precision), then start the profiling warmup, then capturing. Generally this
should be set to some time that is well within the normal operation of the
simulation, i.e. outside of reset. If 0, the dump is disabled. Defaults to
1.
.IP "+verilator+prof+threads+window+\fIvalue\fR" 4
.IX Item "+verilator+prof+threads+window+value"
When a model was Verilated using \-\-prof\-threads, after \f(CW$time\fR reaches
+verilator+prof+threads+start, Verilator will warm up the profiling for
this number of \fBeval()\fR calls, then will capture the profiling of this number
of \fBeval()\fR calls.  Defaults to 2, which makes sense for a
single-clock-domain module where it's typical to want to capture one
posedge \fBeval()\fR and one negedge \fBeval()\fR.
.IP "+verilator+rand+reset+\fIvalue\fR" 4
.IX Item "+verilator+rand+reset+value"
When a model was Verilated using \*(L"\-x\-initial unique\*(R", sets the simulation
runtime initialization technique.  0 = Reset to zeros. 1 = Reset to
all-ones.  2 = Randomize.  See \*(L"Unknown states\*(R".
.IP "+verilator+seed+\fIvalue\fR" 4
.IX Item "+verilator+seed+value"
For \f(CW$random\fR and \*(L"\-x\-initial unique\*(R", set the simulation runtime random seed
value.  If zero or not specified picks a value from the system random
number generator.
.IP "+verilator+noassert" 4
.IX Item "+verilator+noassert"
Disable assert checking per runtime argument. This is the same as calling
\&\*(L"Verilated::assertOn(false)\*(R" in the model.
.IP "+verilator+V" 4
.IX Item "+verilator+V"
Shows the verbose version, including configuration information.
.IP "+verilator+version" 4
.IX Item "+verilator+version"
Displays program version and exits.
.SH "EXAMPLE \*(C+ EXECUTION"
.IX Header "EXAMPLE EXECUTION"
We'll compile this example into \*(C+.
.PP
.Vb 2
\&    mkdir test_our
\&    cd test_our
\&
\&    cat >our.v <<\*(AqEOF\*(Aq
\&      module our;
\&         initial begin $display("Hello World"); $finish; end
\&      endmodule
\&    EOF
\&
\&    cat >sim_main.cpp <<\*(AqEOF\*(Aq
\&      #include "Vour.h"
\&      #include "verilated.h"
\&      int main(int argc, char** argv, char** env) {
\&          Verilated::commandArgs(argc, argv);
\&          Vour* top = new Vour;
\&          while (!Verilated::gotFinish()) { top\->eval(); }
\&          delete top;
\&          exit(0);
\&      }
\&    EOF
.Ve
.PP
See the \s-1README\s0 in the source kit for various ways to install or point to
Verilator binaries.  In brief, if you installed Verilator using the package
manager of your operating system, or did a \*(L"make install\*(R" to place
Verilator into your default path, you do not need anything special in your
environment, and should not have \s-1VERILATOR_ROOT\s0 set.  However, if you
installed Verilator from sources and want to run Verilator out of where you
compiled Verilator, you need to point to the kit:
.PP
.Vb 3
\&    # See above; don\*(Aqt do this if using an OS\-distributed Verilator
\&    export VERILATOR_ROOT=/path/to/where/verilator/was/installed
\&    export PATH=$VERILATOR_ROOT/bin:$PATH
.Ve
.PP
Now we run Verilator on our little example.
.PP
.Vb 1
\&    verilator \-Wall \-\-cc our.v \-\-exe \-\-build sim_main.cpp
.Ve
.PP
We can see the source code under the \*(L"obj_dir\*(R" directory.  See the \s-1FILES\s0
section below for descriptions of some of the files that were created.
.PP
.Vb 1
\&    ls \-l obj_dir
.Ve
.PP
(Verilator included a default compile rule and link rule, since we used
\&\-\-exe and passed a .cpp file on the Verilator command line.  Verilator also
then used \f(CW\*(C`make\*(C'\fR to build a final executable, since we used \-\-build.  You
can also write your own compile rules, and run make yourself as we'll show
in the \s-1SYSTEMC\s0 section.
.PP
And now we run it:
.PP
.Vb 1
\&    obj_dir/Vour
.Ve
.PP
And we get as output:
.PP
.Vb 2
\&    Hello World
\&    \- our.v:2: Verilog $finish
.Ve
.PP
Really, you're better off writing a Makefile to do all this for you.  Then,
when your source changes it will automatically run all of these steps; to
aid this Verilator can create a makefile dependency file.  See the examples
directory in the distribution.
.SH "EXAMPLE SYSTEMC EXECUTION"
.IX Header "EXAMPLE SYSTEMC EXECUTION"
This is an example similar to the above, but using SystemC.
.PP
.Vb 2
\&    mkdir test_our_sc
\&    cd test_our_sc
\&
\&    cat >our.v <<\*(AqEOF\*(Aq
\&      module our (clk);
\&         input clk;  // Clock is required to get initial activation
\&         always @ (posedge clk)
\&            begin $display("Hello World"); $finish; end
\&      endmodule
\&    EOF
\&
\&    cat >sc_main.cpp <<\*(AqEOF\*(Aq
\&      #include "Vour.h"
\&      int sc_main(int argc, char** argv) {
\&          Verilated::commandArgs(argc, argv);
\&          sc_clock clk("clk", 10, SC_NS, 0.5, 3, SC_NS, true);
\&          Vour* top;
\&          top = new Vour("top");
\&          top\->clk(clk);
\&          while (!Verilated::gotFinish()) { sc_start(1, SC_NS); }
\&          delete top;
\&          exit(0);
\&      }
\&    EOF
.Ve
.PP
See the \s-1README\s0 in the source kit for various ways to install or point to
Verilator binaries.  In brief, if you installed Verilator using the package
manager of your operating system, or did a \*(L"make install\*(R" to place
Verilator into your default path, you do not need anything special in your
environment, and should not have \s-1VERILATOR_ROOT\s0 set.  However, if you
installed Verilator from sources and want to run Verilator out of where you
compiled Verilator, you need to point to the kit:
.PP
.Vb 3
\&    # See above; don\*(Aqt do this if using an OS\-distributed Verilator
\&    export VERILATOR_ROOT=/path/to/where/verilator/was/installed
\&    export PATH=$VERILATOR_ROOT/bin:$PATH
.Ve
.PP
Now we run Verilator on our little example.
.PP
.Vb 1
\&    verilator \-Wall \-\-sc our.v
.Ve
.PP
We then can compile it
.PP
.Vb 2
\&    make \-j \-C obj_dir \-f Vour.mk Vour_\|_ALL.a
\&    make \-j \-C obj_dir \-f Vour.mk ../sc_main.o verilated.o
.Ve
.PP
And link with SystemC.  Note your path to the libraries may vary,
depending on the operating system.
.PP
.Vb 5
\&    cd obj_dir
\&    export SYSTEMC_LIBDIR=/path/to/where/libsystemc.a/exists
\&    export LD_LIBRARY_PATH=$SYSTEMC_LIBDIR:$LD_LIBRARY_PATH
\&    # Might be needed if SystemC 2.3.0
\&    export SYSTEMC_CXX_FLAGS=\-pthread
\&
\&    g++ \-L$SYSTEMC_LIBDIR ../sc_main.o Vour_\|_ALL.a verilated.o \e
\&              \-o Vour \-lsystemc
.Ve
.PP
And now we run it
.PP
.Vb 2
\&    cd ..
\&    obj_dir/Vour
.Ve
.PP
And we get the same output as the \*(C+ example:
.PP
.Vb 2
\&    Hello World
\&    \- our.v:2: Verilog $finish
.Ve
.PP
Really, you're better off using a Makefile to do all this for you.  Then,
when your source changes it will automatically run all of these steps.  See
the examples directory in the distribution.
.SH "EVALUATION LOOP"
.IX Header "EVALUATION LOOP"
When using SystemC, evaluation of the Verilated model is managed by the SystemC
kernel, and for the most part can be ignored.  When using \*(C+, the user
must call \fBeval()\fR, or \fBeval_step()\fR and \fBeval_end_step()\fR.
.PP
1. When there is a single design instantiated at the \*(C+ level that needs to
evaluate, just call designp\->\fBeval()\fR.
.PP
2. When there are multiple designs instantiated at the \*(C+ level that
need to evaluate, call first_designp\->\fBeval_step()\fR then \->\fBeval_step()\fR on all
other designs.  Then call \->\fBeval_end_step()\fR on the first design then all
other designs.  If there is only a single design, you would call
\&\fBeval_step()\fR then \fBeval_end_step()\fR; in fact \fBeval()\fR described above is just a
wrapper which calls these two functions.
.PP
When \fBeval()\fR is called Verilator looks for changes in clock signals and
evaluates related sequential always blocks, such as computing always_ff @
(posedge...) outputs.  Then Verilator evaluates combinatorial logic.
.PP
Note combinatorial logic is not computed before sequential always blocks
are computed (for speed reasons). Therefore it is best to set any non-clock
inputs up with a separate \fBeval()\fR call before changing clocks.
.PP
Alternatively, if all always_ff statements use only the posedge of clocks,
or all inputs go directly to always_ff statements, as is typical, then you
can change non-clock inputs on the negative edge of the input clock, which
will be faster as there will be fewer \fBeval()\fR calls.
.PP
For more information on evaluation, see docs/internals.adoc in the
distribution.
.SH "BENCHMARKING & OPTIMIZATION"
.IX Header "BENCHMARKING & OPTIMIZATION"
For best performance, run Verilator with the \*(L"\-O3 \-\-x\-assign fast \-\-x\-initial
fast \-\-noassert\*(R" flags.  The \-O3 flag will require longer time to run
Verilator, and \*(L"\-\-x\-assign fast \-\-x\-initial fast\*(R" may increase the risk of
reset bugs in trade for performance; see the above documentation for these
flags.
.PP
If using Verilated multithreaded, use \f(CW\*(C`numactl\*(C'\fR to ensure you are using
non-conflicting hardware resources. See \*(L"\s-1MULTITHREADING\*(R"\s0.
.PP
Minor Verilog code changes can also give big wins.  You should not have any
\&\s-1UNOPTFLAT\s0 warnings from Verilator.  Fixing these warnings can result in
huge improvements; one user fixed their one \s-1UNOPTFLAT\s0 warning by making a
simple change to a clock latch used to gate clocks and gained a 60%
performance improvement.
.PP
Beyond that, the performance of a Verilated model depends mostly on your
\&\*(C+ compiler and size of your \s-1CPU\s0's caches. Experience shows that large models
are often limited by the size of the instruction cache, and as such reducing
code size if possible can be beneficial.
.PP
The supplied \f(CW$VERILATOR_ROOT\fR/include/verilated.mk file uses the \s-1OPT, OPT_FAST,
OPT_SLOW\s0 and \s-1OPT_GLOBAL\s0 variables to control optimization. You can set these
when compiling the output of Verilator with Make, for example:
.PP
.Vb 1
\&    make OPT_FAST="\-Os \-march=native" \-f Vour.mk Vour_\|_ALL.a
.Ve
.PP
\&\s-1OPT_FAST\s0 specifies optimization flags for those parts of the model that are on
the fast path. This is mostly code that is executed every cycle. \s-1OPT_SLOW\s0
applies to slow-path code, which executes rarely, often only once at the
beginning or end of simulation. Note that \s-1OPT_SLOW\s0 is ignored if
\&\s-1VM_PARALLEL_BUILDS\s0 is not 1, in which case all generated code will be compiled
in a single compilation unit using \s-1OPT_FAST.\s0 See also the \f(CW\*(C`\-\-output\-split\*(C'\fR
option. The \s-1OPT_GLOBAL\s0 variable applies to common code in the runtime library
used by Verilated models (shipped in \f(CW$VERILATOR_ROOT\fR/include). Additional \*(C+
files passed on the verilator command line use \s-1OPT_FAST.\s0 The \s-1OPT\s0 variable
applies to all compilation units in addition to the specific OPT_* variables
described above.
.PP
You can also use the \-CFLAGS and/or \-LDFLAGS options on the verilator command
line to pass flags directly to the compiler or linker.
.PP
The default values of the OPT_* variables are chosen to yield good simulation
speed with reasonable \*(C+ compilation times. To this end, \s-1OPT_FAST\s0 is set to
\&\*(L"\-Os\*(R" by default. Higher optimization such as \*(L"\-O2\*(R" or \*(L"\-O3\*(R" may help (though
often they provide only a very small performance benefit), but compile times
may be excessively large even with medium sized designs. Compilation times can
be improved at the expense of simulation speed by reducing optimization, for
example with OPT_FAST=\*(L"\-O0\*(R". Often good simulation speed can be achieved with
OPT_FAST=\*(L"\-O1 \-fstrict\-aliasing\*(R" but with improved compilation times. Files
controlled by \s-1OPT_SLOW\s0 have little effect on performance and therefore \s-1OPT_SLOW\s0
is empty by default (equivalent to \*(L"\-O0\*(R") for improved compilation speed. In
common use-cases there should be little benefit in changing \s-1OPT_SLOW.
OPT_GLOBAL\s0 is set to \*(L"\-Os\*(R" by default and there should rarely be a need to
change it. As the runtime library is small in comparison to a lot of Verilated
models, disabling optimization on the runtime library should not have a
serious effect on overall compilation time, but may have detrimental effect on
simulation speed, especially with tracing. In addition to the above, for best
results use OPT=\*(L"\-march=native\*(R", the latest Clang compiler (about 10% faster
than \s-1GCC\s0), and link statically.
.PP
Generally the answer to which optimization level gives the best user experience
depends on the use case and some experimentation can pay dividends. For a
speedy debug cycle during development, especially on large designs where \*(C+
compilation speed can dominate, consider using lower optimization to get to an
executable faster. For throughput oriented use cases, for example regressions,
it is usually worth spending extra compilation time to reduce total \s-1CPU\s0 time.
.PP
If you will be running many simulations on a single model, you can investigate
profile guided optimization. With \s-1GCC,\s0 using \-fprofile\-arcs, then
\&\-fbranch\-probabilities will yield another 15% or so.
.PP
Modern compilers also support link-time optimization (\s-1LTO\s0), which can help
especially if you link in \s-1DPI\s0 code. To enable \s-1LTO\s0 on \s-1GCC,\s0 pass \*(L"\-flto\*(R" in both
compilation and link. Note \s-1LTO\s0 may cause excessive compile times on large
designs.
.PP
Unfortunately, using the optimizer with SystemC files can result in compilation
taking several minutes. (The SystemC libraries have many little inlined
functions that drive the compiler nuts.)
.PP
If you are using your own makefiles, you may want to compile the Verilated
code with \-DVL_INLINE_OPT=inline. This will inline functions, however this
requires that all cpp files be compiled in a single compiler run.
.PP
You may uncover further tuning possibilities by profiling the Verilog code.
Use Verilator's \-\-prof\-cfuncs, then \s-1GCC\s0's \-g \-pg.  You can then run
either oprofile or gprof to see where in the \*(C+ code the time is spent.
Run the gprof output through verilator_profcfunc and it will tell you what
Verilog line numbers on which most of the time is being spent.
.PP
When done, please let the author know the results.  We like to keep tabs on
how Verilator compares, and may be able to suggest additional improvements.
.SH "FILES"
.IX Header "FILES"
All output files are placed in the output directory specified with the
\&\f(CW\*(C`\-\-Mdir\*(C'\fR option, or \*(L"obj_dir\*(R" if not specified.
.PP
Verilator creates the following files in the output directory:
.PP
For \-\-make gmake, it creates:
.PP
.Vb 4
\&    {prefix}.mk                         // Make include file for compiling
\&    {prefix}_classes.mk                 // Make include file with class names
\&    {prefix}_hier.mk                    // Make file for hierarchy blocks
\&    {prefix}_hierMkArgs.f               // Arguments for hierarchical Verilation.
.Ve
.PP
For \-\-make cmake, it creates:
.PP
.Vb 2
\&    {prefix}.cmake                      // CMake include script for compiling
\&    {prefix}_hierCMakeArgs.f            // Arguments for hierarchical Verilation.
.Ve
.PP
For \-cc and \-sc mode, it also creates:
.PP
.Vb 7
\&    {prefix}.cpp                        // Top level C++ file
\&    {prefix}.h                          // Top level header
\&    {prefix}_\|_Slow{_\|_n}.cpp             // Constructors and infrequent cold routines
\&    {prefix}{_\|_n}.cpp                   // Additional top C++ files (\-\-output\-split)
\&    {prefix}{each_verilog_module}.cpp   // Lower level internal C++ files
\&    {prefix}{each_verilog_module}.h     // Lower level internal header files
\&    {prefix}{each_verilog_module}{_\|_n}.cpp   // Additional lower C++ files (\-\-output\-split)
.Ve
.PP
For \-\-hierarchy mode, it creates:
    {prefix}_\|_hierVer.d                 // Make dependencies of the top module in the
                                           hierarchical Verilation
    {prefix}_\|_hier.dir/                 // Directory to store .dot, .vpp, .tree of the
                                           top module in the hierarchical Verilation
    V{hier_block}/                      // Directory to Verilate each hierarchy block
.PP
In certain debug and other modes, it also creates:
.PP
.Vb 11
\&    {prefix}.xml                        // XML tree information (\-\-xml)
\&    {prefix}_\|_Dpi.cpp                   // DPI import and export wrappers
\&    {prefix}_\|_Dpi.h                     // DPI import and export declarations
\&    {prefix}_\|_Inlines.h                 // Inline support functions
\&    {prefix}_\|_Syms.cpp                  // Global symbol table C++
\&    {prefix}_\|_Syms.h                    // Global symbol table header
\&    {prefix}_\|_Trace_\|_Slow{_\|_n}.cpp      // Wave file generation code (\-\-trace)
\&    {prefix}_\|_Trace{_\|_n}.cpp            // Wave file generation code (\-\-trace)
\&    {prefix}_\|_cdc.txt                   // Clock Domain Crossing checks (\-\-cdc)
\&    {prefix}_\|_stats.txt                 // Statistics (\-\-stats)
\&    {prefix}_\|_idmap.txt                 // Symbol demangling (\-\-protect\-ids)
.Ve
.PP
It also creates internal files that can be mostly ignored:
.PP
.Vb 5
\&    {mod_prefix}_{each_verilog_module}{_\|_n}.vpp  // Pre\-processed verilog
\&    {prefix}_\|_ver.d                     // Make dependencies (\-MMD)
\&    {prefix}_\|_verFiles.dat              // Timestamps for skip\-identical
\&    {prefix}{misc}.dot                  // Debugging graph files (\-\-debug)
\&    {prefix}{misc}.tree                 // Debugging files (\-\-debug)
.Ve
.PP
After running Make, the \*(C+ compiler may produce the following:
.PP
.Vb 9
\&    verilated{misc}.d                   // Intermediate dependencies
\&    verilated{misc}.o                   // Intermediate objects
\&    {mod_prefix}{misc}.d                // Intermediate dependencies
\&    {mod_prefix}{misc}.o                // Intermediate objects
\&    {prefix}                            // Final executable (w/\-\-exe argument)
\&    {prefix}_\|_ALL.a                     // Library of all Verilated objects
\&    {prefix}_\|_ALL.cpp                   // Include of all code for single compile
\&    {prefix}{misc}.d                    // Intermediate dependencies
\&    {prefix}{misc}.o                    // Intermediate objects
.Ve
.SH "ENVIRONMENT"
.IX Header "ENVIRONMENT"
.IP "\s-1LD_LIBRARY_PATH\s0" 4
.IX Item "LD_LIBRARY_PATH"
A generic Linux/OS variable specifying what directories have shared object
(.so) files.  This path should include SystemC and any other shared objects
needed at simulation runtime.
.IP "\s-1MAKE\s0" 4
.IX Item "MAKE"
Names the executable of the make command invoked when using the \-\-build option.
Some operating systems may require \*(L"gmake\*(R" to this variable to launch \s-1GNU\s0 make.
If this variable is not specified, \*(L"make\*(R" is used.
.IP "\s-1OBJCACHE\s0" 4
.IX Item "OBJCACHE"
Optionally specifies a caching or distribution program to place in front of
all runs of the \*(C+ compiler.  For example, \*(L"ccache\*(R".  If using distcc or
icecc/icecream, they would generally be run under cache; see the
documentation for those programs.  If \s-1OBJCACHE\s0 is not set, and at configure
time ccache was present, ccache will be used as a default.
.IP "\s-1SYSTEMC\s0" 4
.IX Item "SYSTEMC"
Deprecated.  Used only if \s-1SYSTEMC_INCLUDE\s0 or \s-1SYSTEMC_LIBDIR\s0 is not set.  If
set, specifies the directory containing the SystemC distribution.  If not
specified, it will come from a default optionally specified at configure
time (before Verilator was compiled).
.IP "\s-1SYSTEMC_ARCH\s0" 4
.IX Item "SYSTEMC_ARCH"
Deprecated.  Used only if \s-1SYSTEMC_LIBDIR\s0 is not set.  Specifies the
architecture name used by the SystemC kit.  This is the part after the dash
in the lib\-{...} directory name created by a 'make' in the SystemC
distribution.  If not set, Verilator will try to intuit the proper setting,
or use the default optionally specified at configure time (before Verilator
was compiled).
.IP "\s-1SYSTEMC_CXX_FLAGS\s0" 4
.IX Item "SYSTEMC_CXX_FLAGS"
Specifies additional flags that are required to be passed to \s-1GCC\s0 when
building the SystemC model.  System 2.3.0 may need this set to \*(L"\-pthread\*(R".
.IP "\s-1SYSTEMC_INCLUDE\s0" 4
.IX Item "SYSTEMC_INCLUDE"
If set, specifies the directory containing the systemc.h header file. If
not specified, it will come from a default optionally specified at
configure time (before Verilator was compiled), or computed from
SYSTEMC/include.
.IP "\s-1SYSTEMC_LIBDIR\s0" 4
.IX Item "SYSTEMC_LIBDIR"
If set, specifies the directory containing the libsystemc.a library. If not
specified, it will come from a default optionally specified at configure
time (before Verilator was compiled), or computed from
SYSTEMC/lib\-SYSTEMC_ARCH.
.IP "\s-1VERILATOR_BIN\s0" 4
.IX Item "VERILATOR_BIN"
If set, specifies an alternative name of the \f(CW\*(C`verilator\*(C'\fR binary.  May be
used for debugging and selecting between multiple operating system builds.
.IP "\s-1VERILATOR_COVERAGE_BIN\s0" 4
.IX Item "VERILATOR_COVERAGE_BIN"
If set, specifies an alternative name of the \f(CW\*(C`verilator_coverage binary\*(C'\fR.
May be used for debugging and selecting between multiple operating system
builds.
.IP "\s-1VERILATOR_GDB\s0" 4
.IX Item "VERILATOR_GDB"
If set, the command to run when using the \-\-gdb option, such as \*(L"ddd\*(R".  If
not specified, it will use \*(L"gdb\*(R".
.IP "\s-1VERILATOR_ROOT\s0" 4
.IX Item "VERILATOR_ROOT"
Specifies the directory containing the distribution kit.  This is used to
find the executable, Perl library, and include files.  If not specified, it
will come from a default optionally specified at configure time (before
Verilator was compiled).  It should not be specified if using a pre-compiled
Verilator package as the hard-coded value should be correct.
.SH "CONNECTING TO \*(C+"
.IX Header "CONNECTING TO "
Verilator creates a \fIprefix\fR.h and \fIprefix\fR.cpp file for the top level
module, together with additional .h and .cpp files for internals. See the
examples directory in the kit for examples.
.PP
After the model is created, there will be a \fIprefix\fR.mk file that may
be used with Make to produce a \fIprefix\fR_\|_ALL.a file with all required
objects in it.  This is then linked with the user's \*(C+ main loop to
create the simulation executable.
.PP
The user must write the \*(C+ main loop of the simulation.  Here is a simple
example:
.PP
.Vb 3
\&        #include <verilated.h>          // Defines common routines
\&        #include <iostream>             // Need std::cout
\&        #include "Vtop.h"               // From Verilating "top.v"
\&
\&        Vtop *top;                      // Instantiation of module
\&
\&        vluint64_t main_time = 0;       // Current simulation time
\&        // This is a 64\-bit integer to reduce wrap over issues and
\&        // allow modulus.  This is in units of the timeprecision
\&        // used in Verilog (or from \-\-timescale\-override)
\&
\&        double sc_time_stamp () {       // Called by $time in Verilog
\&            return main_time;           // converts to double, to match
\&                                        // what SystemC does
\&        }
\&
\&        int main(int argc, char** argv) {
\&            Verilated::commandArgs(argc, argv);   // Remember args
\&
\&            top = new Vtop;             // Create instance
\&
\&            top\->reset_l = 0;           // Set some inputs
\&
\&            while (!Verilated::gotFinish()) {
\&                if (main_time > 10) {
\&                    top\->reset_l = 1;   // Deassert reset
\&                }
\&                if ((main_time % 10) == 1) {
\&                    top\->clk = 1;       // Toggle clock
\&                }
\&                if ((main_time % 10) == 6) {
\&                    top\->clk = 0;
\&                }
\&                top\->eval();            // Evaluate model
\&                cout << top\->out << endl;       // Read a output
\&                main_time++;            // Time passes...
\&            }
\&
\&            top\->final();               // Done simulating
\&            //    // (Though this example doesn\*(Aqt get here)
\&            delete top;
\&        }
.Ve
.PP
Note signals are read and written as member variables of the model.
You call the \fBeval()\fR method to evaluate the model.  When the simulation is
complete call the \fBfinal()\fR method to execute any SystemVerilog final blocks,
and complete any assertions. See \*(L"\s-1EVALUATION LOOP\*(R"\s0.
.SH "CONNECTING TO SYSTEMC"
.IX Header "CONNECTING TO SYSTEMC"
Verilator will convert the top level module to a \s-1SC_MODULE.\s0  This module
will plug directly into a SystemC netlist.
.PP
The \s-1SC_MODULE\s0 gets the same pinout as the Verilog module, with the
following type conversions: Pins of a single bit become bool.  Pins 2\-32
bits wide become uint32_t's.  Pins 33\-64 bits wide become sc_bv's or
vluint64_t's depending on the \-\-no\-pins64 switch.  Wider pins become sc_bv's.
(Uints simulate the fastest so are used where possible.)
.PP
Lower modules are not pure SystemC code.  This is a feature, as using the
SystemC pin interconnect scheme everywhere would reduce performance by an
order of magnitude.
.SH "DIRECT PROGRAMMING INTERFACE (DPI)"
.IX Header "DIRECT PROGRAMMING INTERFACE (DPI)"
Verilator supports SystemVerilog Direct Programming Interface import and
export statements.  Only the SystemVerilog form (\*(L"DPI-C\*(R") is supported, not
the original Synopsys-only \s-1DPI.\s0
.SS "\s-1DPI\s0 Example"
.IX Subsection "DPI Example"
In the \s-1SYSTEMC\s0 example above, if you wanted to import \*(C+ functions into
Verilog, put in our.v:
.PP
.Vb 1
\&   import "DPI\-C" function int add (input int a, input int b);
\&
\&   initial begin
\&      $display("%x + %x = %x", 1, 2, add(1,2));
\&   endtask
.Ve
.PP
Then after Verilating, Verilator will create a file Vour_\|_Dpi.h with the
prototype to call this function:
.PP
.Vb 1
\&    extern int add (int a, int b);
.Ve
.PP
From the sc_main.cpp file (or another .cpp file passed to the Verilator
command line, or the link), you'd then:
.PP
.Vb 3
\&    #include "svdpi.h"
\&    #include "Vour_\|_Dpi.h"
\&    int add(int a, int b) { return a+b; }
.Ve
.SS "\s-1DPI\s0 System Task/Functions"
.IX Subsection "DPI System Task/Functions"
Verilator extends the \s-1DPI\s0 format to allow using the same scheme to
efficiently add system functions.  Simply use a dollar-sign prefixed system
function name for the import, but note it must be escaped.
.PP
.Vb 1
\&   export "DPI\-C" function integer \e$myRand;
\&
\&   initial $display("myRand=%d", $myRand());
.Ve
.PP
Going the other direction, you can export Verilog tasks so they can be
called from \*(C+:
.PP
.Vb 1
\&   export "DPI\-C" task publicSetBool;
\&
\&   task publicSetBool;
\&      input bit in_bool;
\&      var_bool = in_bool;
\&   endtask
.Ve
.PP
Then after Verilating, Verilator will create a file Vour_\|_Dpi.h with the
prototype to call this function:
.PP
.Vb 1
\&    extern void publicSetBool(svBit in_bool);
.Ve
.PP
From the sc_main.cpp file, you'd then:
.PP
.Vb 2
\&    #include "Vour_\|_Dpi.h"
\&    publicSetBool(value);
.Ve
.PP
Or, alternatively, call the function under the design class.  This isn't
\&\s-1DPI\s0 compatible but is easier to read and better supports multiple designs.
.PP
.Vb 3
\&    #include "Vour_\|_Dpi.h"
\&    Vour::publicSetBool(value);
\&    // or top\->publicSetBool(value);
.Ve
.PP
Note that if the \s-1DPI\s0 task or function accesses any register or net within the
\&\s-1RTL,\s0 it will require a scope to be set. This can be done using the standard
functions within svdpi.h, after the module is instantiated, but before the
task(s) and/or function(s) are called.
.PP
For example, if the top level module is instantiated with the name \*(L"dut\*(R" and
the name references within tasks are all hierarchical (dotted) names with
respect to that top level module, then the scope could be set with
.PP
.Vb 3
\&    #include "svdpi.h"
\&    ...
\&    svSetScope(svGetScopeFromName("TOP.dut"));
.Ve
.PP
(Remember that Verilator adds a \*(L"\s-1TOP\*(R"\s0 to the top of the module hierarchy.)
.PP
Scope can also be set from within a \s-1DPI\s0 imported C function that has been
called from Verilog by querying the scope of that function. See the
sections on \s-1DPI\s0 Context Functions and \s-1DPI\s0 Header Isolation below and the
comments within the svdpi.h header for more information.
.SS "\s-1DPI\s0 Display Functions"
.IX Subsection "DPI Display Functions"
Verilator allows writing \f(CW$display\fR like functions using this syntax:
.PP
.Vb 2
\&   import "DPI\-C" function void
\&         \e$my_display(input string formatted /*verilator sformat*/ );
.Ve
.PP
The /*verilator sformat*/ indicates that this function accepts a \f(CW$display\fR
like format specifier followed by any number of arguments to satisfy the
format.
.SS "\s-1DPI\s0 Context Functions"
.IX Subsection "DPI Context Functions"
Verilator supports \s-1IEEE DPI\s0 Context Functions.  Context imports pass the
simulator context, including calling scope name, and filename and line
number to the C code.  For example, in Verilog:
.PP
.Vb 2
\&   import "DPI\-C" context function int dpic_line();
\&   initial $display("This is line %d, again, line %d\en", \`line, dpic_line());
.Ve
.PP
This will call \*(C+ code which may then use the svGet* functions to read
information, in this case the line number of the Verilog statement that
invoked the dpic_line function:
.PP
.Vb 2
\&   int dpic_line() {
\&       // Get a scope:  svScope scope = svGetScope();
\&
\&       const char* scopenamep = svGetNameFromScope(scope);
\&       assert(scopenamep);
\&
\&       const char* filenamep = "";
\&       int lineno = 0;
\&       if (svGetCallerInfo(&filenamep, &lineno)) {
\&           printf("dpic_line called from scope %s on line %d\en",
\&              scopenamep, lineno);
\&           return lineno;
\&       } else {
\&           return 0;
\&       }
\&   }
.Ve
.PP
See the \s-1IEEE\s0 Standard for more information.
.SS "\s-1DPI\s0 Header Isolation"
.IX Subsection "DPI Header Isolation"
Verilator places the \s-1IEEE\s0 standard header files such as svdpi.h into a
separate include directory, vltstd (VeriLaTor STandarD).  When compiling
most applications \f(CW$VERILATOR_ROOT\fR/include/vltstd would be in the include
path along with the normal \f(CW$VERILATOR_ROOT\fR/include.  However, when
compiling Verilated models into other simulators which have their own
svdpi.h and similar standard files with different contents, the vltstd
directory should not be included to prevent picking up incompatible
definitions.
.SS "Public Functions"
.IX Subsection "Public Functions"
Instead of \s-1DPI\s0 exporting, there's also Verilator public functions, which
are slightly faster, but less compatible.
.SH "VERIFICATION PROCEDURAL INTERFACE (VPI)"
.IX Header "VERIFICATION PROCEDURAL INTERFACE (VPI)"
Verilator supports a very limited subset of the \s-1VPI.\s0  This subset allows
inspection, examination, value change callbacks, and depositing of values
to public signals only.
.PP
\&\s-1VPI\s0 is enabled with the verilator \-\-vpi switch.
.PP
To access signals via the \s-1VPI,\s0 Verilator must be told exactly which signals
are to be accessed.  This is done using the Verilator public pragmas
documented below.
.PP
Verilator has an important difference from an event based simulator; signal
values that are changed by the \s-1VPI\s0 will not immediately propagate their
values, instead the top level header file's \fBeval()\fR method must be called.
Normally this would be part of the normal evaluation (i.e. the next clock
edge), not as part of the value change.  This makes the performance of \s-1VPI\s0
routines extremely fast compared to event based simulators, but can confuse
some test-benches that expect immediate propagation.
.PP
Note the \s-1VPI\s0 by its specified implementation will always be much slower
than accessing the Verilator values by direct reference
(structure\->module\->signame), as the \s-1VPI\s0 accessors perform lookup in
functions at simulation runtime requiring at best hundreds of instructions,
while the direct references are evaluated by the compiler and result in
only a couple of instructions.
.PP
For signal callbacks to work the main loop of the program must call
\&\fBVerilatedVpi::callValueCbs()\fR.
.SS "\s-1VPI\s0 Example"
.IX Subsection "VPI Example"
In the below example, we have readme marked read-only, and writeme which if
written from outside the model will have the same semantics as if it
changed on the specified clock edge.
.PP
.Vb 7
\&    cat >our.v <<\*(AqEOF\*(Aq
\&      module our (input clk);
\&         reg readme   /*verilator public_flat_rd*/;
\&         reg writeme  /*verilator public_flat_rw @(posedge clk) */;
\&         initial $finish;
\&      endmodule
\&    EOF
.Ve
.PP
There are many online tutorials and books on the \s-1VPI,\s0 but an example that
accesses the above signal \*(L"readme\*(R" would be:
.PP
.Vb 4
\&    cat >sim_main.cpp <<\*(Aq<<EOF\*(Aq
\&      #include "Vour.h"
\&      #include "verilated.h"
\&      #include "verilated_vpi.h"  // Required to get definitions
\&
\&      vluint64_t main_time = 0;   // See comments in first example
\&      double sc_time_stamp() { return main_time; }
\&
\&      void read_and_check() {
\&          vpiHandle vh1 = vpi_handle_by_name((PLI_BYTE8*)"TOP.our.readme", NULL);
\&          if (!vh1) { vl_fatal(_\|_FILE_\|_, _\|_LINE_\|_, "sim_main", "No handle found"); }
\&          const char* name = vpi_get_str(vpiName, vh1);
\&          printf("Module name: %s\en", name);  // Prints "readme"
\&
\&          s_vpi_value v;
\&          v.format = vpiIntVal;
\&          vpi_get_value(vh1, &v);
\&          printf("Value of v: %d\en", v.value.integer);  // Prints "readme"
\&      }
\&
\&      int main(int argc, char** argv, char** env) {
\&          Verilated::commandArgs(argc, argv);
\&          Vour* top = new Vour;
\&          Verilated::internalsDump();  // See scopes to help debug
\&          while (!Verilated::gotFinish()) {
\&              top\->eval();
\&              VerilatedVpi::callValueCbs();  // For signal callbacks
\&              read_and_check();
\&          }
\&          delete top;
\&          exit(0);
\&      }
\&    EOF
.Ve
.SH "CROSS COMPILATION"
.IX Header "CROSS COMPILATION"
Verilator supports cross-compiling Verilated code.  This is generally used
to run Verilator on a Linux system and produce \*(C+ code that is then compiled
on Windows.
.PP
Cross compilation involves up to three different OSes.  The build system is
where you configured and compiled Verilator, the host system where you run
Verilator, and the target system where you compile the Verilated code and
run the simulation.
.PP
Currently, Verilator requires the build and host system type to be the
same, though the target system type may be different.  To support this,
\&./configure and make Verilator on the build system.  Then, run Verilator on
the host system.  Finally, the output of Verilator may be compiled on the
different target system.
.PP
To support this, none of the files that Verilator produces will reference
any configure generated build-system specific files, such as config.h
(which is renamed in Verilator to config_build.h to reduce confusion.)  The
disadvantage of this approach is that include/verilatedos.h must
self-detect the requirements of the target system, rather than using
configure.
.PP
The target system may also require edits to the Makefiles, the simple
Makefiles produced by Verilator presume the target system is the same type
as the build system.
.SS "CMake"
.IX Subsection "CMake"
Verilator can be run using CMake, which takes care of both running
Verilator and compiling the output. There is a CMake example in the
examples/ directory. The following is a minimal CMakeLists.txt that
would build the code listed in \*(L"\s-1EXAMPLE \*(C+ EXECUTION\*(R":\s0
.PP
.Vb 4
\&    project(cmake_example)
\&    find_package(verilator HINTS $ENV{VERILATOR_ROOT})
\&    add_executable(Vour sim_main.cpp)
\&    verilate(Vour SOURCES our.v)
.Ve
.PP
find_package will automatically find an installed copy of Verilator, or use
a local build if \s-1VERILATOR_ROOT\s0 is set.
.PP
It is recommended to use CMake >= 3.12 and the Ninja generator, though
other combinations should work. To build with CMake, change to the folder
containing CMakeLists.txt and run:
.PP
.Vb 4
\&    mkdir build
\&    cd build
\&    cmake \-GNinja ..
\&    ninja
.Ve
.PP
Or to build with your system default generator:
.PP
.Vb 4
\&    mkdir build
\&    cd build
\&    cmake ..
\&    cmake \-\-build .
.Ve
.PP
If you're building the example you should have an executable to run:
.PP
.Vb 1
\&    ./Vour
.Ve
.PP
The package sets the CMake variables verilator_FOUND, \s-1VERILATOR_ROOT\s0 and
\&\s-1VERILATOR_BIN\s0 to the appropriate values, and also creates a \fBverilate()\fR
function. \fBverilate()\fR will automatically create custom commands to run
Verilator and add the generated \*(C+ sources to the target specified.
.PP
.Vb 4
\&    verilate(target SOURCES source ... [TOP_MODULE top] [PREFIX name]
\&             [TRACE] [TRACE_FST] [SYSTEMC] [COVERAGE]
\&             [INCLUDE_DIRS dir ...] [OPT_SLOW ...] [OPT_FAST ...]
\&             [OPT_GLOBAL ..] [DIRECTORY dir] [VERILATOR_ARGS ...])
.Ve
.PP
Lowercase and ... should be replaced with arguments, the uppercase parts
delimit the arguments and can be passed in any order, or left out entirely
if optional.
.PP
verilate(target ...) can be called multiple times to add other verilog
modules to an executable or library target.
.PP
When generating Verilated SystemC sources, you should also include the
SystemC include directories and link to the SystemC libraries.
.PP
Verilator's CMake support provides a convenience function to automatically
find and link to the SystemC library.  It can be used as:
.PP
.Vb 1
\&    verilator_link_systemc(target)
.Ve
.PP
where target is the name of your target.
.PP
The search paths can be configured by setting some variables:
.PP
\&\- The variables \s-1SYSTEMC_INCLUDE\s0 and \s-1SYSTEMC_LIBDIR\s0 to give a direct path to
the SystemC include an library path.
.PP
\&\- \s-1SYSTEMC_ROOT\s0 to set the installation prefix of an installed SystemC
  library.
.PP
\&\- \s-1SYSTEMC\s0 to set the installation prefix of an installed SystemC library
  (same as above).
.PP
\&\- When using Accellera's SystemC with CMake support, a CMake target is
available that simplifies the above steps. This will only work if the
SystemC installation can be found by CMake. This can be configured by
setting the \s-1CMAKE_PREFIX_PATH\s0 variable during CMake configuration.
.PP
Don't forget to set the same \*(C+ standard for the Verilated sources as the
SystemC library. This can be specified using the \s-1SYSTEMC_CXX_FLAGS\s0 environment
variable.
.IP "target" 4
.IX Item "target"
Name of a target created by add_executable or add_library.
.IP "\s-1SOURCES\s0" 4
.IX Item "SOURCES"
List of Verilog files to Verilate. Must have at least one file.
.IP "\s-1PREFIX\s0" 4
.IX Item "PREFIX"
Optional. Sets the Verilator output prefix. Defaults to the name of the
first source file with a \*(L"V\*(R" prepended. Must be unique in each call to
\&\fBverilate()\fR, so this is necessary if you build a module multiple times with
different parameters. Must be a valid \*(C+ identifier, i.e. contains no
white space and only characters A\-Z, a\-z, 0\-9 or _.
.IP "\s-1TOP_MODULE\s0" 4
.IX Item "TOP_MODULE"
Optional. Sets the name of the top module. Defaults to the name of the
first file in the \s-1SOURCES\s0 array.
.IP "\s-1TRACE\s0" 4
.IX Item "TRACE"
Optional. Enables \s-1VCD\s0 tracing if present, equivalent to \*(L"\s-1VERILATOR_ARGS\s0 \-\-trace\*(R".
.IP "\s-1TRACE_FST\s0" 4
.IX Item "TRACE_FST"
Optional. Enables \s-1FST\s0 tracing if present, equivalent to \*(L"\s-1VERILATOR_ARGS\s0 \-\-trace\-fst\*(R".
.IP "\s-1SYSTEMC\s0" 4
.IX Item "SYSTEMC"
Optional. Enables SystemC mode, defaults to \*(C+ if not specified.
.IP "\s-1COVERAGE\s0" 4
.IX Item "COVERAGE"
Optional. Enables coverage if present, equivalent to \*(L"\s-1VERILATOR_ARGS\s0 \-\-coverage\*(R"
.IP "\s-1INCLUDE_DIRS\s0" 4
.IX Item "INCLUDE_DIRS"
Optional. Sets directories that Verilator searches (same as \-y).
.IP "\s-1OPT_SLOW\s0" 4
.IX Item "OPT_SLOW"
Optional. Set compiler flags for the slow path. You may want to reduce the
optimization level to improve compile times with large designs.
.IP "\s-1OPT_FAST\s0" 4
.IX Item "OPT_FAST"
Optional. Set compiler flags for the fast path.
.IP "\s-1OPT_GLOBAL\s0" 4
.IX Item "OPT_GLOBAL"
Optional. Set compiler flags for the common runtime library used by Verilated
models.
.IP "\s-1DIRECTORY\s0" 4
.IX Item "DIRECTORY"
Optional. Set the verilator output directory. It is preferable to use the
default, which will avoid collisions with other files.
.IP "\s-1VERILATOR_ARGS\s0" 4
.IX Item "VERILATOR_ARGS"
Optional. Extra arguments to Verilator. Do not specify \-\-Mdir or \-\-prefix
here, use \s-1DIRECTORY\s0 or \s-1PREFIX.\s0
.SH "HIERARCHICAL VERILATION"
.IX Header "HIERARCHICAL VERILATION"
Large designs may take long (e.g. 10+ minutes) and huge memory (e.g. 100+GB)
to Verilate. One workaround is hierarchical Verilation, it is to Verilate
each moderate size of building blocks and finally combine the building blocks.
The building block will be called \*(L"hierarchy block\*(R" later.
.PP
The current hierarchical Verilation is based on protect-lib. Each hierarchy
block is Verilated to protect-lib. User modules of the hierarchy blocks will see
a tiny wrapper generated by protect-lib instead of the actual design.
.SS "Usage"
.IX Subsection "Usage"
All user need to do is mark moderate size of module as hierarchy block and pass
\&\-\-hierarchical option to verilator command.
There are two ways to mark a module:
.PP
.Vb 4
\&  a) Write /* verilator hier_block */ metacomment in HDL code
\&      See L</"LANGUAGE EXTENSIONS"> for more detail.
\&  b) add hier_block line in the configuration file.
\&     See C<hier_block> in L</"CONFIGURATION FILES"> for example.
.Ve
.PP
You don't have to take care of hierarchical blocks when compiling
Verilated \*(C+ code. You can compile as usual.
    make \-C obj_dir \-f Vtop_module_name.mk
.PP
See also \*(L"Overlapping Verilation and compilation\*(R" to get executable quickly.
.SS "Limitations"
.IX Subsection "Limitations"
Because hierarchy blocks are Verilated to protect-lib, they have some
 limitations such as:
.PP
.Vb 3
\&   The block cannot be accessed using dot (.) from upper module.
\&   Signals in the block cannot be traced.
\&   Modport cannot be used at the hirarchical block boundary.
.Ve
.PP
On the other hand, the following usage is supported.
.PP
.Vb 4
\&    \- Nested hierarchy block. A hierarchy block may instantiate other
\&      hierarchy blocks.
\&    \- Parameterized hierarchy block. Parameters of a hierarchy block can be
\&      overridden using #(.param_name(value)) construct.
.Ve
.PP
The simulation speed may not be as fast as flat Verilation, in which
all modules are globally scheduled.
.SS "Overlapping Verilation and compilation"
.IX Subsection "Overlapping Verilation and compilation"
Verilator needs to run N + 2 times in hierarchical Verilation, where N is
the number of hierarchy blocks.
1 of 2 is for the top module which refers wrappers of all other hierarchy
blocks.
The other 1 of 2 is the initial run that searches modules marked with
/*verilator hier_block*/ metacomment and creates a plan and write in
(prefix)_hier.mk.
This initial run internally invokes other N + 1 runs, so you don't have
to care about these N + 1 times of run.
.PP
If \-j <jobs> option is specified, Verilation for hierarchy blocks
runs in parallel.
.PP
If \-\-build option is also specified, \*(C+ compilation also runs as soon as
a hierarchy block is Verilated. \*(C+ compilation and Verilation for
other hierarchy blocks run simultaneously.
.SH "MULTITHREADING"
.IX Header "MULTITHREADING"
Verilator supports multithreaded simulation models.
.PP
With \-\-no\-threads, the default, the model is not thread safe, and any use
of more than one thread calling into one or even different Verilated models
may result in unpredictable behavior. This gives the highest single thread
performance.
.PP
With \-\-threads 1, the generated model is single threaded, however the
support libraries are multithread safe. This allows different
instantiations of model(s) to potentially each be run under a different
thread. All threading is the responsibility of the user's \*(C+ testbench.
.PP
With \-\-threads N, where N is at least 2, the generated model will be
designed to run in parallel on N threads. The thread calling \fBeval()\fR
provides one of those threads, and the generated model will create and
manage the other N\-1 threads. It's the client's responsibility not to
oversubscribe the available \s-1CPU\s0 cores. Under \s-1CPU\s0 oversubscription, the
Verilated model should not livelock nor deadlock, however, you can expect
performance to be far worse than it would be with proper ratio of
threads and \s-1CPU\s0 cores.
.PP
The remainder of this section describe behavior with \-\-threads 1 or
\&\-\-threads N (not \-\-no\-threads).
.PP
\&\s-1VL_THREADED\s0 is defined when compiling a threaded Verilated module, causing
the Verilated support classes become threadsafe.
.PP
The thread used for constructing a model must be the same thread that
calls \fBeval()\fR into the model, this is called the \*(L"eval thread\*(R". The thread
used to perform certain global operations such as saving and tracing must
be done by a \*(L"main thread\*(R". In most cases the eval thread and main thread
are the same thread (i.e. the user's top \*(C+ testbench runs on a single
thread), but this is not required.
.PP
The \-\-trace\-threads options can be used to produce trace dumps using multiple
threads. If \-\-trace\-threads is set without \-\-threads, then \-\-trace\-threads will
imply \-\-threads 1, i.e.: the support libraries will be thread safe.
.PP
With \-\-trace\-threads 0, trace dumps are produced on the main thread. This again
gives the highest single thread performance.
.PP
With \-\-trace\-threads N, where N is at least 1, N additional threads will be
created and managed by the trace files (e.g.: VerilatedVcdC or VerilatedFstC),
to generate the trace dump. The main thread will be released to proceed with
execution as soon as possible, though some blocking of the main thread is still
necessary while capturing the trace. Different trace formats can utilize a
various number of threads. See the \-\-trace\-threads option.
.PP
When running a multithreaded model, the default Linux task scheduler often
works against the model, by assuming threads are short lived, and thus
often schedules threads using multiple hyperthreads within the same
physical core. For best performance use the \f(CW\*(C`numactl\*(C'\fR program to (when the
threading count fits) select unique physical cores on the same socket. The
same applies for \-\-trace\-threads as well.
.PP
As an example, if a model was Verilated with \*(L"\-\-threads 4\*(R", we consult
.PP
.Vb 1
\&   egrep \*(Aqprocessor|physical id|core id\*(Aq /proc/cpuinfo
.Ve
.PP
To select cores 0, 1, 2, and 3 that are all located on the same socket (0)
but different physical cores.  (Also useful is \*(L"numactl \-\-hardware\*(R", or
\&\f(CW\*(C`lscpu\*(C'\fR but those doesn't show Hyperthreading cores.) Then we execute
.PP
.Vb 1
\&   numactl \-m 0 \-C 0,1,2,3 \-\- verilated_executable_name
.Ve
.PP
This will limit memory to socket 0, and threads to cores 0, 1, 2, 3,
(presumably on socket 0) optimizing performance.  Of course this must be
adjusted if you want another simulator using e.g. socket 1, or if you
Verilated with a different number of threads.  To see what CPUs are
actually used, use \-\-prof\-threads.
.SS "Multithreaded Verilog and Library Support"
.IX Subsection "Multithreaded Verilog and Library Support"
\&\f(CW$display\fR/$stop/$finish are delayed until the end of an \fBeval()\fR call in order
to maintain ordering between threads. This may result in additional tasks
completing after the \f(CW$stop\fR or \f(CW$finish\fR.
.Sp
.RS 4
If using \-\-coverage, the coverage routines are fully thread safe.
.Sp
If using \-\-dpi, Verilator assumes pure \s-1DPI\s0 imports are thread safe,
balancing performance versus safety. See \-\-threads\-dpi.
.Sp
If using \-\-savable, the save/restore classes are not multithreaded and
must be called only by the eval thread.
.Sp
If using \-\-sc, the SystemC kernel is not thread safe, therefore the eval
thread and main thread must be the same.
.Sp
If using \-\-trace, the tracing classes must be constructed and called from
the main thread.
.Sp
If using \-\-vpi, since SystemVerilog \s-1VPI\s0 was not architected by \s-1IEEE\s0 to be
multithreaded, Verilator requires all \s-1VPI\s0 calls are only made from the main
thread.
.RE
.SH "CONFIGURATION FILES"
.IX Header "CONFIGURATION FILES"
In addition to the command line, warnings and other features may be
controlled by configuration files, typically named with the .vlt
extension. An example:
.PP
.Vb 3
\&  \`verilator_config
\&  lint_off \-rule WIDTH
\&  lint_off \-rule CASEX  \-file "silly_vendor_code.v"
.Ve
.PP
This disables \s-1WIDTH\s0 warnings globally, and \s-1CASEX\s0 for a specific file.
.PP
Configuration files are fed through the normal Verilog preprocessor prior to
parsing, so `ifdefs, `defines, and comments may be used as if it were normal
Verilog code.
.PP
Note that file or line-specific configuration only applies to files read
after the configuration file. It is therefore recommended to pass the
configuration file to Verilator as the first file.
.PP
The grammar of configuration commands is as follows:
.IP "`verilator_config" 4
.IX Item "`verilator_config"
Take remaining text and treat it as Verilator configuration commands.
.ie n .IP "coverage_on  [\-file ""<filename>"" [\-lines <line> [ \- <line> ]]]" 4
.el .IP "coverage_on  [\-file ``<filename>'' [\-lines <line> [ \- <line> ]]]" 4
.IX Item "coverage_on [-file <filename> [-lines <line> [ - <line> ]]]"
.PD 0
.ie n .IP "coverage_off [\-file ""<filename>"" [\-lines <line> [ \- <line> ]]]" 4
.el .IP "coverage_off [\-file ``<filename>'' [\-lines <line> [ \- <line> ]]]" 4
.IX Item "coverage_off [-file <filename> [-lines <line> [ - <line> ]]]"
.PD
Enable/disable coverage for the specified filename (or wildcard with '*' or
\&'?', or all files if omitted) and range of line numbers (or all lines if
omitted).  Often used to ignore an entire module for coverage analysis
purposes.
.ie n .IP "lint_on  [\-rule <message>] [\-file ""<filename>"" [\-lines <line> [ \- <line>]]]" 4
.el .IP "lint_on  [\-rule <message>] [\-file ``<filename>'' [\-lines <line> [ \- <line>]]]" 4
.IX Item "lint_on [-rule <message>] [-file <filename> [-lines <line> [ - <line>]]]"
.PD 0
.ie n .IP "lint_off [\-rule <message>] [\-file ""<filename>"" [\-lines <line> [ \- <line>]]]" 4
.el .IP "lint_off [\-rule <message>] [\-file ``<filename>'' [\-lines <line> [ \- <line>]]]" 4
.IX Item "lint_off [-rule <message>] [-file <filename> [-lines <line> [ - <line>]]]"
.ie n .IP "lint_off [\-rule <message>] [\-file ""<filename>""] [\-match ""<string>""]" 4
.el .IP "lint_off [\-rule <message>] [\-file ``<filename>''] [\-match ``<string>'']" 4
.IX Item "lint_off [-rule <message>] [-file <filename>] [-match <string>]"
.PD
Enable/disables the specified lint warning, in the specified filename (or
wildcard with '*' or '?', or all files if omitted) and range of line
numbers (or all lines if omitted).
.Sp
With lint_off using '*' will override any lint_on directives in the source,
i.e. the warning will still not be printed.
.Sp
If the \-rule is omitted, all lint warnings (see list in \-Wno\-lint) are
enabled/disabled.  This will override all later lint warning enables for
the specified region.
.Sp
If \-match is set the linter warnings are matched against this (wildcard)
string and are waived in case they match and iff rule and file (with wildcard)
also match.
.Sp
In previous versions \-rule was named \-msg. The latter is deprecated, but
still works with a deprecation info, it may be removed in future versions.
.ie n .IP "tracing_on  [\-file ""<filename>"" [\-lines <line> [ \- <line> ]]]" 4
.el .IP "tracing_on  [\-file ``<filename>'' [\-lines <line> [ \- <line> ]]]" 4
.IX Item "tracing_on [-file <filename> [-lines <line> [ - <line> ]]]"
.PD 0
.ie n .IP "tracing_off [\-file ""<filename>"" [\-lines <line> [ \- <line> ]]]" 4
.el .IP "tracing_off [\-file ``<filename>'' [\-lines <line> [ \- <line> ]]]" 4
.IX Item "tracing_off [-file <filename> [-lines <line> [ - <line> ]]]"
.PD
Enable/disable waveform tracing for all future signals declared in the
specified filename (or wildcard with '*' or '?', or all files if omitted)
and range of line numbers (or all lines if omitted).
.Sp
For tracing_off, cells below any module in the files/ranges specified will
also not be traced.
.ie n .IP "clock_enable \-module ""<modulename>"" \-var ""<signame>""" 4
.el .IP "clock_enable \-module ``<modulename>'' \-var ``<signame>''" 4
.IX Item "clock_enable -module <modulename> -var <signame>"
Indicate the signal is used to gate a clock, and the user takes responsibility
for insuring there are no races related to it.
.Sp
Same as /*verilator clock_enable*/, see \*(L"\s-1LANGUAGE EXTENSIONS\*(R"\s0 for
more information and an example.
.ie n .IP "clocker \-module ""<modulename>"" [\-task ""<taskname>""] \-var ""<signame>""" 4
.el .IP "clocker \-module ``<modulename>'' [\-task ``<taskname>''] \-var ``<signame>''" 4
.IX Item "clocker -module <modulename> [-task <taskname>] -var <signame>"
.PD 0
.ie n .IP "clocker \-module ""<modulename>"" [\-function ""<funcname>""] \-var ""<signame>""" 4
.el .IP "clocker \-module ``<modulename>'' [\-function ``<funcname>''] \-var ``<signame>''" 4
.IX Item "clocker -module <modulename> [-function <funcname>] -var <signame>"
.ie n .IP "no_clocker \-module ""<modulename>"" [\-task ""<taskname>""] \-var ""<signame>""" 4
.el .IP "no_clocker \-module ``<modulename>'' [\-task ``<taskname>''] \-var ``<signame>''" 4
.IX Item "no_clocker -module <modulename> [-task <taskname>] -var <signame>"
.ie n .IP "no_clocker \-module ""<modulename>"" [\-function ""<funcname>""] \-var ""<signame>""" 4
.el .IP "no_clocker \-module ``<modulename>'' [\-function ``<funcname>''] \-var ``<signame>''" 4
.IX Item "no_clocker -module <modulename> [-function <funcname>] -var <signame>"
.PD
Indicate the signal is used as clock or not. This information is used by
Verilator to mark the signal as clocker and propagate the clocker attribute
automatically to derived signals. See \f(CW\*(C`\-\-clk\*(C'\fR for more information.
.Sp
Same as /*verilator clocker*/, see \*(L"\s-1LANGUAGE EXTENSIONS\*(R"\s0 for more
information.
.ie n .IP "coverage_block_off \-module ""<modulename>"" \-block ""<blockname>""" 4
.el .IP "coverage_block_off \-module ``<modulename>'' \-block ``<blockname>''" 4
.IX Item "coverage_block_off -module <modulename> -block <blockname>"
.PD 0
.ie n .IP "coverage_block_off \-file ""<filename>"" \-line <lineno>" 4
.el .IP "coverage_block_off \-file ``<filename>'' \-line <lineno>" 4
.IX Item "coverage_block_off -file <filename> -line <lineno>"
.PD
Specifies the entire begin/end block should be ignored for coverage
analysis purposes.  Can either be specified as a named block or as a
filename and line number.
.Sp
Same as /*verilator coverage_block_off*/, see \*(L"\s-1LANGUAGE
EXTENSIONS\*(R"\s0 for more information.
.ie n .IP "full_case \-file ""<filename>"" \-lines <lineno>" 4
.el .IP "full_case \-file ``<filename>'' \-lines <lineno>" 4
.IX Item "full_case -file <filename> -lines <lineno>"
.PD 0
.ie n .IP "parallel_case \-file ""<filename>"" \-lines <lineno>" 4
.el .IP "parallel_case \-file ``<filename>'' \-lines <lineno>" 4
.IX Item "parallel_case -file <filename> -lines <lineno>"
.PD
Same as \*(L"//synopsys full_case\*(R" and \*(L"//synopsys parallel_case\*(R". When
these synthesis directives are discovered, Verilator will either
formally prove the directive to be true, or failing that, will insert
the appropriate code to detect failing cases at simulation runtime and
print an \*(L"Assertion failed\*(R" error message.
.ie n .IP "hier_block \-module ""<modulename>""" 4
.el .IP "hier_block \-module ``<modulename>''" 4
.IX Item "hier_block -module <modulename>"
Specifies that the module is a unit of hierarchical Verilation.
Note that the setting is ignored unless \-\-hierachical option is specified.
See \*(L"\s-1HIERARCHICAL VERILATION\*(R"\s0 for more information.
.ie n .IP "inline \-module ""<modulename>""" 4
.el .IP "inline \-module ``<modulename>''" 4
.IX Item "inline -module <modulename>"
Specifies the module may be inlined into any modules that use this module.
Same as /*verilator inline_module*/, and see that under \*(L"\s-1LANGUAGE
EXTENSIONS\*(R"\s0 for more information.
.ie n .IP "isolate_assignments \-module ""<modulename>"" [\-task ""<taskname>""] \-var ""<signame>""" 4
.el .IP "isolate_assignments \-module ``<modulename>'' [\-task ``<taskname>''] \-var ``<signame>''" 4
.IX Item "isolate_assignments -module <modulename> [-task <taskname>] -var <signame>"
.PD 0
.ie n .IP "isolate_assignments \-module ""<modulename>"" [\-function ""<funcname>""] \-var ""<signame>""" 4
.el .IP "isolate_assignments \-module ``<modulename>'' [\-function ``<funcname>''] \-var ``<signame>''" 4
.IX Item "isolate_assignments -module <modulename> [-function <funcname>] -var <signame>"
.ie n .IP "isolate_assignments \-module ""<modulename>"" \-function ""<fname>""" 4
.el .IP "isolate_assignments \-module ``<modulename>'' \-function ``<fname>''" 4
.IX Item "isolate_assignments -module <modulename> -function <fname>"
.PD
Used to indicate the assignments to this signal in any blocks should be
isolated into new blocks.  When there is a large combinatorial block that
is resulting in a \s-1UNOPTFLAT\s0 warning, attaching this to the signal causing
a false loop may clear up the problem.
.Sp
Same as /* verilator isolate_assignments */, see \*(L"\s-1LANGUAGE
EXTENSIONS\*(R"\s0 for more information.
.ie n .IP "no_inline \-module ""<modulename>""" 4
.el .IP "no_inline \-module ``<modulename>''" 4
.IX Item "no_inline -module <modulename>"
Specifies the module should not be inlined into any modules that use this
module.  Same as /*verilator no_inline_module*/, and see that under
\&\*(L"\s-1LANGUAGE EXTENSIONS\*(R"\s0 for more information.
.ie n .IP "no_inline [\-module ""<modulename>""] \-task ""<taskname>""" 4
.el .IP "no_inline [\-module ``<modulename>''] \-task ``<taskname>''" 4
.IX Item "no_inline [-module <modulename>] -task <taskname>"
.PD 0
.ie n .IP "no_inline [\-module ""<modulename>""] \-function ""<funcname>""" 4
.el .IP "no_inline [\-module ``<modulename>''] \-function ``<funcname>''" 4
.IX Item "no_inline [-module <modulename>] -function <funcname>"
.PD
Specify the function or task should not be inlined into where it is
used.  This may reduce the size of the final executable when a task is
used a very large number of times.  For this flag to work, the task
and tasks below it must be pure; they cannot reference any variables
outside the task itself.
.Sp
Same as /*verilator no_inline_task*/, see \*(L"\s-1LANGUAGE EXTENSIONS\*(R"\s0
for more information.
.ie n .IP "public [\-module ""<modulename>""] [\-task/\-function ""<taskname>""] \-var ""<signame>""" 4
.el .IP "public [\-module ``<modulename>''] [\-task/\-function ``<taskname>''] \-var ``<signame>''" 4
.IX Item "public [-module <modulename>] [-task/-function <taskname>] -var <signame>"
.PD 0
.ie n .IP "public_flat [\-module ""<modulename>""] [\-task/\-function ""<taskname>""] \-var ""<signame>""" 4
.el .IP "public_flat [\-module ``<modulename>''] [\-task/\-function ``<taskname>''] \-var ``<signame>''" 4
.IX Item "public_flat [-module <modulename>] [-task/-function <taskname>] -var <signame>"
.ie n .IP "public_flat_rd [\-module ""<modulename>""] [\-task/\-function ""<taskname>""] \-var ""<signame>""" 4
.el .IP "public_flat_rd [\-module ``<modulename>''] [\-task/\-function ``<taskname>''] \-var ``<signame>''" 4
.IX Item "public_flat_rd [-module <modulename>] [-task/-function <taskname>] -var <signame>"
.ie n .IP "public_flat_rw [\-module ""<modulename>""] [\-task/\-function ""<taskname>""] \-var ""<signame>"" ""@(edge)""" 4
.el .IP "public_flat_rw [\-module ``<modulename>''] [\-task/\-function ``<taskname>''] \-var ``<signame>'' ``@(edge)''" 4
.IX Item "public_flat_rw [-module <modulename>] [-task/-function <taskname>] -var <signame> @(edge)"
.PD
Sets the variable to be public.  Same as /*verilator public*/ or
/*verilator public_flat*/ etc, see those under \*(L"\s-1LANGUAGE EXTENSIONS\*(R"\s0
for more information.
.ie n .IP "sc_bv \-module ""<modulename>"" [\-task ""<taskname>""] \-var ""<signame>""" 4
.el .IP "sc_bv \-module ``<modulename>'' [\-task ``<taskname>''] \-var ``<signame>''" 4
.IX Item "sc_bv -module <modulename> [-task <taskname>] -var <signame>"
.PD 0
.ie n .IP "sc_bv \-module ""<modulename>"" [\-function ""<funcname>""] \-var ""<signame>""" 4
.el .IP "sc_bv \-module ``<modulename>'' [\-function ``<funcname>''] \-var ``<signame>''" 4
.IX Item "sc_bv -module <modulename> [-function <funcname>] -var <signame>"
.PD
Sets the port to be of sc_bv<\fIwidth\fR> type, instead of bool, vluint32_t or
vluint64_t.  Same as /*verilator sc_bv*/, see that under \*(L"\s-1LANGUAGE
EXTENSIONS\*(R"\s0 for more information.
.ie n .IP "sformat [\-module ""<modulename>""] [\-task ""<taskname>""] \-var ""<signame>""" 4
.el .IP "sformat [\-module ``<modulename>''] [\-task ``<taskname>''] \-var ``<signame>''" 4
.IX Item "sformat [-module <modulename>] [-task <taskname>] -var <signame>"
.PD 0
.ie n .IP "sformat [\-module ""<modulename>""] [\-function ""<funcname>""] \-var ""<signame>""" 4
.el .IP "sformat [\-module ``<modulename>''] [\-function ``<funcname>''] \-var ``<signame>''" 4
.IX Item "sformat [-module <modulename>] [-function <funcname>] -var <signame>"
.PD
Must be applied to the final argument of type \*(L"input string\*(R" of a function or
task to indicate the function or task should pass all remaining arguments
through \f(CW$sformatf\fR.  This allows creation of \s-1DPI\s0 functions with \f(CW$display\fR like
behavior.  See the test_regress/t/t_dpi_display.v file for an example.
.Sp
Same as /*verilator sformat*/, see \*(L"\s-1LANGUAGE EXTENSIONS\*(R"\s0 for more
information.
.ie n .IP "split_var [\-module ""<modulename>""] [\-task ""<taskname>""] \-var ""<varname>""" 4
.el .IP "split_var [\-module ``<modulename>''] [\-task ``<taskname>''] \-var ``<varname>''" 4
.IX Item "split_var [-module <modulename>] [-task <taskname>] -var <varname>"
.PD 0
.ie n .IP "split_var [\-module ""<modulename>""] [\-function ""<funcname>""] \-var ""<varname>""" 4
.el .IP "split_var [\-module ``<modulename>''] [\-function ``<funcname>''] \-var ``<varname>''" 4
.IX Item "split_var [-module <modulename>] [-function <funcname>] -var <varname>"
.PD
Break the variable into multiple pieces typically to resolve \s-1UNOPTFLAT\s0
performance issues. Typically the variables to attach this to are
recommended by Verilator itself, see \s-1UNOPTFLAT.\s0
.Sp
Same as /*verilator split_var*/, see \*(L"\s-1LANGUAGE EXTENSIONS\*(R"\s0 for more
information.
.SH "LANGUAGE STANDARD SUPPORT"
.IX Header "LANGUAGE STANDARD SUPPORT"
.SS "Verilog 2001 (\s-1IEEE 1364\-2001\s0) Support"
.IX Subsection "Verilog 2001 (IEEE 1364-2001) Support"
Verilator supports most Verilog 2001 language features.  This includes
signed numbers, \*(L"always @*\*(R", generate statements, multidimensional arrays,
localparam, and C\-style declarations inside port lists.
.SS "Verilog 2005 (\s-1IEEE 1364\-2005\s0) Support"
.IX Subsection "Verilog 2005 (IEEE 1364-2005) Support"
Verilator supports most Verilog 2005 language features.  This includes the
`begin_keywords and `end_keywords compiler directives, \f(CW$clog2\fR, and the
uwire keyword.
.SS "SystemVerilog 2005 (\s-1IEEE 1800\-2005\s0) Support"
.IX Subsection "SystemVerilog 2005 (IEEE 1800-2005) Support"
Verilator supports ==? and !=? operators, ++ and \*(-- in some contexts,
\&\f(CW$bits\fR, \f(CW$countbits\fR, \f(CW$countones\fR, \f(CW$error\fR, \f(CW$fatal\fR, \f(CW$info\fR, \f(CW$isunknown\fR, \f(CW$onehot\fR,
\&\f(CW$onehot0\fR, \f(CW$unit\fR, \f(CW$warning\fR, always_comb, always_ff, always_latch, bit, byte,
chandle, const, do-while, enum, export, final, import, int, interface,
logic, longint, modport, package, program, shortint, struct, time, typedef,
union, var, void, priority case/if, and unique case/if.
.PP
It also supports .name and .* interconnection.
.PP
Verilator partially supports concurrent assert and cover statements; see
the enclosed coverage tests for the syntax which is allowed.
.SS "SystemVerilog 2012 (\s-1IEEE 1800\-2012\s0) Support"
.IX Subsection "SystemVerilog 2012 (IEEE 1800-2012) Support"
Verilator implements a full SystemVerilog 2012 preprocessor, including
function call-like preprocessor defines, default define arguments,
`_\|_FILE_\|_, `_\|_LINE_\|_ and `undefineall.
.PP
Verilator currently has some support for SystemVerilog synthesis
constructs. As SystemVerilog features enter common usage they are added;
please file a bug if a feature you need is missing.
.SS "SystemVerilog 2017 (\s-1IEEE 1800\-2017\s0) Support"
.IX Subsection "SystemVerilog 2017 (IEEE 1800-2017) Support"
Verilator supports the 2017 \*(L"for\*(R" loop constructs, and several minor
cleanups made in 1800\-2017.
.SS "Verilog \s-1AMS\s0 Support"
.IX Subsection "Verilog AMS Support"
Verilator implements a very small subset of Verilog \s-1AMS\s0 (Verilog Analog and
Mixed-Signal Extensions) with the subset corresponding to those \s-1VMS\s0
keywords with near equivalents in the Verilog 2005 or SystemVerilog 2009
languages.
.PP
\&\s-1AMS\s0 parsing is enabled with \*(L"\-\-language \s-1VAMS\*(R"\s0 or \*(L"\-\-language 1800+VAMS\*(R".
.PP
At present Verilator implements ceil, exp, floor, ln, log, pow, sqrt,
string, and wreal.
.SS "Synthesis Directive Assertion Support"
.IX Subsection "Synthesis Directive Assertion Support"
With the \-\-assert switch, Verilator reads any \*(L"//synopsys full_case\*(R" or
\&\*(L"//synopsys parallel_case\*(R" directives.  The same applies to any
\&\*(L"//ambit synthesis\*(R", \*(L"//cadence\*(R" or \*(L"//pragma\*(R" directives of the same form.
.PP
When these synthesis directives are discovered, Verilator will either
formally prove the directive to be true, or failing that, will insert the
appropriate code to detect failing cases at simulation runtime and print an
\&\*(L"Assertion failed\*(R" error message.
.PP
Verilator likewise also asserts any \*(L"unique\*(R" or \*(L"priority\*(R" SystemVerilog
keywords on case statement, as well as \*(L"unique\*(R" on if statements.
However, \*(L"priority if\*(R" is currently simply ignored.
.SH "LANGUAGE EXTENSIONS"
.IX Header "LANGUAGE EXTENSIONS"
The following additional constructs are the extensions Verilator supports
on top of standard Verilog code.  Using these features outside of comments
or `ifdef's may break other tools.
.IP "`_\|_FILE_\|_" 4
.IX Item "`__FILE__"
The _\|_FILE_\|_ define expands to the current filename as a string, like \*(C+'s
_\|_FILE_\|_.  This was incorporated into to the 1800\-2009 standard (but
supported by Verilator since 2006!)
.IP "`_\|_LINE_\|_" 4
.IX Item "`__LINE__"
The _\|_LINE_\|_ define expands to the current filename as a string, like \*(C+'s
_\|_LINE_\|_.  This was incorporated into to the 1800\-2009 standard (but
supported by Verilator since 2006!)
.IP "`error \fIstring\fR" 4
.IX Item "`error string"
This will report an error when encountered, like \*(C+'s #error.
.IP "$c(\fIstring\fR, ...);" 4
.IX Item "$c(string, ...);"
The string will be embedded directly in the output \*(C+ code at the point
where the surrounding Verilog code is compiled.  It may either be a
standalone statement (with a trailing ; in the string), or a function that
returns up to a 32\-bit number (without a trailing ;). This can be used to
call \*(C+ functions from your Verilog code.
.Sp
String arguments will be put directly into the output \*(C+ code.  Expression
arguments will have the code to evaluate the expression inserted.  Thus to
call a \*(C+ function, $c(\*(L"func(\*(R",a,\*(L")\*(R") will result in 'func(a)' in the
output \*(C+ code.  For input arguments, rather than hard-coding variable
names in the string $c(\*(L"func(a)\*(R"), instead pass the variable as an
expression $c(\*(L"func(\*(R",a,\*(L")\*(R").  This will allow the call to work inside
Verilog functions where the variable is flattened out, and also enable
other optimizations.
.Sp
If you will be reading or writing any Verilog variables inside the \*(C+
functions, the Verilog signals must be declared with /*verilator public*/.
.Sp
You may also append an arbitrary number to \f(CW$c\fR, generally the width of the
output.  [signal_32_bits = \f(CW$c3\fR2(\*(L"...\*(R");] This allows for compatibility with
other simulators which require a differently named \s-1PLI\s0 function name for
each different output width.
.ie n .IP "$display, $write, $fdisplay, $fwrite, $sformat, $swrite" 4
.el .IP "\f(CW$display\fR, \f(CW$write\fR, \f(CW$fdisplay\fR, \f(CW$fwrite\fR, \f(CW$sformat\fR, \f(CW$swrite\fR" 4
.IX Item "$display, $write, $fdisplay, $fwrite, $sformat, $swrite"
Format arguments may use C fprintf sizes after the % escape.  Per the
Verilog standard, \f(CW%x\fR prints a number with the natural width, and \f(CW%0x\fR prints
a number with minimum width.  Verilator extends this so \f(CW%5x\fR prints 5 digits
per the C standard (this is unspecified in Verilog, but was incorporated
into the 1800\-2009).
.IP "`coverage_block_off" 4
.IX Item "`coverage_block_off"
Specifies the entire begin/end block should be ignored for coverage
analysis.  Must be inside a code block, e.g. within a begin/end pair.
Same as /* verilator coverage_block_off */ and \f(CW\*(C`coverage_block_off\*(C'\fR in
\&\*(L"\s-1CONFIGURATION FILES\*(R"\s0.
.IP "`systemc_header" 4
.IX Item "`systemc_header"
Take remaining text up to the next `verilog or `systemc_... mode switch and
place it verbatim into the output .h file's header.  Must be placed as a
module item, e.g. directly inside a module/endmodule pair. Despite the name
of this macro, this also works in pure \*(C+ code.
.IP "`systemc_ctor" 4
.IX Item "`systemc_ctor"
Take remaining text up to the next `verilog or `systemc_... mode switch and
place it verbatim into the \*(C+ class constructor.  Must be placed as a
module item, e.g. directly inside a module/endmodule pair. Despite the name
of this macro, this also works in pure \*(C+ code.
.IP "`systemc_dtor" 4
.IX Item "`systemc_dtor"
Take remaining text up to the next `verilog or `systemc_... mode switch and
place it verbatim into the \*(C+ class destructor.  Must be placed as a
module item, e.g. directly inside a module/endmodule pair. Despite the name
of this macro, this also works in pure \*(C+ code.
.IP "`systemc_interface" 4
.IX Item "`systemc_interface"
Take remaining text up to the next `verilog or `systemc_... mode switch and
place it verbatim into the \*(C+ class interface.  Must be placed as a module
item, e.g. directly inside a module/endmodule pair. Despite the name of
this macro, this also works in pure \*(C+ code.
.IP "`systemc_imp_header" 4
.IX Item "`systemc_imp_header"
Take remaining text up to the next `verilog or `systemc_... mode switch and
place it verbatim into the header of all files for this \*(C+ class
implementation.  Must be placed as a module item, e.g. directly inside a
module/endmodule pair. Despite the name of this macro, this also works in
pure \*(C+ code.
.IP "`systemc_implementation" 4
.IX Item "`systemc_implementation"
Take remaining text up to the next `verilog or `systemc_... mode switch and
place it verbatim into a single file of the \*(C+ class implementation.  Must
be placed as a module item, e.g. directly inside a module/endmodule
pair. Despite the name of this macro, this also works in pure \*(C+ code.
.Sp
If you will be reading or writing any Verilog variables in the \*(C+
functions, the Verilog signals must be declared with /*verilator public*/.
See also the public task feature; writing an accessor may result in cleaner
code.
.IP "`\s-1SYSTEMVERILOG\s0" 4
.IX Item "`SYSTEMVERILOG"
The \s-1SYSTEMVERILOG, SV_COV_START\s0 and related standard defines are set by
default when \-\-language is 1800\-*.
.IP "`\s-1VERILATOR\s0" 4
.IX Item "`VERILATOR"
.PD 0
.IP "`verilator" 4
.IX Item "`verilator"
.IP "`verilator3" 4
.IX Item "`verilator3"
.PD
The \s-1VERILATOR,\s0 verilator and verilator3 defines are set by default so you
may `ifdef around tool specific constructs.
.IP "`verilator_config" 4
.IX Item "`verilator_config"
Take remaining text up to the next `verilog mode switch and treat it as
Verilator configuration commands.
.IP "`verilog" 4
.IX Item "`verilog"
Switch back to processing Verilog code after a `systemc_... mode switch.
The Verilog code returns to the last language mode specified with
`begin_keywords, or SystemVerilog if none was specified.
.IP "/*verilator clock_enable*/" 4
.IX Item "/*verilator clock_enable*/"
Used after a signal declaration to indicate the signal is used to gate a
clock, and the user takes responsibility for insuring there are no races
related to it. (Typically by adding a latch, and running static timing
analysis.) For example:
.Sp
.Vb 4
\&   reg enable_r /*verilator clock_enable*/;
\&   wire gated_clk = clk & enable_r;
\&   always_ff @ (posedge clk)
\&      enable_r <= enable_early;
.Ve
.Sp
The clock_enable attribute will cause the clock gate to be ignored in the
scheduling algorithm, sometimes required for correct clock behavior, and
always improving performance.  It's also a good idea to enable the
\&\s-1IMPERFECTSCH\s0 warning, to ensure all clock enables are properly recognized.
.Sp
Same as \f(CW\*(C`clock_enable\*(C'\fR in configuration files, see \*(L"\s-1CONFIGURATION
FILES\*(R"\s0 for more information.
.IP "/*verilator clocker*/" 4
.IX Item "/*verilator clocker*/"
.PD 0
.IP "/*verilator no_clocker*/" 4
.IX Item "/*verilator no_clocker*/"
.PD
Used after a signal declaration to indicate the signal is used as clock or
not. This information is used by Verilator to mark the signal as clocker
and propagate the clocker attribute automatically to derived signals. See
\&\f(CW\*(C`\-\-clk\*(C'\fR for more information.
.Sp
Same as \f(CW\*(C`clocker\*(C'\fR and \f(CW\*(C`no_clocker\*(C'\fR in configuration files, see
\&\*(L"\s-1CONFIGURATION FILES\*(R"\s0 for more information.
.IP "/*verilator coverage_block_off*/" 4
.IX Item "/*verilator coverage_block_off*/"
Specifies the entire begin/end block should be ignored for coverage
analysis purposes.
.Sp
Same as \f(CW\*(C`coverage_block_off\*(C'\fR in configuration files, see
\&\*(L"\s-1CONFIGURATION FILES\*(R"\s0 for more information.
.IP "/*verilator coverage_off*/" 4
.IX Item "/*verilator coverage_off*/"
Specifies that following lines of code should have coverage disabled.
Often used to ignore an entire module for coverage analysis purposes.
.IP "/*verilator coverage_on*/" 4
.IX Item "/*verilator coverage_on*/"
Specifies that following lines of code should have coverage re-enabled (if
appropriate \-\-coverage flags are passed) after being disabled earlier with
/*verilator coverage_off*/.
.IP "/*verilator hier_block*/" 4
.IX Item "/*verilator hier_block*/"
Specifies that the module is a unit of hierarchical Verilation.
This metacomment must be between
 \*(L"module module_name(...);\*(R" and \*(L"endmodule\*(R".
The module will not be inlined nor uniquified for each instance in
hierarchical Verilation.
Note that the metacomment is ignored unless \-\-hierachical option is specified.
.Sp
See \*(L"\s-1HIERARCHICAL VERILATION\*(R"\s0 for more information.
.IP "/*verilator inline_module*/" 4
.IX Item "/*verilator inline_module*/"
Specifies the module the comment appears in may be inlined into any modules
that use this module.  This is useful to speed up simulation runtime.  Note
if using \*(L"\-\-public\*(R" that signals under inlined submodules will be named
\&\fIsubmodule\fR_\|_DOT_\|_\fIsubsignal\fR as \*(C+ does not allow \*(L".\*(R" in signal names.
.Sp
Same as \f(CW\*(C`inline\*(C'\fR in configuration files, see \*(L"\s-1CONFIGURATION FILES\*(R"\s0
for more information.
.IP "/*verilator isolate_assignments*/" 4
.IX Item "/*verilator isolate_assignments*/"
Used after a signal declaration to indicate the assignments to this signal
in any blocks should be isolated into new blocks.  When there is a large
combinatorial block that is resulting in a \s-1UNOPTFLAT\s0 warning, attaching
this to the signal causing a false loop may clear up the problem.
.Sp
\&\s-1IE,\s0 with the following
.Sp
.Vb 8
\&    reg splitme /* verilator isolate_assignments*/;
\&    // Note the placement of the semicolon above
\&    always @* begin
\&      if (....) begin
\&         splitme = ....;
\&         other assignments
\&      end
\&    end
.Ve
.Sp
Verilator will internally split the block that assigns to \*(L"splitme\*(R" into
two blocks:
.Sp
It would then internally break it into (sort of):
.Sp
.Vb 12
\&    // All assignments excluding those to splitme
\&    always @* begin
\&      if (....) begin
\&         other assignments
\&      end
\&    end
\&    // All assignments to splitme
\&    always @* begin
\&      if (....) begin
\&         splitme = ....;
\&      end
\&    end
.Ve
.Sp
Same as \f(CW\*(C`isolate_assignments\*(C'\fR in configuration files, see
\&\*(L"\s-1CONFIGURATION FILES\*(R"\s0 for more information.
.IP "/*verilator lint_off \fImsg\fR*/" 4
.IX Item "/*verilator lint_off msg*/"
Disable the specified warning message for any warnings following the comment.
.IP "/*verilator lint_on \fImsg\fR*/" 4
.IX Item "/*verilator lint_on msg*/"
Re-enable the specified warning message for any warnings following the comment.
.IP "/*verilator lint_restore*/" 4
.IX Item "/*verilator lint_restore*/"
After a /*verilator lint_save*/, pop the stack containing lint message
state.  Often this is useful at the bottom of include files.
.IP "/*verilator lint_save*/" 4
.IX Item "/*verilator lint_save*/"
Push the current state of what lint messages are turned on or turned off to
a stack.  Later meta-comments may then lint_on or lint_off specific
messages, then return to the earlier message state by using /*verilator
lint_restore*/.  For example:
.Sp
.Vb 4
\&    // verilator lint_save
\&    // verilator lint_off SOME_WARNING
\&    ...  // code needing SOME_WARNING turned off
\&    // verilator lint_restore
.Ve
.Sp
If \s-1SOME_WARNING\s0 was on before the lint_off, it will now be restored to on,
and if it was off before the lint_off it will remain off.
.IP "/*verilator no_inline_module*/" 4
.IX Item "/*verilator no_inline_module*/"
Specifies the module the comment appears in should not be inlined into any
modules that use this module.
.Sp
Same as \f(CW\*(C`no_inline\*(C'\fR in configuration files, see \*(L"\s-1CONFIGURATION
FILES\*(R"\s0 for more information.
.IP "/*verilator no_inline_task*/" 4
.IX Item "/*verilator no_inline_task*/"
Used in a function or task variable definition section to specify the
function or task should not be inlined into where it is used.  This may
reduce the size of the final executable when a task is used a very large
number of times.  For this flag to work, the task and tasks below it must
be pure; they cannot reference any variables outside the task itself.
.Sp
Same as \f(CW\*(C`no_inline\*(C'\fR in configuration files, see \*(L"\s-1CONFIGURATION
FILES\*(R"\s0 for more information.
.IP "/*verilator public*/ (parameter)" 4
.IX Item "/*verilator public*/ (parameter)"
Used after a parameter declaration to indicate the emitted C code should
have the parameter values visible. Due to \*(C+ language restrictions, this
may only be used on 64\-bit or narrower integral enumerations.
.Sp
.Vb 1
\&    parameter [2:0] PARAM /*verilator public*/ = 2\*(Aqb0;
.Ve
.IP "/*verilator public*/ (typedef enum)" 4
.IX Item "/*verilator public*/ (typedef enum)"
Used after an enum typedef declaration to indicate the emitted C code
should have the enum values visible. Due to \*(C+ language restrictions, this
may only be used on 64\-bit or narrower integral enumerations.
.Sp
.Vb 1
\&    typedef enum logic [2:0] { ZERO = 3\*(Aqb0 } pub_t /*verilator public*/;
.Ve
.IP "/*verilator public*/ (variable)" 4
.IX Item "/*verilator public*/ (variable)"
Used after an input, output, register, or wire declaration to indicate the
signal should be declared so that C code may read or write the value of the
signal.  This will also declare this module public, otherwise use
/*verilator public_flat*/.
.Sp
Instead of using public variables, consider instead making a \s-1DPI\s0 or public
function that accesses the variable.  This is nicer as it provides an
obvious entry point that is also compatible across simulators.
.Sp
Same as \f(CW\*(C`public\*(C'\fR in configuration files, see \*(L"\s-1CONFIGURATION FILES\*(R"\s0
for more information.
.IP "/*verilator public*/ (task/function)" 4
.IX Item "/*verilator public*/ (task/function)"
Used inside the declaration section of a function or task declaration to
indicate the function or task should be made into a \*(C+ function, public to
outside callers.  Public tasks will be declared as a void \*(C+ function,
public functions will get the appropriate non-void (bool, uint32_t, etc)
return type.  Any input arguments will become \*(C+ arguments to the
function.  Any output arguments will become \*(C+ reference arguments.  Any
local registers/integers will become function automatic variables on the
stack.
.Sp
Wide variables over 64 bits cannot be function returns, to avoid exposing
complexities.  However, wide variables can be input/outputs; they will be
passed as references to an array of 32\-bit numbers.
.Sp
Generally, only the values of stored state (flops) should be written, as
the model will \s-1NOT\s0 notice changes made to variables in these functions.
(Same as when a signal is declared public.)
.Sp
You may want to use \s-1DPI\s0 exports instead, as it's compatible with other
simulators.
.Sp
Same as \f(CW\*(C`public\*(C'\fR in configuration files, see \*(L"\s-1CONFIGURATION FILES\*(R"\s0
for more information.
.IP "/*verilator public_flat*/ (variable)" 4
.IX Item "/*verilator public_flat*/ (variable)"
Used after an input, output, register, or wire declaration to indicate the
signal should be declared so that C code may read or write the value of the
signal.  This will not declare this module public, which means the name of
the signal or path to it may change based upon the module inlining which
takes place.
.Sp
Same as \f(CW\*(C`public_flat\*(C'\fR in configuration files, see \*(L"\s-1CONFIGURATION
FILES\*(R"\s0 for more information.
.IP "/*verilator public_flat_rd*/ (variable)" 4
.IX Item "/*verilator public_flat_rd*/ (variable)"
Used after an input, output, register, or wire declaration to indicate the
signal should be declared public_flat (see above), but read-only.
.Sp
Same as \f(CW\*(C`public_flat_rd\*(C'\fR in configuration files, see \*(L"\s-1CONFIGURATION
FILES\*(R"\s0 for more information.
.IP "/*verilator public_flat_rw @(<edge_list>) */ (variable)" 4
.IX Item "/*verilator public_flat_rw @(<edge_list>) */ (variable)"
Used after an input, output, register, or wire declaration to indicate the
signal should be declared public_flat_rd (see above), and also writable,
where writes should be considered to have the timing specified by the given
sensitivity edge list.  Set for all variables, ports and wires using the
\&\-\-public\-flat\-rw switch.
.Sp
Same as \f(CW\*(C`public_flat_rw\*(C'\fR in configuration files, see \*(L"\s-1CONFIGURATION
FILES\*(R"\s0 for more information.
.IP "/*verilator public_module*/" 4
.IX Item "/*verilator public_module*/"
Used after a module statement to indicate the module should not be inlined
(unless specifically requested) so that C code may access the module.
Verilator automatically sets this attribute when the module contains any
public signals or `systemc_ directives.  Also set for all modules when
using the \-\-public switch.
.Sp
Same as \f(CW\*(C`public\*(C'\fR in configuration files, see \*(L"\s-1CONFIGURATION FILES\*(R"\s0
for more information.
.IP "/*verilator sc_clock*/" 4
.IX Item "/*verilator sc_clock*/"
Deprecated and ignored.  Previously used after an input declaration to
indicate the signal should be declared in SystemC as a sc_clock instead of
a bool.  This was needed in SystemC 1.1 and 1.2 only; versions 2.0 and
later do not require clock pins to be sc_clocks and this is no longer
needed and is ignored.
.IP "/*verilator sc_bv*/" 4
.IX Item "/*verilator sc_bv*/"
Used after a port declaration.  It sets the port to be of sc_bv<\fIwidth\fR>
type, instead of bool, vluint32_t or vluint64_t.  This may be useful if the
port width is parameterized and the instantiating \*(C+ code wants to always
have a sc_bv so it can accept any width.  In general you should avoid using
this attribute when not necessary as with increasing usage of sc_bv the
performance decreases significantly.
.Sp
Same as \f(CW\*(C`sc_bv\*(C'\fR in configuration files, see \*(L"\s-1CONFIGURATION FILES\*(R"\s0
for more information.
.IP "/*verilator sformat*/" 4
.IX Item "/*verilator sformat*/"
Attached to the final argument of type \*(L"input string\*(R" of a function or task to
indicate the function or task should pass all remaining arguments through
\&\f(CW$sformatf\fR.  This allows creation of \s-1DPI\s0 functions with \f(CW$display\fR like behavior.
See the test_regress/t/t_dpi_display.v file for an example.
.Sp
Same as \f(CW\*(C`sformat\*(C'\fR in configuration files, see \*(L"\s-1CONFIGURATION FILES\*(R"\s0
for more information.
.IP "/*verilator split_var*/" 4
.IX Item "/*verilator split_var*/"
Attached to a variable or a net declaration to break the variable into
multiple pieces typically to resolve \s-1UNOPTFLAT\s0 performance issues.
Typically the variables to attach this to are recommended by Verilator
itself, see \s-1UNOPTFLAT\s0 below.
.Sp
For example, Verilator will internally convert a variable with the
metacomment such as:
.Sp
.Vb 1
\&    logic [7:0] x [0:1]  /*verilator split_var*/;
.Ve
.Sp
To:
.Sp
.Vb 2
\&    logic [7:0] x_\|_BRA_\|_0_\|_KET_\|_ /*verilator split_var*/;
\&    logic [7:0] x_\|_BRA_\|_1_\|_KET_\|_ /*verilator split_var*/;
.Ve
.Sp
Note that the generated packed variables retain the split_var metacomment
because they may be split into further smaller pieces according to the
access patterns.
.Sp
This only supports unpacked arrays, packed arrays, and packed structs of
integer types (reg, logic, bit, byte, int...); otherwise if a split was
requested but cannot occur a \s-1SPLITVAR\s0 warning is issued.  Splitting large
arrays may slow down the Verilation speed, so use this only on variables
that require it.
.Sp
Same as \f(CW\*(C`split_var\*(C'\fR in configuration files, see \*(L"\s-1CONFIGURATION FILES\*(R"\s0
for more information.
.IP "/*verilator tag <text...>*/" 4
.IX Item "/*verilator tag <text...>*/"
Attached after a variable or structure member to indicate opaque (to
Verilator) text that should be passed through to the \s-1XML\s0 output as a tag,
for use by downstream applications.
.IP "/*verilator tracing_off*/" 4
.IX Item "/*verilator tracing_off*/"
Disable waveform tracing for all future signals that are declared in this
module, or cells below this module.  Often this is placed just after a
primitive's module statement, so that the entire module and cells below it
are not traced.
.IP "/*verilator tracing_on*/" 4
.IX Item "/*verilator tracing_on*/"
Re-enable waveform tracing for all future signals or cells that are
declared.
.SH "LANGUAGE LIMITATIONS"
.IX Header "LANGUAGE LIMITATIONS"
There are some limitations and lack of features relative to the major
closed-source simulators, by intent.
.SS "Synthesis Subset"
.IX Subsection "Synthesis Subset"
Verilator supports the Synthesis subset with other verification constructs
being added over time. Verilator also simulates events as Synopsys's Design
Compiler would; namely given a block of the form:
.PP
.Vb 1
\&        always @ (x)   y = x & z;
.Ve
.PP
This will recompute y when there is even a potential for change in x or a
change in z, that is when the flops computing x or z evaluate (which is
what Design Compiler will synthesize.)  A compliant simulator would only
calculate y if x changes.  We recommend using always_comb to make the code
run the same everywhere.  Also avoid putting \f(CW$displays\fR in combo blocks, as
they may print multiple times when not desired, even on compliant
simulators as event ordering is not specified.
.SS "Signal Naming"
.IX Subsection "Signal Naming"
To avoid conflicts with C symbol naming, any character in a signal name
that is not alphanumeric nor a single underscore will be replaced by _\|_0hh
where hh is the hex code of the character. To avoid conflicts with
Verilator's internal symbols, any double underscore are replaced with
_\|_\|_05F (5F is the hex code of an underscore.)
.SS "Bind"
.IX Subsection "Bind"
Verilator only supports \*(L"bind\*(R" to a target module name, not an instance
path.
.SS "Class"
.IX Subsection "Class"
Verilator class support is limited but in active development.  Verilator
supports members, and methods. Verilator does not support class static
members, class extend, or class parameters.
.SS "Dotted cross-hierarchy references"
.IX Subsection "Dotted cross-hierarchy references"
Verilator supports dotted references to variables, functions and tasks in
different modules. The portion before the dot must have a constant value;
for example a[2].b is acceptable, while a[x].b is generally not.
.PP
References into generated and arrayed instances use the instance names
specified in the Verilog standard; arrayed instances are named
{cellName}[{instanceNumber}] in Verilog, which becomes
{cellname}_\|_BRA_\|_{instanceNumber}_\|_KET_\|_ inside the generated \*(C+ code.
.SS "Latches"
.IX Subsection "Latches"
Verilator is optimized for edge sensitive (flop based) designs.  It will
attempt to do the correct thing for latches, but most performance
optimizations will be disabled around the latch.
.SS "Structures and Unions"
.IX Subsection "Structures and Unions"
Presently Verilator only supports packed structs and packed unions.  Rand
and randc tags on members are simply ignored.  All structures and unions
are represented as a single vector, which means that generating one member
of a structure from blocking, and another from non-blocking assignments is
unsupported.
.SS "Time"
.IX Subsection "Time"
All delays (#) are ignored, as they are in synthesis.
.SS "Unknown states"
.IX Subsection "Unknown states"
Verilator is mostly a two state simulator, not a four state simulator.
However, it has two features which uncover most initialization bugs
(including many that a four state simulator will miss.)
.PP
Identity comparisons (=== or !==) are converted to standard ==/!= when neither
side is a constant.  This may make the expression yield a different result
compared to a four state simulator.  An === comparison to X will always be
false, so that Verilog code which checks for uninitialized logic will not fire.
.PP
Assigning X to a variable will actually assign a constant value as
determined by the \-\-x\-assign switch.  This allows runtime randomization,
thus if the value is actually used, the random value should cause
downstream errors.  Integers also get randomized, even though the Verilog
2001 specification says they initialize to zero.  Note however that
randomization happens at initialization time and hence during a single
simulation run, the same constant (but random) value will be used every
time the assignment is executed.
.PP
All variables, depending on \-\-x\-initial setting, are typically randomly
initialized using a function.  By running several random simulation runs
you can determine that reset is working correctly.  On the first run, have the
function initialize variables to zero.  On the second, have it initialize
variables to one.  On the third and following runs have it initialize them
randomly.  If the results match, reset works.  (Note this is what the
hardware will really do.)  In practice, just setting all variables to one
at startup finds most problems (since typically control signals are
active-high).
.PP
\&\-\-x\-assign applies to variables explicitly initialized or assigned an
X. Uninitialized clocks are initialized to zero, while all other state
holding variables are initialized to a random value.  Event driven
simulators will generally trigger an edge on a transition from X to 1
(\f(CW\*(C`posedge\*(C'\fR) or X to 0 (\f(CW\*(C`negedge\*(C'\fR). However, by default, since clocks are
initialized to zero, Verilator will not trigger an initial negedge. Some
code (particularly for reset) may rely on X\->0 triggering an edge. The
\&\-\-x\-initial\-edge switch enables this behavior. Comparing runs with and
without this switch will find such problems.
.SS "Tri/Inout"
.IX Subsection "Tri/Inout"
Verilator converts some simple tristate structures into two state.  Pullup,
pulldown, bufif0, bufif1, notif0, notif1, pmos, nmos, tri0 and tri1 are
also supported.  Simple comparisons with === 1'bz are also supported.
.PP
An assignment of the form:
.PP
.Vb 2
\&    inout driver;
\&    wire driver = (enable) ? output_value : 1\*(Aqbz;
.Ve
.PP
Will be converted to
.PP
.Vb 3
\&    input driver;       // Value being driven in from "external" drivers
\&    output driver_\|_en;  // True if driven from this module
\&    output driver_\|_out; // Value being driven from this module
.Ve
.PP
External logic will be needed to combine these signals with any external
drivers.
.PP
Tristate drivers are not supported inside functions and tasks; an inout
there will be considered a two state variable that is read and written
instead of a four state variable.
.SS "Functions & Tasks"
.IX Subsection "Functions & Tasks"
All functions and tasks will be inlined (will not become functions in C.)
The only support provided is for simple statements in tasks (which may
affect global variables).
.PP
Recursive functions and tasks are not supported.  All inputs and outputs
are automatic, as if they had the Verilog 2001 \*(L"automatic\*(R" keyword
prepended.  (If you don't know what this means, Verilator will do what you
probably expect \*(-- what C does. The default behavior of Verilog is
different.)
.SS "Generated Clocks"
.IX Subsection "Generated Clocks"
Verilator attempts to deal with generated and gated clocks correctly,
however some cases cause problems in the scheduling algorithm which is
optimized for performance.  The safest option is to have all clocks as
primary inputs to the model, or wires directly attached to primary inputs.
For proper behavior clock enables may also need the /*verilator
clock_enable*/ attribute.
.SS "Gate Primitives"
.IX Subsection "Gate Primitives"
The 2\-state gate primitives (and, buf, nand, nor, not, or, xnor, xor) are
directly converted to behavioral equivalents.  The 3\-state and \s-1MOS\s0 gate
primitives are not supported.  Tables are not supported.
.SS "Specify blocks"
.IX Subsection "Specify blocks"
All specify blocks and timing checks are ignored. All min:typ:max delays
use the typical value.
.SS "Array Initialization"
.IX Subsection "Array Initialization"
When initializing a large array, you need to use non-delayed assignments.
Verilator will tell you when this needs to be fixed; see the \s-1BLKLOOPINIT\s0
error for more information.
.SS "Array Out of Bounds"
.IX Subsection "Array Out of Bounds"
Writing a memory element that is outside the bounds specified for the array
may cause a different memory element inside the array to be written
instead.  For power\-of\-2 sized arrays, Verilator will give a width warning
and the address.  For non\-power\-of\-2\-sizes arrays, index 0 will be written.
.PP
Reading a memory element that is outside the bounds specified for the array
will give a width warning and wrap around the power\-of\-2 size.  For
non\-power\-of\-2 sizes, it will return a unspecified constant of the
appropriate width.
.SS "Assertions"
.IX Subsection "Assertions"
Verilator is beginning to add support for assertions.  Verilator currently
only converts assertions to simple \*(L"if (...) error\*(R" statements, and
coverage statements to increment the line counters described in the
coverage section.
.PP
Verilator does not support SEREs yet.  All assertion and coverage
statements must be simple expressions that complete in one cycle.
.SS "Encrypted Verilog"
.IX Subsection "Encrypted Verilog"
Open source simulators like Verilator are unable to use encrypted \s-1RTL\s0
(i.e. \s-1IEEE P1735\s0).  Talk to your \s-1IP\s0 vendor about delivering \s-1IP\s0 blocks
via Verilator's \-\-protect\-lib feature.
.SS "Language Keyword Limitations"
.IX Subsection "Language Keyword Limitations"
This section describes specific limitations for each language keyword.
.IP "`_\|_FILE_\|_, `_\|_LINE_\|_, `begin_keywords, `begin_keywords, `begin_keywords, `begin_keywords, `begin_keywords, `define, `else, `elsif, `end_keywords, `endif, `error, `ifdef, `ifndef, `include, `line, `systemc_ctor, `systemc_dtor, `systemc_header, `systemc_imp_header, `systemc_implementation, `systemc_interface, `undef, `verilog" 4
.IX Item "`__FILE__, `__LINE__, `begin_keywords, `begin_keywords, `begin_keywords, `begin_keywords, `begin_keywords, `define, `else, `elsif, `end_keywords, `endif, `error, `ifdef, `ifndef, `include, `line, `systemc_ctor, `systemc_dtor, `systemc_header, `systemc_imp_header, `systemc_implementation, `systemc_interface, `undef, `verilog"
Fully supported.
.IP "always, always_comb, always_ff, always_latch, and, assign, begin, buf, byte, case, casex, casez, default, defparam, do-while, else, end, endcase, endfunction, endgenerate, endmodule, endspecify, endtask, final, for, function, generate, genvar, if, initial, inout, input, int, integer, localparam, logic, longint, macromodule, module, nand, negedge, nor, not, or, output, parameter, posedge, reg, scalared, shortint, signed, supply0, supply1, task, time, tri, typedef, var, vectored, while, wire, xnor, xor" 4
.IX Item "always, always_comb, always_ff, always_latch, and, assign, begin, buf, byte, case, casex, casez, default, defparam, do-while, else, end, endcase, endfunction, endgenerate, endmodule, endspecify, endtask, final, for, function, generate, genvar, if, initial, inout, input, int, integer, localparam, logic, longint, macromodule, module, nand, negedge, nor, not, or, output, parameter, posedge, reg, scalared, shortint, signed, supply0, supply1, task, time, tri, typedef, var, vectored, while, wire, xnor, xor"
Generally supported.
.IP "++, \*(-- operators" 4
.IX Item "++, operators"
Increment/decrement can only be used as standalone statements or in certain
limited cases.
.IP "'{} operator" 4
.IX Item "'{} operator"
Assignment patterns with order based, default, constant integer (array) or
member identifier (struct/union) keys are supported.  Data type keys and
keys which are computed from a constant expression are not supported.
.IP "`uselib" 4
.IX Item "`uselib"
Uselib, a vendor specific library specification method, is ignored along
with anything following it until the end of that line.
.IP "cast operator" 4
.IX Item "cast operator"
Casting is supported only between simple scalar types, signed and unsigned,
not arrays nor structs.
.IP "chandle" 4
.IX Item "chandle"
Treated as a \*(L"longint\*(R"; does not yet warn about operations that are
specified as illegal on chandles.
.IP "disable" 4
.IX Item "disable"
Disable statements may be used only if the block being disabled is a block
the disable statement itself is inside.  This was commonly used to provide
loop break and continue functionality before SystemVerilog added the break
and continue keywords.
.IP "inside" 4
.IX Item "inside"
Inside expressions may not include unpacked array traversal or $ as an
upper bound.  Case inside and case matches are also unsupported.
.IP "interface" 4
.IX Item "interface"
Interfaces and modports, including with generated data types are supported.
Generate blocks around modports are not supported, nor are virtual
interfaces nor unnamed interfaces.
.IP "shortreal" 4
.IX Item "shortreal"
Short floating point (shortreal) numbers are converted to real. Most other
simulators either do not support float, or convert likewise.
.IP "specify specparam" 4
.IX Item "specify specparam"
All specify blocks and timing checks are ignored.
.IP "uwire" 4
.IX Item "uwire"
Verilator does not perform warning checking on uwires, it treats the uwire
keyword as if it were the normal wire keyword.
.ie n .IP "$bits, $countbits, $countones, $error, $fatal, $finish, $info, $isunknown, $onehot, $onehot0, $readmemb, $readmemh, $signed, $stime, $stop, $time, $unsigned, $warning." 4
.el .IP "\f(CW$bits\fR, \f(CW$countbits\fR, \f(CW$countones\fR, \f(CW$error\fR, \f(CW$fatal\fR, \f(CW$finish\fR, \f(CW$info\fR, \f(CW$isunknown\fR, \f(CW$onehot\fR, \f(CW$onehot0\fR, \f(CW$readmemb\fR, \f(CW$readmemh\fR, \f(CW$signed\fR, \f(CW$stime\fR, \f(CW$stop\fR, \f(CW$time\fR, \f(CW$unsigned\fR, \f(CW$warning\fR." 4
.IX Item "$bits, $countbits, $countones, $error, $fatal, $finish, $info, $isunknown, $onehot, $onehot0, $readmemb, $readmemh, $signed, $stime, $stop, $time, $unsigned, $warning."
Generally supported.
.ie n .IP "$dump/$dumpports and related" 4
.el .IP "\f(CW$dump\fR/$dumpports and related" 4
.IX Item "$dump/$dumpports and related"
\&\f(CW$dumpfile\fR or \f(CW$dumpports\fR will create a \s-1VCD\s0 or \s-1FST\s0 file (which is based on
the \-\-trace argument given when the model was Verilated). This will take
effect starting at the next \fBeval()\fR call.  If you have multiple Verilated
designs under the same C model, then this will dump signals only from the
design containing the \f(CW$dumpvars\fR.
.Sp
\&\f(CW$dumpvars\fR and \f(CW$dumpports\fR module identifier is ignored; the traced instances
will always start at the top of the design. The levels argument is also
ignored, use tracing_on/tracing_off pragmas instead.
.Sp
\&\f(CW$dumpportson\fR/$dumpportsoff/$dumpportsall/$dumpportslimit filename argument
is ignored, only a single trace file may be active at once.
.Sp
\&\f(CW$dumpall\fR/$dumpportsall, \f(CW$dumpon\fR/$dumpportson, \f(CW$dumpoff\fR/$dumpportsoff, and
\&\f(CW$dumplimit\fR/$dumpportlimit are currently ignored.
.ie n .IP "$exit, $finish, $stop" 4
.el .IP "\f(CW$exit\fR, \f(CW$finish\fR, \f(CW$stop\fR" 4
.IX Item "$exit, $finish, $stop"
The rarely used optional parameter to \f(CW$finish\fR and \f(CW$stop\fR is ignored. \f(CW$exit\fR
is aliased to \f(CW$finish\fR.
.ie n .IP "$fopen, $fclose, $fdisplay, $ferror, $feof, $fflush, $fgetc, $fgets, $fscanf, $fwrite, $fscanf, $sscanf" 4
.el .IP "\f(CW$fopen\fR, \f(CW$fclose\fR, \f(CW$fdisplay\fR, \f(CW$ferror\fR, \f(CW$feof\fR, \f(CW$fflush\fR, \f(CW$fgetc\fR, \f(CW$fgets\fR, \f(CW$fscanf\fR, \f(CW$fwrite\fR, \f(CW$fscanf\fR, \f(CW$sscanf\fR" 4
.IX Item "$fopen, $fclose, $fdisplay, $ferror, $feof, $fflush, $fgetc, $fgets, $fscanf, $fwrite, $fscanf, $sscanf"
Generally supported.
.ie n .IP "$fullskew, $hold, $nochange, $period, $recovery, $recrem, $removal, $setup, $setuphold, $skew, $timeskew, $width" 4
.el .IP "\f(CW$fullskew\fR, \f(CW$hold\fR, \f(CW$nochange\fR, \f(CW$period\fR, \f(CW$recovery\fR, \f(CW$recrem\fR, \f(CW$removal\fR, \f(CW$setup\fR, \f(CW$setuphold\fR, \f(CW$skew\fR, \f(CW$timeskew\fR, \f(CW$width\fR" 4
.IX Item "$fullskew, $hold, $nochange, $period, $recovery, $recrem, $removal, $setup, $setuphold, $skew, $timeskew, $width"
All specify blocks and timing checks are ignored.
.ie n .IP "$random, $urandom, $urandom_range" 4
.el .IP "\f(CW$random\fR, \f(CW$urandom\fR, \f(CW$urandom_range\fR" 4
.IX Item "$random, $urandom, $urandom_range"
Use +verilator+seed argument to set the seed if there is no \f(CW$random\fR or
\&\f(CW$urandom\fR optional argument to set the seed.  There is one random seed per C
thread, not per module for \f(CW$random\fR, nor per object for random stability of
\&\f(CW$urandom\fR/$urandom_range.
.ie n .IP "$readmemb, $readmemh" 4
.el .IP "\f(CW$readmemb\fR, \f(CW$readmemh\fR" 4
.IX Item "$readmemb, $readmemh"
Read memory commands should work properly.  Note Verilator and the Verilog
specification does not include support for readmem to multi-dimensional
arrays.
.ie n .IP "$test$plusargs, $value$plusargs" 4
.el .IP "\f(CW$test\fR$plusargs, \f(CW$value\fR$plusargs" 4
.IX Item "$test$plusargs, $value$plusargs"
Supported, but the instantiating \*(C+/SystemC testbench must call
.Sp
.Vb 1
\&    Verilated::commandArgs(argc, argv);
.Ve
.Sp
to register the command line before calling \f(CW$test\fR$plusargs or
\&\f(CW$value\fR$plusargs.
.SH "ERRORS AND WARNINGS"
.IX Header "ERRORS AND WARNINGS"
Warnings may be disabled in three ways.  First, when the warning is
printed it will include a warning code.  Simply surround the offending
line with a lint_off/lint_on pair:
.PP
.Vb 3
\&        // verilator lint_off UNSIGNED
\&        if (\`DEF_THAT_IS_EQ_ZERO <= 3) $stop;
\&        // verilator lint_on UNSIGNED
.Ve
.PP
Second, warnings may be disabled using a configuration file with a lint_off
command.  This is useful when a script is suppressing warnings and the
Verilog source should not be changed.
.PP
Warnings may also be globally disabled by invoking Verilator with the
\&\f(CW\*(C`\-Wno\-\f(CIwarning\f(CW\*(C'\fR switch.  This should be avoided, as it removes all
checking across the designs, and prevents other users from compiling your
code without knowing the magic set of disables needed to successfully
compile your design.
.SS "Error and Warning Format"
.IX Subsection "Error and Warning Format"
Warnings and errors printed by Verilator always match this regular
expression:
.PP
.Vb 1
\&        %(Error|Warning)(\-[A\-Z0\-9_]+)?: ((\eS+):(\ed+):((\ed+):)? )?.*
.Ve
.PP
Errors and warning start with a percent sign (historical heritage from
Digital Equipment Corporation).  Some errors or warning have a code
attached, with meanings described below.  Some errors also have a filename,
line number and optional column number (starting at column 1 to match \s-1GCC\s0).
.PP
Following the error message, Verilator will typically show the user's
source code corresponding to the error, prefixed by the line number and a \*(L"
| \*(R".  Following this is typically an arrow and ~ pointing at the error on
the source line directly above.
.SS "List of all warnings"
.IX Subsection "List of all warnings"
.IP "\s-1ALWCOMBORDER\s0" 4
.IX Item "ALWCOMBORDER"
Warns that an always_comb block has a variable which is set after it is
used.  This may cause simulation-synthesis mismatches, as not all
simulators allow this ordering.
.Sp
.Vb 4
\&    always_comb begin
\&       a = b;
\&       b = 1;
\&    end
.Ve
.Sp
Ignoring this warning will only suppress the lint check, it will simulate
correctly.
.IP "\s-1ASSIGNIN\s0" 4
.IX Item "ASSIGNIN"
Error that an assignment is being made to an input signal.  This is almost
certainly a mistake, though technically legal.
.Sp
.Vb 2
\&    input a;
\&    assign a = 1\*(Aqb1;
.Ve
.Sp
Ignoring this warning will only suppress the lint check, it will simulate
correctly.
.IP "\s-1ASSIGNDLY\s0" 4
.IX Item "ASSIGNDLY"
Warns that you have an assignment statement with a delayed time in front of
it, for example:
.Sp
.Vb 2
\&    a <= #100 b;
\&    assign #100 a = b;
.Ve
.Sp
Ignoring this warning may make Verilator simulations differ from other
simulators, however at one point this was a common style so disabled by
default as a code style warning.
.IP "\s-1BLKANDNBLK\s0" 4
.IX Item "BLKANDNBLK"
\&\s-1BLKANDNBLK\s0 is an error that a variable comes from a mix of blocking and
non-blocking assignments.
.Sp
This is not illegal in SystemVerilog, but a violation of good coding
practice. Verilator reports this as an error, because ignoring this warning
may make Verilator simulations differ from other simulators.
.Sp
It is generally safe to disable this error (with a \*(L"// verilator lint_off
\&\s-1BLKANDNBLK\*(R"\s0 metacomment or the \-Wno\-BLKANDNBLK option) when one of the
assignments is inside a public task, or when the blocking and non-blocking
assignments have non-overlapping bits and structure members.
.Sp
Generally, this is caused by a register driven by both combo logic and a
flop:
.Sp
.Vb 3
\&      logic [1:0] foo;
\&      always @ (posedge clk)  foo[0] <= ...
\&      always @* foo[1] = ...
.Ve
.Sp
Simply use a different register for the flop:
.Sp
.Vb 4
\&      logic [1:0] foo;
\&      always @ (posedge clk)  foo_flopped[0] <= ...
\&      always @* foo[0] = foo_flopped[0];
\&      always @* foo[1] = ...
.Ve
.Sp
Or, this may also avoid the error:
.Sp
.Vb 1
\&      logic [1:0] foo /*verilator split_var*/;
.Ve
.IP "\s-1BLKSEQ\s0" 4
.IX Item "BLKSEQ"
This indicates that a blocking assignment (=) is used in a sequential
block.  Generally non\-blocking/delayed assignments (<=) are used in
sequential blocks, to avoid the possibility of simulator races.  It can be
reasonable to do this if the generated signal is used \s-1ONLY\s0 later in the
same block, however this style is generally discouraged as it is error
prone.
.Sp
.Vb 1
\&      always @ (posedge clk)  foo = ...
.Ve
.Sp
Disabled by default as this is a code style warning; it will simulate
correctly.
.IP "\s-1BLKLOOPINIT\s0" 4
.IX Item "BLKLOOPINIT"
This indicates that the initialization of an array needs to use non-delayed
assignments.  This is done in the interest of speed; if delayed assignments
were used, the simulator would have to copy large arrays every cycle.  (In
smaller loops, loop unrolling allows the delayed assignment to work, though
it's a bit slower than a non-delayed assignment.)  Here's an example
.Sp
.Vb 5
\&        always @ (posedge clk)
\&            if (~reset_l) begin
\&                for (i=0; i<\`ARRAY_SIZE; i++) begin
\&                    array[i] = 0;  // Non\-delayed for verilator
\&                end
.Ve
.Sp
This message is only seen on large or complicated loops because Verilator
generally unrolls small loops.  You may want to try increasing
\&\-\-unroll\-count (and occasionally \-\-unroll\-stmts) which will raise the small
loop bar to avoid this error.
.IP "\s-1BOUNDED\s0" 4
.IX Item "BOUNDED"
This indicates that bounded queues (e.g. \*(L"var name[$ : 3]\*(R") are
unsupported.
.Sp
Ignoring this warning may make Verilator simulations differ from other
simulators.
.IP "\s-1BSSPACE\s0" 4
.IX Item "BSSPACE"
Warns that a backslash is followed by a space then a newline. Likely the
intent was to have a backslash directly followed by a newline (e.g. when
making a `define) and there's accidentally white space at the end of the
line.  If the space is not accidental, suggest removing the backslash in
the code as it serves no function.
.Sp
Ignoring this warning will only suppress the lint check, it will simulate
correctly.
.IP "\s-1CASEINCOMPLETE\s0" 4
.IX Item "CASEINCOMPLETE"
Warns that inside a case statement there is a stimulus pattern for which
there is no case item specified.  This is bad style, if a case is
impossible, it's better to have a \*(L"default: \f(CW$stop\fR;\*(R" or just \*(L"default: ;\*(R" so
that any design assumption violations will be discovered in simulation.
.Sp
Ignoring this warning will only suppress the lint check, it will simulate
correctly.
.IP "\s-1CASEOVERLAP\s0" 4
.IX Item "CASEOVERLAP"
Warns that inside a case statement you have case values which are detected
to be overlapping.  This is bad style, as moving the order of case values
will cause different behavior.  Generally the values can be respecified to
not overlap.
.Sp
Ignoring this warning will only suppress the lint check, it will simulate
correctly.
.IP "\s-1CASEX\s0" 4
.IX Item "CASEX"
Warns that it is simply better style to use casez, and \f(CW\*(C`?\*(C'\fR in place of
\&\f(CW\*(C`x\*(C'\fR's.  See
<http://www.sunburst\-design.com/papers/CummingsSNUG1999Boston_FullParallelCase_rev1_1.pdf>
.Sp
Ignoring this warning will only suppress the lint check, it will simulate
correctly.
.IP "\s-1CASEWITHX\s0" 4
.IX Item "CASEWITHX"
Warns that a case statement contains a constant with a \f(CW\*(C`x\*(C'\fR.  Verilator is
two-state so interpret such items as always false.  Note a common error is
to use a \f(CW\*(C`X\*(C'\fR in a case or casez statement item; often what the user
instead intended is to use a casez with \f(CW\*(C`?\*(C'\fR.
.Sp
Ignoring this warning will only suppress the lint check, it will simulate
correctly.
.IP "\s-1CDCRSTLOGIC\s0" 4
.IX Item "CDCRSTLOGIC"
With \-\-cdc only, warns that asynchronous flop reset terms come from other
than primary inputs or flopped outputs, creating the potential for reset
glitches.
.IP "\s-1CLKDATA\s0" 4
.IX Item "CLKDATA"
Warns that clock signal is mixed used with/as data signal. The checking for
this warning is enabled only if user has explicitly marked some signal as
clocker using command line option or in-source meta comment (see \f(CW\*(C`\-\-clk\*(C'\fR).
.Sp
The warning can be disabled without affecting the simulation result. But it
is recommended to check the warning as this may degrade the performance of
the Verilated model.
.IP "\s-1CMPCONST\s0" 4
.IX Item "CMPCONST"
Warns that you are comparing a value in a way that will always be constant.
For example \*(L"X > 1\*(R" will always be true when X is a single bit wide.
.Sp
Ignoring this warning will only suppress the lint check, it will simulate
correctly.
.IP "\s-1COLONPLUS\s0" 4
.IX Item "COLONPLUS"
Warns that a :+ is seen. Likely the intent was to use +: to select a range
of bits. If the intent was a range that is explicitly positive, suggest
adding a space, e.g. use \*(L": +\*(R".
.Sp
Ignoring this warning will only suppress the lint check, it will simulate
correctly.
.IP "\s-1COMBDLY\s0" 4
.IX Item "COMBDLY"
Warns that you have a delayed assignment inside of a combinatorial block.
Using delayed assignments in this way is considered bad form, and may lead
to the simulator not matching synthesis.  If this message is suppressed,
Verilator, like synthesis, will convert this to a non-delayed assignment,
which may result in logic races or other nasties.  See
<http://www.sunburst\-design.com/papers/CummingsSNUG2000SJ_NBA_rev1_2.pdf>
.Sp
Ignoring this warning may make Verilator simulations differ from other
simulators.
.IP "\s-1CONTASSREG\s0" 4
.IX Item "CONTASSREG"
Error that a continuous assignment is setting a reg. According to \s-1IEEE\s0
Verilog, but not SystemVerilog, a wire must be used as the target of
continuous assignments.
.Sp
This error is only reported when \*(L"\-\-language 1364\-1995\*(R", \*(L"\-\-language
1364\-2001\*(R", or \*(L"\-\-language 1364\-2005\*(R" is used.
.Sp
Ignoring this error will only suppress the lint check, it will simulate
correctly.
.IP "\s-1DECLFILENAME\s0" 4
.IX Item "DECLFILENAME"
Warns that a module or other declaration's name doesn't match the filename
with path and extension stripped that it is declared in.  The filename a
modules/interfaces/programs is declared in should match the name of the
module etc. so that \-y directory searching will work.  This warning is
printed for only the first mismatching module in any given file, and \-v
library files are ignored.
.Sp
Disabled by default as this is a code style warning; it will simulate
correctly.
.IP "\s-1DEFPARAM\s0" 4
.IX Item "DEFPARAM"
Warns that the \*(L"defparam\*(R" statement was deprecated in Verilog 2001 and all
designs should now be using the #(...) format to specify parameters.
.Sp
Disabled by default as this is a code style warning; it will simulate
correctly.
.IP "\s-1DETECTARRAY\s0" 4
.IX Item "DETECTARRAY"
Error when Verilator tries to deal with a combinatorial loop that could not be
flattened, and which involves a datatype which Verilator cannot handle, such
as an unpacked struct or a large unpacked array. This typically occurs when
\&\-Wno\-UNOPTFLAT has been used to override an \s-1UNOPTFLAT\s0 warning (see below).
.Sp
The solution is to break the loop, as described for \s-1UNOPTFLAT.\s0
.IP "\s-1DIDNOTCONVERGE\s0" 4
.IX Item "DIDNOTCONVERGE"
Error at simulation runtime when model did not properly settle.
.Sp
Verilator sometimes has to evaluate combinatorial logic multiple times,
usually around code where a \s-1UNOPTFLAT\s0 warning was issued, but disabled.
For example:
.Sp
.Vb 2
\&   always_comb b = ~a;
\&   always_comb a = b
.Ve
.Sp
This code will toggle forever, and thus to prevent an infinite loop, the
executable will give the didn't converge error.
.Sp
To debug this, first review any \s-1UNOPTFLAT\s0 warnings that were ignored.
Though typically it is safe to ignore \s-1UNOPTFLAT\s0 (at a performance cost), at
the time of issuing a \s-1UNOPTFLAT\s0 Verilator did not know if the logic would
eventually converge and assumed it would.
.Sp
Next, run Verilator with \-\-prof\-cfuncs.  Run make on the generated files
with \*(L"CPP_FLAGS=\-DVL_DEBUG\*(R", to allow enabling simulation runtime debug
messages.  Rerun the test.  Now just before the convergence error you
should see additional output similar to this:
.Sp
.Vb 2
\&   CHANGE: filename.v:1: b
\&   CHANGE: filename.v:2: a
.Ve
.Sp
This means that signal b and signal a keep changing, inspect the code that
modifies these signals.  Note if many signals are getting printed then most
likely all of them are oscillating.  It may also be that e.g. \*(L"a\*(R" may be
oscillating, then \*(L"a\*(R" feeds signal \*(L"c\*(R" which then is also reported as
oscillating.
.Sp
Finally, rare, more difficult cases can be debugged like a \*(L"C\*(R" program;
either enter \s-1GDB\s0 and use its tracing facilities, or edit the generated \*(C+
code to add appropriate prints to see what is going on.
.IP "\s-1ENDLABEL\s0" 4
.IX Item "ENDLABEL"
Warns that a label attached to a \*(L"end\*(R"\-something statement does not match
the label attached to the block start.
.Sp
Ignoring this warning will only suppress the lint check, it will simulate
correctly.
.IP "\s-1GENCLK\s0" 4
.IX Item "GENCLK"
Deprecated and no longer used as a warning.  Used to indicate that the
specified signal was is generated inside the model, and also being used as
a clock.
.IP "\s-1HIERBLOCK\s0" 4
.IX Item "HIERBLOCK"
Warns that the top module is marked as a hierarchy block
by hier_block metacomment, which is not legal.  This setting on the top module will be ignored.
=item \s-1IFDEPTH\s0
.Sp
Warns that if/if else statements have exceeded the depth specified with
\&\-\-if\-depth, as they are likely to result in slow priority encoders.  Statements
below unique and priority if statements are ignored.  Solutions include
changing the code to a case statement, or a SystemVerilog 'unique if' or
\&'priority if'.
.Sp
Disabled by default as this is a code style warning; it will simulate
correctly.
.IP "\s-1IGNOREDRETURN\s0" 4
.IX Item "IGNOREDRETURN"
Warns that a non-void function is being called as a task, and hence the
return value is being ignored.
.Sp
This warning is required by \s-1IEEE.\s0 The portable way to suppress this warning
(in SystemVerilog) is to use a void cast, e.g.
.Sp
.Vb 1
\&    void\*(Aq(function_being_called_as_task());
.Ve
.Sp
Ignoring this warning will only suppress the lint check, it will simulate
correctly.
.IP "\s-1IMPERFECTSCH\s0" 4
.IX Item "IMPERFECTSCH"
Warns that the scheduling of the model is not absolutely perfect, and some
manual code edits may result in faster performance.  This warning defaults
to off, is not part of \-Wall, and must be turned on explicitly before the
top module statement is processed.
.IP "\s-1IMPLICIT\s0" 4
.IX Item "IMPLICIT"
Warns that a wire is being implicitly declared (it is a single bit wide
output from a sub-module.)  While legal in Verilog, implicit declarations
only work for single bit wide signals (not buses), do not allow using a
signal before it is implicitly declared by a cell, and can lead to dangling
nets.  A better option is the /*AUTOWIRE*/ feature of Verilog-Mode for
Emacs, available from <https://www.veripool.org/verilog\-mode>
.Sp
Ignoring this warning will only suppress the lint check, it will simulate
correctly.
.IP "\s-1IMPORTSTAR\s0" 4
.IX Item "IMPORTSTAR"
Warns that an "import \fIpackage\fR::*\*(L" statement is in \f(CW$unit\fR scope. This
causes the imported symbols to pollute the global namespace, defeating much
of the purpose of having a package. Generally \*(R"import ::*" should only be
used inside a lower scope such as a package or module.
.Sp
Disabled by default as this is a code style warning; it will simulate
correctly.
.IP "\s-1IMPURE\s0" 4
.IX Item "IMPURE"
Warns that a task or function that has been marked with /*verilator
no_inline_task*/ references variables that are not local to the task.
Verilator cannot schedule these variables correctly.
.Sp
Ignoring this warning may make Verilator simulations differ from other
simulators.
.IP "\s-1INCABSPATH\s0" 4
.IX Item "INCABSPATH"
Warns that an `include filename specifies an absolute path.  This means the
code will not work on any other system with a different file system layout.
Instead of using absolute paths, relative paths (preferably without any
directory specified whatsoever) should be used, and +incdir used on the
command line to specify the top include source directories.
.Sp
Disabled by default as this is a code style warning; it will simulate
correctly.
.IP "\s-1INFINITELOOP\s0" 4
.IX Item "INFINITELOOP"
Warns that a while or for statement has a condition that is always true.
and thus results in an infinite loop if the statement ever executes.
.Sp
This might be unintended behavior if the loop body contains statements that
in other simulators would make time pass, which Verilator is ignoring
due to e.g. \s-1STMTDLY\s0 warnings being disabled.
.Sp
Ignoring this warning will only suppress the lint check, it will simulate
correctly (i.e. hang due to the infinite loop).
.IP "\s-1INITIALDLY\s0" 4
.IX Item "INITIALDLY"
Warns that you have a delayed assignment inside of an initial or final
block.  If this message is suppressed, Verilator will convert this to a
non-delayed assignment.  See also the \s-1COMBDLY\s0 warning.
.Sp
Ignoring this warning may make Verilator simulations differ from other
simulators.
.IP "\s-1INSECURE\s0" 4
.IX Item "INSECURE"
Warns that the combination of options selected may be defeating the attempt
to protect/obscure identifiers or hide information in the model.  Correct
the options provided, or inspect the output code to see if the information
exposed is acceptable.
.Sp
Ignoring this warning will only suppress the lint check, it will simulate
correctly.
.IP "\s-1LITENDIAN\s0" 4
.IX Item "LITENDIAN"
Warns that a packed vector is declared with little endian bit numbering
(i.e. [0:7]).  Big endian bit numbering is now the overwhelming standard,
and little numbering is now thus often due to simple oversight instead of
intent.
.Sp
Also warns that a cell is declared with little endian range (i.e. [0:7] or
[7]) and is connected to a N\-wide signal. Based on \s-1IEEE\s0 the bits will
likely be backwards from what you expect (i.e. cell [0] will connect to
signal bit [N\-1] not bit [0]).
.Sp
Ignoring this warning will only suppress the lint check, it will simulate
correctly.
.IP "\s-1MODDUP\s0" 4
.IX Item "MODDUP"
Warns that a module has multiple definitions.  Generally this indicates a
coding error, or a mistake in a library file and it's good practice to have
one module per file (and only put each file once on the command line) to
avoid these issues.  For some gate level netlists duplicates are sometimes
unavoidable, and \s-1MODDUP\s0 should be disabled.
.Sp
Ignoring this warning will cause the more recent module definition to be
discarded.
.IP "\s-1MULTIDRIVEN\s0" 4
.IX Item "MULTIDRIVEN"
Warns that the specified signal comes from multiple always blocks.  This is
often unsupported by synthesis tools, and is considered bad style.  It will
also cause longer simulation runtimes due to reduced optimizations.
.Sp
Ignoring this warning will only slow simulations, it will simulate
correctly.
.IP "\s-1MULTITOP\s0" 4
.IX Item "MULTITOP"
Warns that there are multiple top level modules, that is modules not
instantiated by any other module, and both modules were put on the command
line (not in a library). Three likely cases:
.Sp
1. A single module is intended to be the top. This warning then occurs
because some low level cell is being read in, but is not really needed as
part of the design.  The best solution for this situation is to ensure that
only the top module is put on the command line without any flags, and all
remaining library files are read in as libraries with \-v, or are
automatically resolved by having filenames that match the module names.
.Sp
2. A single module is intended to be the top, the name of it is known, and
all other modules should be ignored if not part of the design.  The best
solution is to use the \-\-top\-module option to specify the top module's
name. All other modules that are not part of the design will be for the
most part ignored (they must be clean in syntax and their contents will be
removed as part of the Verilog module elaboration process.)
.Sp
3. Multiple modules are intended to be design tops, e.g. when linting a
library file.  As multiple modules are desired, disable the \s-1MULTITOP\s0
warning.  All input/outputs will go uniquely to each module, with any
conflicting and identical signal names being made unique by adding a prefix
based on the top module name followed by _\|_02E (a Verilator-encoded \s-1ASCII
\&\*(L".\s0').  This renaming is done even if the two modules' signals seem
identical, e.g. multiple modules with a \*(R"clk" input.
.IP "\s-1PINCONNECTEMPTY\s0" 4
.IX Item "PINCONNECTEMPTY"
Warns that a cell instantiation has a pin which is connected to
\&.\fBpin_name()\fR, e.g. not another signal, but with an explicit mention of the
pin.  It may be desirable to disable \s-1PINCONNECTEMPTY,\s0 as this indicates
intention to have a no-connect.
.Sp
Disabled by default as this is a code style warning; it will simulate
correctly.
.IP "\s-1PINMISSING\s0" 4
.IX Item "PINMISSING"
Warns that a module has a pin which is not mentioned in a cell
instantiation.  If a pin is not missing it should still be specified on the
cell declaration with a empty connection, using \*(L"(.\fBpin_name()\fR)\*(R".
.Sp
Ignoring this warning will only suppress the lint check, it will simulate
correctly.
.IP "\s-1PINNOCONNECT\s0" 4
.IX Item "PINNOCONNECT"
Warns that a cell instantiation has a pin which is not connected to another
signal.
.Sp
Disabled by default as this is a code style warning; it will simulate
correctly.
.IP "\s-1PKGNODECL\s0" 4
.IX Item "PKGNODECL"
Error that a package/class appears to have been referenced that has not yet
been declared.  According to \s-1IEEE 1800\-2017 26.3\s0 all packages must be
declared before being used.
.IP "\s-1PROCASSWIRE\s0" 4
.IX Item "PROCASSWIRE"
Error that a procedural assignment is setting a wire. According to \s-1IEEE,\s0 a
var/reg must be used as the target of procedural assignments.
.IP "\s-1REALCVT\s0" 4
.IX Item "REALCVT"
Warns that a real number is being implicitly rounded to an integer, with
possible loss of precision.
.IP "\s-1REDEFMACRO\s0" 4
.IX Item "REDEFMACRO"
Warns that you have redefined the same macro with a different value, for
example:
.Sp
.Vb 3
\&    \`define MACRO def1
\&    //...
\&    \`define MACRO otherdef
.Ve
.Sp
The best solution is to use a different name for the second macro.  If this
is not possible, add a undef to indicate the code is overriding the value:
.Sp
.Vb 4
\&    \`define MACRO def1
\&    //...
\&    \`undef MACRO
\&    \`define MACRO otherdef
.Ve
.IP "\s-1SELRANGE\s0" 4
.IX Item "SELRANGE"
Warns that a selection index will go out of bounds:
.Sp
.Vb 2
\&    wire vec[6:0];
\&    initial out = vec[7];  // There is no 7
.Ve
.Sp
Verilator will assume zero for this value, instead of X.  Note that in some
cases this warning may be false, when a condition upstream or downstream of
the access means the access out of bounds will never execute or be used.
.Sp
.Vb 5
\&    wire vec[6:0];
\&    initial begin
\&        seven = 7;
\&        ...
\&        if (seven != 7) out = vec[seven];  // Never will use vec[7]
.Ve
.IP "\s-1SHORTREAL\s0" 4
.IX Item "SHORTREAL"
Warns that Verilator does not support \*(L"shortreal\*(R" and they will be
automatically promoted to \*(L"real\*(R".  The recommendation is to replace any
\&\*(L"shortreal\*(R" in the code with \*(L"real\*(R", as \*(L"shortreal\*(R" is not widely supported
across industry tools.
.Sp
Ignoring this warning may make Verilator simulations differ from other
simulators, if the increased precision of real affects your model or \s-1DPI\s0
calls.
.IP "\s-1SPLITVAR\s0" 4
.IX Item "SPLITVAR"
Warns that a variable with a \f(CW\*(C`split_var\*(C'\fR metacomment was not split.
Some possible reasons for this are:
.Sp
* The datatype of the variable is not supported for splitting. (e.g. is a
real).
.Sp
* The access pattern of the variable can not be determined
statically. (e.g. is accessed as a memory).
.Sp
* The index of the array exceeds the array size.
.Sp
* The variable is accessed from outside using dotted reference.
(e.g. top.instance0.variable0 = 1).
.Sp
* The variable is not declared in a module, but in a package or an
interface.
.Sp
* The variable is a parameter, localparam, genvar, or queue.
.Sp
* The variable is tristate or bidirectional. (e.g. inout or ref).
.IP "\s-1STMTDLY\s0" 4
.IX Item "STMTDLY"
Warns that you have a statement with a delayed time in front of it, for
example:
.Sp
.Vb 1
\&    #100 $finish;
.Ve
.Sp
Ignoring this warning may make Verilator simulations differ from other
simulators.
.IP "\s-1SYMRSVDWORD\s0" 4
.IX Item "SYMRSVDWORD"
Warning that a symbol matches a \*(C+ reserved word and using this as a symbol
name would result in odd \*(C+ compiler errors.  You may disable this warning,
but the symbol will be renamed by Verilator to avoid the conflict.
.IP "\s-1SYNCASYNCNET\s0" 4
.IX Item "SYNCASYNCNET"
Warns that the specified net is used in at least two different always
statements with posedge/negedges (i.e. a flop).  One usage has the signal
in the sensitivity list and body, probably as an async reset, and the other
usage has the signal only in the body, probably as a sync reset.  Mixing
sync and async resets is usually a mistake.  The warning may be disabled
with a lint_off pragma around the net, or either flopped block.
.Sp
Disabled by default as this is a code style warning; it will simulate
correctly.
.IP "\s-1TASKNSVAR\s0" 4
.IX Item "TASKNSVAR"
Error when a call to a task or function has a output from that task tied to
a non-simple signal.  Instead connect the task output to a temporary signal
of the appropriate width, and use that signal to set the appropriate
expression as the next statement.  For example:
.Sp
.Vb 4
\&      task foo; output sig; ... endtask
\&      always @* begin
\&           foo(bus_we_select_from[2]);  // Will get TASKNSVAR error
\&      end
.Ve
.Sp
Change this to:
.Sp
.Vb 5
\&      reg foo_temp_out;
\&      always @* begin
\&           foo(foo_temp_out);
\&           bus_we_select_from[2] = foo_temp_out;
\&      end
.Ve
.Sp
Verilator doesn't do this conversion for you, as some more complicated
cases would result in simulator mismatches.
.IP "\s-1TICKCOUNT\s0" 4
.IX Item "TICKCOUNT"
Warns that the number of ticks to delay a \f(CW$past\fR variable is greater than
10.  At present Verilator effectively creates a flop for each delayed
signals, and as such any large counts may lead to large design size
increases.
.Sp
Ignoring this warning will only slow simulations, it will simulate
correctly.
.IP "\s-1TIMESCALEMOD\s0" 4
.IX Item "TIMESCALEMOD"
Error that `timescale is used in some but not all modules.
Recommend using \-\-timescale argument, or in front of all modules use:
.Sp
.Vb 1
\&   \`include "timescale.vh"
.Ve
.Sp
Then in that file set the timescale.
.Sp
This is an error due to \s-1IEEE\s0 specifications, but it may be disabled similar
to warnings.  Ignoring this error may result in a module having an
unexpected timescale.
.IP "\s-1UNDRIVEN\s0" 4
.IX Item "UNDRIVEN"
Warns that the specified signal has no source.  Verilator is fairly
liberal in the usage calculations; making a signal public, or setting only
a single array element marks the entire signal as driven.
.Sp
Disabled by default as this is a code style warning; it will simulate
correctly.
.IP "\s-1UNOPT\s0" 4
.IX Item "UNOPT"
Warns that due to some construct, optimization of the specified signal or
block is disabled.  The construct should be cleaned up to improve
simulation performance.
.Sp
A less obvious case of this is when a module instantiates two submodules.
Inside submodule A, signal I is input and signal O is output.  Likewise in
submodule B, signal O is an input and I is an output.  A loop exists and a
\&\s-1UNOPT\s0 warning will result if \s-1AI & AO\s0 both come from and go to combinatorial
blocks in both submodules, even if they are unrelated always blocks.  This
affects performance because Verilator would have to evaluate each submodule
multiple times to stabilize the signals crossing between the modules.
.Sp
Ignoring this warning will only slow simulations, it will simulate
correctly.
.IP "\s-1UNOPTFLAT\s0" 4
.IX Item "UNOPTFLAT"
Warns that due to some construct, optimization of the specified signal is
disabled.  The signal reported includes a complete scope to the signal; it
may be only one particular usage of a multiply instantiated block.  The
construct should be cleaned up to improve simulation performance; two times
better performance may be possible by fixing these warnings.
.Sp
Unlike the \s-1UNOPT\s0 warning, this occurs after flattening the netlist, and
indicates a more basic problem, as the less obvious case described under
\&\s-1UNOPT\s0 does not apply.
.Sp
Often \s-1UNOPTFLAT\s0 is caused by logic that isn't truly circular as viewed by
synthesis which analyzes interconnection per-bit, but is circular to
simulation which analyzes per-bus:
.Sp
.Vb 1
\&      wire [2:0] x = {x[1:0], shift_in};
.Ve
.Sp
This statement needs to be evaluated multiple times, as a change in
\&\*(L"shift_in\*(R" requires \*(L"x\*(R" to be computed 3 times before it becomes stable.
This is because a change in \*(L"x\*(R" requires \*(L"x\*(R" itself to change value, which
causes the warning.
.Sp
For significantly better performance, split this into 2 separate signals:
.Sp
.Vb 1
\&      wire [2:0] xout = {x[1:0], shift_in};
.Ve
.Sp
and change all receiving logic to instead receive \*(L"xout\*(R".  Alternatively,
change it to
.Sp
.Vb 1
\&      wire [2:0] x = {xin[1:0], shift_in};
.Ve
.Sp
and change all driving logic to instead drive \*(L"xin\*(R".
.Sp
With this change this assignment needs to be evaluated only once.  These
sort of changes may also speed up your traditional event driven simulator,
as it will result in fewer events per cycle.
.Sp
The most complicated \s-1UNOPTFLAT\s0 path we've seen was due to low bits of a bus
being generated from an always statement that consumed high bits of the
same bus processed by another series of always blocks.  The fix is the
same; split it into two separate signals generated from each block.
.Sp
Another way to resolve this warning is to add a \f(CW\*(C`split_var\*(C'\fR metacomment
described above. This will cause the variable to be split internally,
potentially resolving the conflict. If you run with \-\-report\-unoptflat
Verilator will suggest possible candidates for \f(CW\*(C`split_var\*(C'\fR.
.Sp
The \s-1UNOPTFLAT\s0 warning may also be due to clock enables, identified from the
reported path going through a clock gating cell.  To fix these, use the
clock_enable meta comment described above.
.Sp
The \s-1UNOPTFLAT\s0 warning may also occur where outputs from a block of logic
are independent, but occur in the same always block.  To fix this, use the
isolate_assignments meta comment described above.
.Sp
To assist in resolving \s-1UNOPTFLAT,\s0 the option \f(CW\*(C`\-\-report\-unoptflat\*(C'\fR can be
used, which will provide suggestions for variables that can be split up,
and a graph of all the nodes connected in the loop. See the Arguments
section for more details.
.Sp
Ignoring this warning will only slow simulations, it will simulate
correctly.
.IP "\s-1UNOPTTHREADS\s0" 4
.IX Item "UNOPTTHREADS"
Warns that the thread scheduler was unable to partition the design to fill
the requested number of threads.
.Sp
One workaround is to request fewer threads with \f(CW\*(C`\-\-threads\*(C'\fR.
.Sp
Another possible workaround is to allow more MTasks in the simulation
runtime, by increasing the value of \-\-threads\-max\-mtasks. More MTasks will
result in more communication and synchronization overhead at simulation
runtime; the scheduler attempts to minimize the number of MTasks for this
reason.
.Sp
Ignoring this warning will only slow simulations, it will simulate
correctly.
.IP "\s-1UNPACKED\s0" 4
.IX Item "UNPACKED"
Warns that unpacked structs and unions are not supported.
.Sp
Ignoring this warning will make Verilator treat the structure as packed,
which may make Verilator simulations differ from other simulators. This
downgrading may also result what would normally be a legal unpacked
struct/array inside an unpacked struct/array becoming an illegal unpacked
struct/array inside a packed struct/array.
.IP "\s-1UNSIGNED\s0" 4
.IX Item "UNSIGNED"
Warns that you are comparing a unsigned value in a way that implies it is
signed, for example \*(L"X < 0\*(R" will always be false when X is unsigned.
.Sp
Ignoring this warning will only suppress the lint check, it will simulate
correctly.
.IP "\s-1UNSUPPORTED\s0" 4
.IX Item "UNSUPPORTED"
\&\s-1UNSUPPORTED\s0 is an error that the construct might be legal according to \s-1IEEE\s0
but is not currently supported.
.Sp
This error may be ignored with \-\-bbox\-unsup, however this will make the
design simulate incorrectly; see the details under \-\-bbox\-unsup.
.IP "\s-1UNUSED\s0" 4
.IX Item "UNUSED"
Warns that the specified signal is never used/consumed.  Verilator is
fairly liberal in the usage calculations; making a signal public, a signal
matching \-\-unused\-regexp (\*(L"*unused*\*(R") or accessing only a single array
element marks the entire signal as used.
.Sp
Disabled by default as this is a code style warning; it will simulate
correctly.
.Sp
A recommended style for unused nets is to put at the bottom of a file code
similar to the following:
.Sp
.Vb 4
\&    wire _unused_ok = &{1\*(Aqb0,
\&                        sig_not_used_a,
\&                        sig_not_used_yet_b,  // To be fixed
\&                        1\*(Aqb0};
.Ve
.Sp
The reduction \s-1AND\s0 and constant zeros mean the net will always be zero, so
won't use simulation runtime.  The redundant leading and trailing zeros avoid
syntax errors if there are no signals between them.  The magic name
\&\*(L"unused\*(R" (\-unused\-regexp) is recognized by Verilator and suppresses
warnings; if using other lint tools, either teach it to the tool to ignore
signals with \*(L"unused\*(R" in the name, or put the appropriate lint_off around the
wire.  Having unused signals in one place makes it easy to find what is unused,
and reduces the number of lint_off pragmas, reducing bugs.
.IP "\s-1USERINFO, USERWARN, USERERROR, USERFATAL\s0" 4
.IX Item "USERINFO, USERWARN, USERERROR, USERFATAL"
A SystemVerilog elaboration-time assertion print was executed.
.IP "\s-1VARHIDDEN\s0" 4
.IX Item "VARHIDDEN"
Warns that a task, function, or begin/end block is declaring a variable by
the same name as a variable in the upper level module or begin/end block
(thus hiding the upper variable from being able to be used.)  Rename the
variable to avoid confusion when reading the code.
.Sp
Disabled by default as this is a code style warning; it will simulate
correctly.
.IP "\s-1WIDTH\s0" 4
.IX Item "WIDTH"
Warns that based on width rules of Verilog, two operands have different
widths.  Verilator generally can intuit the common usages of widths, and
you shouldn't need to disable this message like you do with most lint
programs.  Generally other than simple mistakes, you have two solutions:
.Sp
If it's a constant 0 that's 32 bits or less, simply leave it
unwidthed. Verilator considers zero to be any width needed.
.Sp
Concatenate leading zeros when doing arithmetic.  In the statement
.Sp
.Vb 1
\&        wire [5:0] plus_one = from[5:0] + 6\*(Aqd1 + carry[0];
.Ve
.Sp
The best fix, which clarifies intent and will also make all tools happy is:
.Sp
.Vb 1
\&        wire [5:0] plus_one = from[5:0] + 6\*(Aqd1 + {5\*(Aqd0, carry[0]};
.Ve
.Sp
Ignoring this warning will only suppress the lint check, it will simulate
correctly.
.IP "\s-1WIDTHCONCAT\s0" 4
.IX Item "WIDTHCONCAT"
Warns that based on width rules of Verilog, a concatenate or replication
has an indeterminate width.  In most cases this violates the Verilog rule
that widths inside concatenates and replicates must be sized, and should be
fixed in the code.
.Sp
.Vb 1
\&    wire [63:0] concat = {1, 2};
.Ve
.Sp
An example where this is technically legal (though still bad form) is:
.Sp
.Vb 2
\&    parameter PAR = 1;
\&    wire [63:0] concat = {PAR, PAR};
.Ve
.Sp
The correct fix is to either size the 1 (\*(L"32'h1\*(R"), or add the width to the
parameter definition (\*(L"parameter [31:0]\*(R"), or add the width to the
parameter usage (\*(L"{PAR[31:0],PAR[31:0]}\*(R".
.PP
The following describes the less obvious errors:
.IP "Internal Error" 4
.IX Item "Internal Error"
This error should never occur first, though may occur if earlier warnings
or error messages have corrupted the program.  If there are no other
warnings or errors, submit a bug report.
.IP "Unsupported: ...." 4
.IX Item "Unsupported: ...."
This error indicates that you are using a Verilog language construct
that is not yet supported in Verilator.  See the Limitations chapter.
.SH "DEPRECATIONS"
.IX Header "DEPRECATIONS"
The following deprecated items are scheduled for future removal:
.IP "\*(C+11 compiler support" 4
.IX Item "11 compiler support"
Verilator currently requires \*(C+11 or newer compilers.  Verilator will
require \*(C+14 or newer compilers for both compiling Verilator and compiling
Verilated models no sooner than January 2022.
.IP "Configuration File \-msg" 4
.IX Item "Configuration File -msg"
The \-msg argument to lint_off has been replaced with \-rule.  \-msg is
planned for removal no sooner than January 2021.
.IP "\s-1XML\s0 locations" 4
.IX Item "XML locations"
The \s-1XML\s0 \f(CW\*(C`fl\*(C'\fR attribute has been replaced with \f(CW\*(C`loc\*(C'\fR.  \f(CW\*(C`fl\*(C'\fR is planned
for removal no sooner than January 2021.
.SH "FAQ/FREQUENTLY ASKED QUESTIONS"
.IX Header "FAQ/FREQUENTLY ASKED QUESTIONS"
.IP "Can I contribute?" 4
.IX Item "Can I contribute?"
Please contribute!  Just submit a pull request, or raise an issue to discuss
if looking for something to help on.  For more information see our
contributor agreement.
.IP "How widely is Verilator used?" 4
.IX Item "How widely is Verilator used?"
Verilator is used by many of the largest silicon design companies, and all the
way down to college projects.  Verilator is one of the \*(L"big 4\*(R" simulators,
meaning one of the 4 main SystemVerilog simulators available, namely the
commercial products Synopsys \s-1VCS\s0 (tm), Mentor Questa/ModelSim (tm), Cadence
Xcelium/Incisive/NC\-Verilog/NC\-Sim (tm), and the open-source Verilator.  The
three commercial offerings are often collectively called the \*(L"big 3\*(R"
simulators.
.IP "Does Verilator run under Windows?" 4
.IX Item "Does Verilator run under Windows?"
Yes, using Cygwin.  Verilated output also compiles under Microsoft Visual
\&\*(C+, but this is not tested every release.
.IP "Can you provide binaries?" 4
.IX Item "Can you provide binaries?"
You can install Verilator via the system package manager (apt, yum, etc.) on
many Linux distributions, including Debian, Ubuntu, SuSE, Fedora, and others.
These packages are provided by the Linux distributions and generally will lag
the version of the mainline Verilator repository.  If no binary package is
available for your distribution, how about you set one up?  Please contact the
authors for assistance.
.IP "How can it be faster than (name\-a\-big\-3\-closed\-source\-simulator)?" 4
.IX Item "How can it be faster than (name-a-big-3-closed-source-simulator)?"
Generally, the implied part of the question is \*(L"... with all of the
manpower they can put into developing it.\*(R"
.Sp
Most simulators have to be compliant with the complete \s-1IEEE 1364\s0 (Verilog) and
\&\s-1IEEE 1800\s0 (SystemVerilog) standards, meaning they have to be event driven.
This prevents them from being able to reorder blocks and make netlist-style
optimizations, which are where most of the gains come from.
.Sp
You should not be scared by non-compliance.  Your synthesis tool isn't
compliant with the whole standard to start with, so your simulator need not be
either.  Verilator is closer to the synthesis interpretation, so this is a good
thing for getting working silicon.
.IP "Will Verilator output remain under my own license?" 4
.IX Item "Will Verilator output remain under my own license?"
Yes, it's just like using \s-1GCC\s0 on your programs; this is why Verilator uses
the \*(L"\s-1GNU\s0 *Lesser* Public License Version 3\*(R" instead of the more typical
\&\*(L"\s-1GNU\s0 Public License\*(R".  See the licenses for details, but in brief, if you
change Verilator itself or the header files Verilator includes, you must
make the source code available under the \s-1GNU\s0 Lesser Public License.
However, Verilator output (the Verilated code) only \*(L"include\*(R"s the licensed
files, and so you are \s-1NOT\s0 required to release any output from Verilator.
.Sp
You also have the option of using the Perl Artistic License, which again
does not require you to release your Verilog or generated code, and also
allows you to modify Verilator for internal use without distributing the
modified version.  But please contribute back to the community!
.Sp
One limit is that you cannot under either license release a commercial
Verilog simulation product incorporating Verilator without making the
source code available.
.Sp
As is standard with Open Source, contributions back to Verilator will be
placed under the Verilator copyright and LGPL/Artistic license.  Small test
cases will be released into the public domain so they can be used anywhere,
and large tests under the LGPL/Artistic, unless requested otherwise.
.IP "Why is running Verilator (to create a model) so slow?" 4
.IX Item "Why is running Verilator (to create a model) so slow?"
Verilator needs more memory than the resulting simulator will require, as
Verilator internally creates all of the state of the resulting generated
simulator in order to optimize it.  If it takes more than a few minutes or
so (and you're not using \-\-debug since debug mode is disk bound), see if your
machine is paging; most likely you need to run it on a machine with more
memory. Very large designs are known to have topped 16GB resident set size.
.IP "How do I generate waveforms (traces) in \*(C+?" 4
.IX Item "How do I generate waveforms (traces) in ?"
See the next question for tracing in SystemC mode.
.Sp
A. Add the \-\-trace switch to Verilator, and in your top level C code, call
Verilated::traceEverOn(true).  Then you may use \f(CW$dumpfile\fR and \f(CW$dumpvars\fR to
enable traces, same as with any Verilog simulator. See
\&\f(CW\*(C`examples/make_tracing_c\*(C'\fR.
.Sp
B. Or, for finer-grained control, or \*(C+ files with multiple Verilated
modules you may also create the trace purely from \*(C+.  Create a
VerilatedVcdC object, and in your main loop call \*(L"trace_object\->dump(time)\*(R"
every time step, and finally call \*(L"trace_object\->\fBclose()\fR\*(R".  You also need
to compile verilated_vcd_c.cpp and add it to your link, preferably by
adding the dependencies in $(\s-1VK_GLOBAL_OBJS\s0) to your Makefile's link rule.
This is done for you if using the Verilator \-\-exe flag.  Note you can also
call \->trace on multiple Verilated objects with the same trace file if you
want all data to land in the same output file.
.Sp
.Vb 10
\&    #include "verilated_vcd_c.h"
\&    ...
\&    int main(int argc, char** argv, char** env) {
\&        ...
\&        Verilated::traceEverOn(true);
\&        VerilatedVcdC* tfp = new VerilatedVcdC;
\&        topp\->trace(tfp, 99);  // Trace 99 levels of hierarchy
\&        tfp\->open("obj_dir/t_trace_ena_cc/simx.vcd");
\&        ...
\&        while (sc_time_stamp() < sim_time && !Verilated::gotFinish()) {
\&            main_time += #;
\&            tfp\->dump(main_time);
\&        }
\&        tfp\->close();
\&    }
.Ve
.IP "How do I generate waveforms (traces) in SystemC?" 4
.IX Item "How do I generate waveforms (traces) in SystemC?"
A. Add the \-\-trace switch to Verilator, and in your top level sc_main, call
Verilated::traceEverOn(true).  Then you may use \f(CW$dumpfile\fR and \f(CW$dumpvars\fR to
enable traces, same as with any Verilog simulator, see the non-SystemC
example in \f(CW\*(C`examples/make_tracing_c\*(C'\fR. This will trace only the module
containing the \f(CW$dumpvar\fR.
.Sp
B. Or, you may create a trace purely from SystemC, which may trace all
Verilated designs in the SystemC model. Create a VerilatedVcdSc object as
you would create a normal SystemC trace file.  For an example, see the call
to VerilatedVcdSc in the examples/make_tracing_sc/sc_main.cpp file of the
distribution, and below.
.Sp
Alternatively you may use the \*(C+ trace mechanism described in the previous
question, note the timescale and timeprecision will be inherited from your
SystemC settings.
.Sp
You also need to compile verilated_vcd_sc.cpp and verilated_vcd_c.cpp and
add them to your link, preferably by adding the dependencies in
$(\s-1VK_GLOBAL_OBJS\s0) to your Makefile's link rule.  This is done for you if
using the Verilator \-\-exe flag.
.Sp
Note you can also call \->trace on multiple Verilated objects with the same
trace file if you want all data to land in the same output file.
.Sp
When using SystemC 2.3, the SystemC library must have been built with the
experimental simulation phase callback based tracing disabled. This is
disabled by default when building SystemC with its configure based build
system, but when building SystemC with CMake, you must pass
\&\-DENABLE_PHASE_CALLBACKS_TRACING=OFF to disable this feature.
.Sp
.Vb 10
\&    #include "verilated_vcd_sc.h"
\&    ...
\&    int main(int argc, char** argv, char** env) {
\&        ...
\&        Verilated::traceEverOn(true);
\&        VerilatedVcdSc* tfp = new VerilatedVcdSc;
\&        topp\->trace(tfp, 99);  // Trace 99 levels of hierarchy
\&        tfp\->open("obj_dir/t_trace_ena_cc/simx.vcd");
\&        ...
\&        sc_start(1);
\&        ...
\&        tfp\->close();
\&    }
.Ve
.IP "How do I generate \s-1FST\s0 waveforms (traces) in \*(C+?" 4
.IX Item "How do I generate FST waveforms (traces) in ?"
\&\s-1FST\s0 is a trace file format developed by GTKWave.  Verilator provides basic \s-1FST\s0
support.  To dump traces in \s-1FST\s0 format, add the \-\-trace\-fst switch to Verilator
and either A. use \f(CW$dumpfile\fR/$dumpvars in Verilog as described in the \s-1VCD\s0
example above, or B. in \*(C+ change the include described in the \s-1VCD\s0 example
above:
.Sp
.Vb 2
\&    #include "verilated_fst_c.h"
\&    VerilatedFstC* tfp = new VerilatedFstC;
.Ve
.Sp
Note that currently supporting both \s-1FST\s0 and \s-1VCD\s0 in a single simulation is
impossible, but such requirement should be rare.  You can however ifdef
around the trace format in your \*(C+ main loop, and select \s-1VCD\s0 or \s-1FST\s0 at
build time, should you require.
.IP "How do I generate \s-1FST\s0 waveforms (aka dumps or traces) in SystemC?" 4
.IX Item "How do I generate FST waveforms (aka dumps or traces) in SystemC?"
The \s-1FST\s0 library from GTKWave does not currently support SystemC; use \s-1VCD\s0
format instead.
.IP "How do I view waveforms (aka dumps or traces)?" 4
.IX Item "How do I view waveforms (aka dumps or traces)?"
Verilator creates standard \s-1VCD\s0 (Value Change Dump) and \s-1FST\s0 files.  \s-1VCD\s0 files
are viewable with the open source GTKWave (recommended) or Dinotrace (legacy)
programs, or any of the many closed-source offerings; \s-1FST\s0 is supported only by
GTKWave.
.IP "How do I reduce the size of large waveform (trace) files?" 4
.IX Item "How do I reduce the size of large waveform (trace) files?"
First, instead of calling VerilatedVcdC\->open at the beginning of time,
delay calling it until the time stamp where you want tracing to begin.
Likewise you can also call VerilatedVcdC\->open before the end of time
(perhaps a short period after you detect a verification error).
.Sp
Next, add /*verilator tracing_off*/ to any very low level modules you never
want to trace (such as perhaps library cells).  Finally, use the
\&\-\-trace\-depth option to limit the depth of tracing, for example
\&\-\-trace\-depth 1 to see only the top level signals.
.Sp
Also be sure you write your trace files to a local solid-state drive,
instead of to a network drive.  Network drives are generally far slower.
.Sp
You can also consider using \s-1FST\s0 tracing instead of \s-1VCD. FST\s0 dumps are a
fraction of the size of the equivalent \s-1VCD. FST\s0 tracing can be slower than
\&\s-1VCD\s0 tracing, but it might be the only option if the \s-1VCD\s0 file size is
prohibitively large.
.IP "How do I do coverage analysis?" 4
.IX Item "How do I do coverage analysis?"
Verilator supports both block (line) coverage and user inserted functional
coverage.
.Sp
First, run verilator with the \-\-coverage option.  If you are using your own
makefile, compile the model with the \s-1GCC\s0 flag \-DVM_COVERAGE (if using
the makefile provided by Verilator, it will do this for you).
.Sp
At the end of your test, call VerilatedCov::write passing the name of the
coverage data file (typically \*(L"logs/coverage.dat\*(R").
.Sp
Run each of your tests in different directories.  Each test will create a
logs/coverage.dat file.
.Sp
After running all of your tests, execute the verilator_coverage tool.  The
verilator_coverage tool reads the logs/coverage.dat file(s), and creates an
annotated source code listing showing code coverage details.
.Sp
For an example, after running 'make test' in the Verilator distribution,
see the examples/make_tracing_c/logs directory.  Grep for lines starting
with '%' to see what lines Verilator believes need more coverage.
.Sp
Info files can be written by verilator_coverage for import to \f(CW\*(C`lcov\*(C'\fR.
This enables use of \f(CW\*(C`genhtml\*(C'\fR for \s-1HTML\s0 reports and importing reports to
sites such as <https://codecov.io>.
.IP "Where is the translate_off command?  (How do I ignore a construct?)" 4
.IX Item "Where is the translate_off command? (How do I ignore a construct?)"
Translate on/off pragmas are generally a bad idea, as it's easy to have
mismatched pairs, and you can't see what another tool sees by just
preprocessing the code.  Instead, use the preprocessor; Verilator defines
the \*(L"\s-1VERILATOR\*(R"\s0 define for you, so just wrap the code in an ifndef region:
.Sp
.Vb 3
\&   \`ifndef VERILATOR
\&      Something_Verilator_Dislikes;
\&   \`endif
.Ve
.Sp
Most synthesis tools similarly define \s-1SYNTHESIS\s0 for you.
.ie n .IP "Why do I get ""unexpected ""do"""" or ""unexpected ""bit"""" errors?" 4
.el .IP "Why do I get ``unexpected \f(CWdo\fR'' or ``unexpected \f(CWbit\fR'' errors?" 4
.IX Item "Why do I get ""unexpected do or unexpected bit"" errors?"
The words \f(CW\*(C`do\*(C'\fR, \f(CW\*(C`bit\*(C'\fR, \f(CW\*(C`ref\*(C'\fR, \f(CW\*(C`return\*(C'\fR, and others are reserved keywords
in SystemVerilog.  Older Verilog code might use these as identifiers.  You
should change your code to not use them to ensure it works with newer
tools.  Alternatively, surround them by the Verilog 2005/SystemVerilog
begin_keywords pragma to indicate Verilog 2001 code.
.Sp
.Vb 3
\&   \`begin_keywords "1364\-2001"
\&      integer bit; initial bit = 1;
\&   \`end_keywords
.Ve
.Sp
If you want the whole design to be parsed as Verilog 2001, please see the
\&\f(CW\*(C`\-\-default\-language\*(C'\fR option.
.IP "How do I prevent my assertions from firing during reset?" 4
.IX Item "How do I prevent my assertions from firing during reset?"
Call Verilated::assertOn(false) before you first call the model, then turn
it back on after reset.  It defaults to true.  When false, all assertions
controlled by \-\-assert are disabled.
.ie n .IP "Why do I get ""undefined reference to `\fBsc_time_stamp()\fR'""?" 4
.el .IP "Why do I get ``undefined reference to `\fBsc_time_stamp()\fR'''?" 4
.IX Item "Why do I get undefined reference to `sc_time_stamp()'?"
In \*(C+ (non SystemC) code you need to define this function so that the
simulator knows the current time.  See the \*(L"\s-1CONNECTING TO \*(C+\*(R"\s0 examples.
.ie n .IP "Why do I get ""undefined reference to `\s-1VL_RAND_RESET_I\s0' or `Verilated::...'""?" 4
.el .IP "Why do I get ``undefined reference to `\s-1VL_RAND_RESET_I\s0' or `Verilated::...'''?" 4
.IX Item "Why do I get undefined reference to `VL_RAND_RESET_I' or `Verilated::...'?"
You need to link your compiled Verilated code against the verilated.cpp
file found in the include directory of the Verilator kit.  This is one
target in the $(\s-1VK_GLOBAL_OBJS\s0) make variable, which should be part of your
Makefile's link rule.  If you use \-\-exe, this is done for you.
.IP "Is the \s-1PLI\s0 supported?" 4
.IX Item "Is the PLI supported?"
Only somewhat.  More specifically, the common PLI-ish calls \f(CW$display\fR,
\&\f(CW$finish\fR, \f(CW$stop\fR, \f(CW$time\fR, \f(CW$write\fR are converted to \*(C+ equivalents.  You can
also use the \*(L"import \s-1DPI\*(R"\s0 SystemVerilog feature to call C code (see the
chapter above).  There is also limited \s-1VPI\s0 access to public signals.
.Sp
If you want something more complex, since Verilator emits standard \*(C+
code, you can simply write your own \*(C+ routines that can access and modify
signal values without needing any \s-1PLI\s0 interface code, and call it with
$c(\*(L"{any_c++_statement}\*(R").
.IP "How do I make a Verilog module that contain a \*(C+ object?" 4
.IX Item "How do I make a Verilog module that contain a object?"
You need to add the object to the structure that Verilator creates, then
use \f(CW$c\fR to call a method inside your object.  The
test_regress/t/t_extend_class files show an example of how to do this.
.IP "How do I get faster build times?" 4
.IX Item "How do I get faster build times?"
When running make pass the make variable VM_PARALLEL_BUILDS=1 so that
builds occur in parallel. Note this is now set by default if an output
file was large enough to be split due to the \-\-output\-split option.
.Sp
Verilator emits any infrequently executed \*(L"cold\*(R" routines into separate
_\|_Slow.cpp files. This can accelerate compilation as optimization can be
disabled on these routines. See the \s-1OPT_FAST\s0 and \s-1OPT_SLOW\s0 make variables
and the \s-1BENCHMARKING & OPTIMIZATION\s0 section of the manual.
.Sp
Use a recent compiler.  Newer compilers tend to be faster.
.Sp
Compile in parallel on many machines and use caching; see the web for the
ccache, distcc and icecream packages. ccache will skip \s-1GCC\s0 runs between
identical source builds, even across different users.  If ccache was
installed when Verilator was built it is used, or see \s-1OBJCACHE\s0 environment
variable to override this. Also see the \-\-output\-split option.
.Sp
To reduce the compile time of classes that use a Verilated module (e.g. a
top \s-1CPP\s0 file) you may wish to add /*verilator no_inline_module*/ to your
top level module. This will decrease the amount of code in the model's
Verilated class, improving compile times of any instantiating top level \*(C+
code, at a relatively small cost of execution performance.
.IP "Why do so many files need to recompile when I add a signal?" 4
.IX Item "Why do so many files need to recompile when I add a signal?"
Adding a new signal requires the symbol table to be recompiled.  Verilator
uses one large symbol table, as that results in 2\-3 less assembly
instructions for each signal access.  This makes the execution time 10\-15%
faster, but can result in more compilations when something changes.
.IP "How do I access Verilog functions/tasks in C?" 4
.IX Item "How do I access Verilog functions/tasks in C?"
Use the SystemVerilog Direct Programming Interface.  You write a Verilog
function or task with input/outputs that match what you want to call in
with C.  Then mark that function as a \s-1DPI\s0 export function.  See the \s-1DPI\s0
chapter in the \s-1IEEE\s0 Standard.
.IP "How do I access \*(C+ functions/tasks in Verilog?" 4
.IX Item "How do I access functions/tasks in Verilog?"
Use the SystemVerilog Direct Programming Interface.  You write a Verilog
function or task with input/outputs that match what you want to call in
with C.  Then mark that function as a \s-1DPI\s0 import function.  See the \s-1DPI\s0
chapter in the \s-1IEEE\s0 Standard.
.IP "How do I access signals in C?" 4
.IX Item "How do I access signals in C?"
The best thing to do is to make a SystemVerilog \*(L"export \s-1DPI\*(R"\s0 task or function
that accesses that signal, as described in the \s-1DPI\s0 chapter in the manual
and \s-1DPI\s0 tutorials on the web.  This will allow Verilator to better optimize
the model and should be portable across simulators.
.Sp
If you really want raw access to the signals, declare the signals you will
be accessing with a /*verilator public*/ comment before the closing
semicolon.  Then scope into the \*(C+ class to read the value of the signal,
as you would any other member variable.
.Sp
Signals are the smallest of 8\-bit unsigned chars (equivalent to uint8_t),
16\-bit unsigned shorts (uint16_t), 32\-bit unsigned longs (uint32_t), or
64\-bit unsigned long longs (uint64_t) that fits the width of the signal.
Generally, you can use just uint32_t's for 1 to 32 bits, or vluint64_t for
1 to 64 bits, and the compiler will properly up-convert smaller entities.
Note even signed ports are declared as unsigned; you must sign extend
yourself to the appropriate signal width.
.Sp
Signals wider than 64 bits are stored as an array of 32\-bit uint32_t's.
Thus to read bits 31:0, access signal[0], and for bits 63:32, access
signal[1].  Unused bits (for example bit numbers 65\-96 of a 65\-bit vector)
will always be zero.  If you change the value you must make sure to pack
zeros in the unused bits or core-dumps may result, because Verilator strips
array bound checks where it believes them to be unnecessary to improve
performance.
.Sp
In the \s-1SYSTEMC\s0 example above, if you had in our.v:
.Sp
.Vb 2
\&    input clk /*verilator public*/;
\&    // Note the placement of the semicolon above
.Ve
.Sp
From the sc_main.cpp file, you'd then:
.Sp
.Vb 3
\&    #include "Vour.h"
\&    #include "Vour_our.h"
\&    cout << "clock is " << top\->our\->clk << endl;
.Ve
.Sp
In this example, clk is a bool you can read or set as any other variable.
The value of normal signals may be set, though clocks shouldn't be changed
by your code or you'll get strange results.
.IP "Should a module be in Verilog or SystemC?" 4
.IX Item "Should a module be in Verilog or SystemC?"
Sometimes there is a block that just interconnects cells, and have a choice
as to if you write it in Verilog or SystemC.  Everything else being equal,
best performance is when Verilator sees all of the design.  So, look at the
hierarchy of your design, labeling cells as to if they are SystemC or
Verilog.  Then:
.Sp
A module with only SystemC cells below must be SystemC.
.Sp
A module with a mix of Verilog and SystemC cells below must be SystemC. (As
Verilator cannot connect to lower-level SystemC cells.)
.Sp
A module with only Verilog cells below can be either, but for best
performance should be Verilog.  (The exception is if you have a design that
is instantiated many times; in this case Verilating one of the lower
modules and instantiating that Verilated cells multiple times into a
SystemC module *may* be faster.)
.SH "BUGS"
.IX Header "BUGS"
First, check the \*(L"\s-1LANGUAGE LIMITATIONS\*(R"\s0 section.
.PP
Next, try the \-\-debug switch.  This will enable additional internal
assertions, and may help identify the problem.
.PP
Finally, reduce your code to the smallest possible routine that exhibits
the bug.  Even better, create a test in the test_regress/t directory, as
follows:
.PP
.Vb 3
\&    cd test_regress
\&    cp \-p t/t_EXAMPLE.pl t/t_BUG.pl
\&    cp \-p t/t_EXAMPLE.v t/t_BUG.v
.Ve
.PP
There are many hints on how to write a good test in the driver.pl
documentation which can be seen by running:
.PP
.Vb 2
\&    cd $VERILATOR_ROOT  # Need the original distribution kit
\&    test_regress/driver.pl \-\-help
.Ve
.PP
Edit t/t_BUG.pl to suit your example; you can do anything you want in the
Verilog code there; just make sure it retains the single clk input and no
outputs.  Now, the following should fail:
.PP
.Vb 6
\&    cd $VERILATOR_ROOT  # Need the original distribution kit
\&    cd test_regress
\&    t/t_BUG.pl  # Run on Verilator
\&    t/t_BUG.pl \-\-debug # Run on Verilator, passing \-\-debug to Verilator
\&    t/t_BUG.pl \-\-vcs  # Run on VCS simulator
\&    t/t_BUG.pl \-\-nc|\-\-iv|\-\-ghdl  # Likewise on other simulators
.Ve
.PP
The test driver accepts a number of options, many of which mirror the main
Verilator option. For example the previous test could have been run with
debugging enabled.  The full set of test options can be seen by running
driver.pl \-\-help as shown above.
.PP
Finally, report the bug using the bug tracker at
<https://verilator.org/issues>.  The bug will become publicly visible; if
this is unacceptable, mail the bug report to \f(CW\*(C`wsnyder@wsnyder.org\*(C'\fR.
.SH "HISTORY"
.IX Header "HISTORY"
Verilator was conceived in 1994 by Paul Wasson at the Core Logic Group
at Digital Equipment Corporation.  The Verilog code that was converted
to C was then merged with a C based \s-1CPU\s0 model of the Alpha processor
and simulated in a C based environment called \s-1CCLI.\s0
.PP
In 1995 Verilator started being used also for Multimedia and Network
Processor development inside Digital.  Duane Galbi took over active
development of Verilator, and added several performance enhancements.
\&\s-1CCLI\s0 was still being used as the shell.
.PP
In 1998, through the efforts of existing DECies, mainly Duane Galbi,
Digital graciously agreed to release the source code.  (Subject to the
code not being resold, which is compatible with the \s-1GNU\s0 Public
License.)
.PP
In 2001, Wilson Snyder took the kit, and added a SystemC mode, and
called it Verilator2.  This was the first packaged public release.
.PP
In 2002, Wilson Snyder created Verilator 3.000 by rewriting Verilator from
scratch in \*(C+.  This added many optimizations, yielding about a 2\-5x
performance gain.
.PP
In 2009, major SystemVerilog and \s-1DPI\s0 language support was added.
.PP
In 2018, Verilator 4.000 was released with multithreaded support.
.PP
Currently, various language features and performance enhancements are added
as the need arises.  Verilator is now about 3x faster than in 2002, and is
faster than most (if not every) other simulator.
.SH "AUTHORS"
.IX Header "AUTHORS"
When possible, please instead report bugs to <https://verilator.org/issues>.
.PP
Wilson Snyder <wsnyder@wsnyder.org>
.PP
Major concepts by Paul Wasson, Duane Galbi, John Coiner and Jie Xu.
.SH "CONTRIBUTORS"
.IX Header "CONTRIBUTORS"
Many people have provided ideas and other assistance with Verilator.
.PP
Verilator is receiving major development support from the \s-1CHIPS\s0 Alliance.
.PP
Previous major corporate sponsors of Verilator, by providing significant
contributions of time or funds included include Atmel Corporation, Cavium
Inc., Compaq Corporation, Digital Equipment Corporation, Embecosm Ltd.,
Hicamp Systems, Intel Corporation, Mindspeed Technologies Inc., MicroTune
Inc., picoChip Designs Ltd., Sun Microsystems Inc., Nauticus Networks Inc.,
and SiCortex Inc.
.PP
The people who have contributed major functionality are Byron Bradley,
Jeremy Bennett, Lane Brooks, John Coiner, Duane Galbi, Geza Lore, Todd
Strader, Stefan Wallentowitz, Paul Wasson, Jie Xu, and Wilson Snyder.
Major testers included Jeff Dutton, Jonathon Donaldson, Ralf Karge, David
Hewson, Iztok Jeras, Wim Michiels, Alex Solomatnikov, Sebastien Van
Cauwenberghe, Gene Weber, and Clifford Wolf.
.PP
Some of the people who have provided ideas, and feedback for Verilator
include: David Addison, Tariq B. Ahmad, Nikana Anastasiadis, Hans Van
Antwerpen, Vasu Arasanipalai, Jens Arm, Sharad Bagri, Matthew Ballance,
Andrew Bardsley, Matthew Barr, Geoff Barrett, Julius Baxter, Jeremy
Bennett, Michael Berman, Victor Besyakov, Moinak Bhattacharyya, David
Binderman, Piotr Binkowski, Johan Bjork, David Black, Tymoteusz Blazejczyk,
Daniel Bone, Gregg Bouchard, Christopher Boumenot, Nick Bowler, Byron
Bradley, Bryan Brady, Maarten De Braekeleer, Charlie Brej, J Briquet, Lane
Brooks, John Brownlee, Jeff Bush, Lawrence Butcher, Tony Bybell, Ted
Campbell, Chris Candler, Lauren Carlson, Donal Casey, Sebastien Van
Cauwenberghe, Alex Chadwick, Terry Chen, Yi-Chung Chen, Enzo Chi, Robert
A. Clark, Allan Cochrane, John Coiner, Gianfranco Costamagna, Sean Cross,
George Cuan, Joe DErrico, Lukasz Dalek, Laurens van Dam, Gunter
Dannoritzer, Ashutosh Das, Bernard Deadman, John Demme, Mike Denio, John
Deroo, Philip Derrick, John Dickol, Ruben Diez, Danny Ding, Jacko Dirks,
Ivan Djordjevic, Jonathon Donaldson, Leendert van Doorn, Sebastian
Dressler, Alex Duller, Jeff Dutton, Tomas Dzetkulic, Usuario Eda, Charles
Eddleston, Chandan Egbert, Joe Eiler, Ahmed El-Mahmoudy, Trevor Elbourne,
Mats Engstrom, Robert Farrell, Eugen Fekete, Fabrizio Ferrandi, Udi
Finkelstein, Brian Flachs, Andrea Foletto, Bob Fredieu, Duane Galbi,
Benjamin Gartner, Christian Gelinek, Peter Gerst, Glen Gibb, Michael
Gielda, Shankar Giri, Dan Gisselquist, Petr Gladkikh, Sam Gladstone, Amir
Gonnen, Chitlesh Goorah, Kai Gossner, Sergi Granell, Al Grant, Alexander
Grobman, Xuan Guo, Driss Hafdi, Neil Hamilton, James Hanlon, Oyvind Harboe,
Jannis Harder, Junji Hashimoto, Thomas Hawkins, Mitch Hayenga, Robert
Henry, Stephen Henry, David Hewson, Jamey Hicks, Joel Holdsworth, Andrew
Holme, Hiroki Honda, Alex Hornung, David Horton, Peter Horvath, Jae
Hossell, Alan Hunter, James Hutchinson, Jamie Iles, Ben Jackson, Shareef
Jalloq, Krzysztof Jankowski, HyungKi Jeong, Iztok Jeras, James Johnson,
Christophe Joly, Franck Jullien, James Jung, Mike Kagen, Arthur Kahlich,
Kaalia Kahn, Guy-Armand Kamendje, Vasu Kandadi, Kanad Kanhere, Patricio
Kaplan, Pieter Kapsenberg, Ralf Karge, Dan Katz, Sol Katzman, Ian Kennedy,
Jonathan Kimmitt, Olof Kindgren, Kevin Kiningham, Dan Kirkham, Sobhan Klnv,
Gernot Koch, Soon Koh, Nathan Kohagen, Steve Kolecki, Brett Koonce, Will
Korteland, Wojciech Koszek, Varun Koyyalagunta, David Kravitz, Roland
Kruse, Sergey Kvachonok, Charles Eric LaForest, Ed Lander, Steve Lang,
Stephane Laurent, Walter Lavino, Christian Leber, Larry Lee, Igor Lesik,
John Li, Eivind Liland, Yu Sheng Lin, Charlie Lind, Andrew Ling, Jiuyang
Liu, Paul Liu, Derek Lockhart, Jake Longo, Geza Lore, Arthur Low, Stefan
Ludwig, Dan Lussier, Fred Ma, Duraid Madina, Affe Mao, Julien Margetts,
Mark Marshall, Alfonso Martinez, Yves Mathieu, Patrick Maupin, Jason
McMullan, Elliot Mednick, Wim Michiels, Miodrag Milanovic, Wai Sum Mong,
Peter Monsson, Sean Moore, Dennis Muhlestein, John Murphy, Matt Myers,
Nathan Myers, Richard Myers, Dimitris Nalbantis, Peter Nelson, Bob Newgard,
Cong Van Nguyen, Paul Nitza, Yossi Nivin, Pete Nixon, Lisa Noack, Mark
Nodine, Kuba Ober, Andreas Olofsson, Aleksander Osman, James Pallister,
Vassilis Papaefstathiou, Brad Parker, Dan Petrisko, Maciej Piechotka, David
Pierce, Dominic Plunkett, David Poole, Mike Popoloski, Roman Popov, Rich
Porter, Niranjan Prabhu, Usha Priyadharshini, Mark Jackson Pulver, Prateek
Puri, Marshal Qiao, Danilo Ramos, Chris Randall, Anton Rapp, Josh Redford,
Odd Magne Reitan, Frederic Requin, Frederick Requin, Dustin Richmond,
Alberto Del Rio, Eric Rippey, Oleg Rodionov, Ludwig Rogiers, Paul Rolfe,
Arjen Roodselaar, Tobias Rosenkranz, Huang Rui, Jan Egil Ruud, Denis
Rystsov, John Sanguinetti, Galen Seitz, Salman Sheikh, Hao Shi, Mike
Shinkarovsky, Rafael Shirakawa, Jeffrey Short, Anderson Ignacio Da Silva,
Rodney Sinclair, Steven Slatter, Brian Small, Garrett Smith, Tim Snyder,
Maciej Sobkowski, Stan Sokorac, Alex Solomatnikov, Wei Song, Art Stamness,
David Stanford, John Stevenson, Pete Stevenson, Patrick Stewart, Rob
Stoddard, Todd Strader, John Stroebel, Sven Stucki, Howard Su, Emerson
Suguimoto, Gene Sullivan, Qingyao Sun, Renga Sundararajan, Rupert
Swarbrick, Yutetsu Takatsukasa, Peter Tengstrand, Wesley Terpstra, Rui
Terra, Stefan Thiede, Gary Thomas, Ian Thompson, Kevin Thompson, Mike
Thyer, Hans Tichelaar, Viktor Tomov, Steve Tong, Michael Tresidder, Neil
Turton, Srini Vemuri, Yuri Victorovich, Bogdan Vukobratovic, Holger
Waechtler, Philipp Wagner, Stefan Wallentowitz, Shawn Wang, Paul Wasson,
Greg Waters, Thomas Watts, Eugene Weber, David Welch, Thomas J Whatson,
Marco Widmer, Leon Wildman, Daniel Wilkerson, Gerald Williams, Trevor
Williams, Jan Van Winkel, Jeff Winston, Joshua Wise, Clifford Wolf, Tobias
Wolfel, Johan Wouters, Junyi Xi, Ding Xiaoliang, Jie Xu, Mandy Xu,
Takatsukasa Y, Luke Yang, and Amir Yazdanbakhsh.
.PP
Thanks to them, and all those we've missed including above, or wished to
remain anonymous.
.SH "DISTRIBUTION"
.IX Header "DISTRIBUTION"
The latest version is available from <https://verilator.org>.
.PP
Copyright 2003\-2020 by Wilson Snyder. This program is free software; you can
redistribute it and/or modify the Verilator internals under the terms of
either the \s-1GNU\s0 Lesser General Public License Version 3 or the Perl Artistic
License Version 2.0.
.PP
All Verilog and \*(C+/SystemC code quoted within this documentation file are
released as Creative Commons Public Domain (\s-1CC0\s0).  Many example files and
test files are likewise released under \s-1CC0\s0 into effectively the Public
Domain as described in the files themselves.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
verilator_coverage, verilator_gantt, verilator_profcfunc, make,
.PP
\&\*(L"verilator \-\-help\*(R" which is the source for this document,
.PP
and docs/internals.adoc in the distribution.
